import{d as e,b as t,h as n,e as r,f as o,_ as i,a as u,c as a}from"./@babel_runtime@7.24.5.vhYC90HJ.js";import{c}from"./classnames@2.5.1.CB5yGgp2.js";import{R as l}from"./rc-resize-observer@1.4.0_react-dom@18.3.1_react@18.3.1.BV40rzn3.js";import{q as s,J as f,a as v,e as d}from"./rc-util@5.39.3_react-dom@18.3.1_react@18.3.1.BhGnBYz_.js";import{r as h}from"./react@18.3.1.BYZOCa2p.js";import"./react-is@18.3.1.D9jp0pkd.js";import{r as m}from"./react-dom@18.3.1_react@18.3.1.DSJXmJ_W.js";var g=h.forwardRef((function(r,o){var i=r.height,u=r.offsetY,a=r.offsetX,s=r.children,f=r.prefixCls,v=r.onInnerResize,d=r.innerProps,m=r.rtl,g=r.extra,p={},b={display:"flex",flexDirection:"column"};return void 0!==u&&(p={height:i,position:"relative",overflow:"hidden"},b=e(e({},b),{},t(t(t(t(t({transform:"translateY(".concat(u,"px)")},m?"marginRight":"marginLeft",-a),"position","absolute"),"left",0),"right",0),"top",0))),h.createElement("div",{style:p},h.createElement(l,{onResize:function(e){e.offsetHeight&&v&&v()}},h.createElement("div",n({style:b,className:c(t({},"".concat(f,"-holder-inner"),f)),ref:o},d),s,g)))}));function p(e){var t=e.children,n=e.setRef,r=h.useCallback((function(e){n(e)}),[]);return h.cloneElement(t,{ref:r})}function b(e,t,n){var o=h.useState(e),i=r(o,2),u=i[0],a=i[1],c=h.useState(null),l=r(c,2),s=l[0],f=l[1];return h.useEffect((function(){var n=function(e,t,n){var r,o,i=e.length,u=t.length;if(0===i&&0===u)return null;i<u?(r=e,o=t):(r=t,o=e);var a={__EMPTY_ITEM__:!0};function c(e){return void 0!==e?n(e):a}for(var l=null,s=1!==Math.abs(i-u),f=0;f<o.length;f+=1){var v=c(r[f]);if(v!==c(o[f])){l=f,s=s||v!==c(o[f+1]);break}}return null===l?null:{index:l,multiple:s}}(u||[],e||[],t);void 0!==(null==n?void 0:n.index)&&f(e[n.index]),a(e)}),[e]),[s]}g.displayName="Filler";var M="object"===("undefined"==typeof navigator?"undefined":o(navigator))&&/Firefox/i.test(navigator.userAgent);const R=function(e,t){var n=h.useRef(!1),r=h.useRef(null);var o=h.useRef({top:e,bottom:t});return o.current.top=e,o.current.bottom=t,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e<0&&o.current.top||e>0&&o.current.bottom;return t&&i?(clearTimeout(r.current),n.current=!1):i&&!n.current||(clearTimeout(r.current),n.current=!0,r.current=setTimeout((function(){n.current=!1}),50)),!n.current&&i}};function S(e,t,n,r,o){var i=h.useRef(0),u=h.useRef(null),a=h.useRef(null),c=h.useRef(!1),l=R(t,n);var f=h.useRef(null),v=h.useRef(null);return[function(t){if(e){s.cancel(v.current),v.current=s((function(){f.current=null}),2);var n=t.deltaX,d=t.deltaY,h=t.shiftKey,m=n,g=d;("sx"===f.current||!f.current&&h&&d&&!n)&&(m=d,g=0,f.current="sx");var p=Math.abs(m),b=Math.abs(g);null===f.current&&(f.current=r&&p>b?"x":"y"),"y"===f.current?function(e,t){s.cancel(u.current),i.current+=t,a.current=t,l(t)||(M||e.preventDefault(),u.current=s((function(){var e=c.current?10:1;o(i.current*e),i.current=0})))}(t,g):function(e,t){o(t,!0),M||e.preventDefault()}(t,m)}},function(t){e&&(c.current=t.detail===a.current)}]}var E=function(){function e(){u(this,e),t(this,"maps",void 0),t(this,"id",0),this.maps=Object.create(null)}return i(e,[{key:"set",value:function(e,t){this.maps[e]=t,this.id+=1}},{key:"get",value:function(e){return this.maps[e]}}]),e}();var w=14/15;var y=10;function x(e,t){return("touches"in e?e.touches[0]:e)[t?"pageX":"pageY"]}var L=h.forwardRef((function(n,o){var i=n.prefixCls,u=n.rtl,a=n.scrollOffset,l=n.scrollRange,f=n.onStartMove,v=n.onStopMove,d=n.onScroll,m=n.horizontal,g=n.spinSize,p=n.containerSize,b=n.style,M=n.thumbStyle,R=h.useState(!1),S=r(R,2),E=S[0],w=S[1],y=h.useState(null),L=r(y,2),H=L[0],z=L[1],T=h.useState(null),Y=r(T,2),N=Y[0],k=Y[1],D=!u,j=h.useRef(),_=h.useRef(),C=h.useState(!1),I=r(C,2),P=I[0],O=I[1],A=h.useRef(),X=function(){clearTimeout(A.current),O(!0),A.current=setTimeout((function(){O(!1)}),3e3)},K=l-p||0,B=p-g||0,V=h.useMemo((function(){return 0===a||0===K?0:a/K*B}),[a,K,B]),W=h.useRef({top:V,dragging:E,pageY:H,startTop:N});W.current={top:V,dragging:E,pageY:H,startTop:N};var F=function(e){w(!0),z(x(e,m)),k(W.current.top),f(),e.stopPropagation(),e.preventDefault()};h.useEffect((function(){var e=function(e){e.preventDefault()},t=j.current,n=_.current;return t.addEventListener("touchstart",e),n.addEventListener("touchstart",F),function(){t.removeEventListener("touchstart",e),n.removeEventListener("touchstart",F)}}),[]);var q=h.useRef();q.current=K;var J=h.useRef();J.current=B,h.useEffect((function(){if(E){var e,t=function(t){var n=W.current,r=n.dragging,o=n.pageY,i=n.startTop;if(s.cancel(e),r){var u=x(t,m)-o,a=i;!D&&m?a-=u:a+=u;var c=q.current,l=J.current,f=l?a/l:0,v=Math.ceil(f*c);v=Math.max(v,0),v=Math.min(v,c),e=s((function(){d(v,m)}))}},n=function(){w(!1),v()};return window.addEventListener("mousemove",t),window.addEventListener("touchmove",t),window.addEventListener("mouseup",n),window.addEventListener("touchend",n),function(){window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),s.cancel(e)}}}),[E]),h.useEffect((function(){X()}),[a]),h.useImperativeHandle(o,(function(){return{delayHidden:X}}));var G="".concat(i,"-scrollbar"),Q={position:"absolute",visibility:P?null:"hidden"},U={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return m?(Q.height=8,Q.left=0,Q.right=0,Q.bottom=0,U.height="100%",U.width=g,D?U.left=V:U.right=V):(Q.width=8,Q.top=0,Q.bottom=0,D?Q.right=0:Q.left=0,U.width="100%",U.height=g,U.top=V),h.createElement("div",{ref:j,className:c(G,t(t(t({},"".concat(G,"-horizontal"),m),"".concat(G,"-vertical"),!m),"".concat(G,"-visible"),P)),style:e(e({},Q),b),onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},onMouseMove:X},h.createElement("div",{ref:_,className:c("".concat(G,"-thumb"),t({},"".concat(G,"-thumb-moving"),E)),style:e(e({},U),M),onMouseDown:F}))})),H=20;function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)*e;return isNaN(t)&&(t=0),t=Math.max(t,H),Math.floor(t)}var T=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],Y=[],N={overflowY:"auto",overflowAnchor:"none"};function k(i,u){var M=i.prefixCls,x=void 0===M?"rc-virtual-list":M,H=i.className,k=i.height,D=i.itemHeight,j=i.fullHeight,_=void 0===j||j,C=i.style,I=i.data,P=i.children,O=i.itemKey,A=i.virtual,X=i.direction,K=i.scrollWidth,B=i.component,V=void 0===B?"div":B,W=i.onScroll,F=i.onVirtualScroll,q=i.onVisibleChange,J=i.innerProps,G=i.extraRender,Q=i.styles,U=a(i,T),Z=h.useCallback((function(e){return"function"==typeof O?O(e):null==e?void 0:e[O]}),[O]),$=function(e,t,n){var o=h.useState(0),i=r(o,2),u=i[0],a=i[1],c=h.useRef(new Map),l=h.useRef(new E),v=h.useRef();function d(){s.cancel(v.current)}function m(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];d();var t=function(){c.current.forEach((function(e,t){if(e&&e.offsetParent){var n=f(e),r=n.offsetHeight;l.current.get(t)!==r&&l.current.set(t,n.offsetHeight)}})),a((function(e){return e+1}))};e?t():v.current=s(t)}return h.useEffect((function(){return d}),[]),[function(t,n){var r=e(t);c.current.get(r),n?(c.current.set(r,n),m()):c.current.delete(r)},m,l.current,u]}(Z),ee=r($,4),te=ee[0],ne=ee[1],re=ee[2],oe=ee[3],ie=!(!1===A||!k||!D),ue=h.useMemo((function(){return Object.values(re.maps).reduce((function(e,t){return e+t}),0)}),[re.id,re.maps]),ae=ie&&I&&(Math.max(D*I.length,ue)>k||!!K),ce="rtl"===X,le=c(x,t({},"".concat(x,"-rtl"),ce),H),se=I||Y,fe=h.useRef(),ve=h.useRef(),de=h.useState(0),he=r(de,2),me=he[0],ge=he[1],pe=h.useState(0),be=r(pe,2),Me=be[0],Re=be[1],Se=h.useState(!1),Ee=r(Se,2),we=Ee[0],ye=Ee[1],xe=function(){ye(!0)},Le=function(){ye(!1)},He={getKey:Z};function ze(e){ge((function(t){var n=function(e){var t=e;Number.isNaN(qe.current)||(t=Math.min(t,qe.current));return t=Math.max(t,0),t}("function"==typeof e?e(t):e);return fe.current.scrollTop=n,n}))}var Te=h.useRef({start:0,end:se.length}),Ye=h.useRef(),Ne=b(se,Z),ke=r(Ne,1)[0];Ye.current=ke;var De=h.useMemo((function(){if(!ie)return{scrollHeight:void 0,start:0,end:se.length-1,offset:void 0};var e;if(!ae)return{scrollHeight:(null===(e=ve.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:se.length-1,offset:void 0};for(var t,n,r,o=0,i=se.length,u=0;u<i;u+=1){var a=se[u],c=Z(a),l=re.get(c),s=o+(void 0===l?D:l);s>=me&&void 0===t&&(t=u,n=o),s>me+k&&void 0===r&&(r=u),o=s}return void 0===t&&(t=0,n=0,r=Math.ceil(k/D)),void 0===r&&(r=se.length-1),{scrollHeight:o,start:t,end:r=Math.min(r+1,se.length-1),offset:n}}),[ae,ie,me,se,oe,k]),je=De.scrollHeight,_e=De.start,Ce=De.end,Ie=De.offset;Te.current.start=_e,Te.current.end=Ce;var Pe=h.useState({width:0,height:k}),Oe=r(Pe,2),Ae=Oe[0],Xe=Oe[1],Ke=h.useRef(),Be=h.useRef(),Ve=h.useMemo((function(){return z(Ae.width,K)}),[Ae.width,K]),We=h.useMemo((function(){return z(Ae.height,je)}),[Ae.height,je]),Fe=je-k,qe=h.useRef(Fe);qe.current=Fe;var Je=me<=0,Ge=me>=Fe,Qe=R(Je,Ge),Ue=function(){return{x:ce?-Me:Me,y:me}},Ze=h.useRef(Ue()),$e=d((function(t){if(F){var n=e(e({},Ue()),t);Ze.current.x===n.x&&Ze.current.y===n.y||(F(n),Ze.current=n)}}));function et(e,t){var n=e;t?(m.flushSync((function(){Re(n)})),$e()):ze(n)}var tt=function(e){var t=e,n=K?K-Ae.width:0;return t=Math.max(t,0),t=Math.min(t,n)},nt=d((function(e,t){t?(m.flushSync((function(){Re((function(t){return tt(t+(ce?-e:e))}))})),$e()):ze((function(t){return t+e}))})),rt=S(ie,Je,Ge,!!K,nt),ot=r(rt,2),it=ot[0],ut=ot[1];!function(e,t,n){var r,o=h.useRef(!1),i=h.useRef(0),u=h.useRef(null),a=h.useRef(null),c=function(e){if(o.current){var t=Math.ceil(e.touches[0].pageY),r=i.current-t;i.current=t,n(r)&&e.preventDefault(),clearInterval(a.current),a.current=setInterval((function(){(!n(r*=w,!0)||Math.abs(r)<=.1)&&clearInterval(a.current)}),16)}},l=function(){o.current=!1,r()},s=function(e){r(),1!==e.touches.length||o.current||(o.current=!0,i.current=Math.ceil(e.touches[0].pageY),u.current=e.target,u.current.addEventListener("touchmove",c),u.current.addEventListener("touchend",l))};r=function(){u.current&&(u.current.removeEventListener("touchmove",c),u.current.removeEventListener("touchend",l))},v((function(){return e&&t.current.addEventListener("touchstart",s),function(){var e;null===(e=t.current)||void 0===e||e.removeEventListener("touchstart",s),r(),clearInterval(a.current)}}),[e])}(ie,fe,(function(e,t){return!Qe(e,t)&&(it({preventDefault:function(){},deltaY:e}),!0)})),v((function(){function e(e){ie&&e.preventDefault()}var t=fe.current;return t.addEventListener("wheel",it),t.addEventListener("DOMMouseScroll",ut),t.addEventListener("MozMousePixelScroll",e),function(){t.removeEventListener("wheel",it),t.removeEventListener("DOMMouseScroll",ut),t.removeEventListener("MozMousePixelScroll",e)}}),[ie]),v((function(){if(K){var e=tt(Me);Re(e),$e({x:e})}}),[Ae.width,K]);var at=function(){var e,t;null===(e=Ke.current)||void 0===e||e.delayHidden(),null===(t=Be.current)||void 0===t||t.delayHidden()},ct=function(t,n,i,u,a,c,l,f){var d=h.useRef(),m=h.useState(null),g=r(m,2),p=g[0],b=g[1];return v((function(){if(p&&p.times<y){if(!t.current)return void b((function(t){return e({},t)}));c();var r=p.targetAlign,o=p.originAlign,s=p.index,f=p.offset,v=t.current.clientHeight,d=!1,h=r,m=null;if(v){for(var g=r||o,M=0,R=0,S=0,E=Math.min(n.length-1,s),w=0;w<=E;w+=1){var x=a(n[w]);R=M;var L=i.get(x);M=S=R+(void 0===L?u:L)}for(var H="top"===g?f:v-f,z=E;z>=0;z-=1){var T=a(n[z]),Y=i.get(T);if(void 0===Y){d=!0;break}if((H-=Y)<=0)break}switch(g){case"top":m=R-f;break;case"bottom":m=S-v+f;break;default:var N=t.current.scrollTop;R<N?h="top":S>N+v&&(h="bottom")}null!==m&&l(m),m!==p.lastTop&&(d=!0)}d&&b(e(e({},p),{},{times:p.times+1,targetAlign:h,lastTop:m}))}}),[p,t.current]),function(e){if(null!=e){if(s.cancel(d.current),"number"==typeof e)l(e);else if(e&&"object"===o(e)){var t,r=e.align;t="index"in e?e.index:n.findIndex((function(t){return a(t)===e.key}));var i=e.offset;b({times:0,index:t,offset:void 0===i?0:i,originAlign:r})}}else f()}}(fe,se,re,D,Z,(function(){return ne(!0)}),ze,at);h.useImperativeHandle(u,(function(){return{getScrollInfo:Ue,scrollTo:function(e){var t;(t=e)&&"object"===o(t)&&("left"in t||"top"in t)?(void 0!==e.left&&Re(tt(e.left)),ct(e.top)):ct(e)}}})),v((function(){if(q){var e=se.slice(_e,Ce+1);q(e,se)}}),[_e,Ce,se]);var lt=function(e,t,n,o){var i=h.useMemo((function(){return[new Map,[]]}),[e,n.id,o]),u=r(i,2),a=u[0],c=u[1];return function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,u=a.get(r),l=a.get(i);if(void 0===u||void 0===l)for(var s=e.length,f=c.length;f<s;f+=1){var v,d=e[f],h=t(d);a.set(h,f);var m=null!==(v=n.get(h))&&void 0!==v?v:o;if(c[f]=(c[f-1]||0)+m,h===r&&(u=f),h===i&&(l=f),void 0!==u&&void 0!==l)break}return{top:c[u-1]||0,bottom:c[l]}}}(se,Z,re,D),st=null==G?void 0:G({start:_e,end:Ce,virtual:ae,offsetX:Me,offsetY:Ie,rtl:ce,getSize:lt}),ft=function(e,t,n,r,o,i,u){var a=u.getKey;return e.slice(t,n+1).map((function(e,n){var u=i(e,t+n,{style:{width:r}}),c=a(e);return h.createElement(p,{key:c,setRef:function(t){return o(e,t)}},u)}))}(se,_e,Ce,K,te,P,He),vt=null;k&&(vt=e(t({},_?"height":"maxHeight",k),N),ie&&(vt.overflowY="hidden",K&&(vt.overflowX="hidden"),we&&(vt.pointerEvents="none")));var dt={};return ce&&(dt.dir="rtl"),h.createElement("div",n({style:e(e({},C),{},{position:"relative"}),className:le},dt,U),h.createElement(l,{onResize:function(e){Xe({width:e.width||e.offsetWidth,height:e.height||e.offsetHeight})}},h.createElement(V,{className:"".concat(x,"-holder"),style:vt,ref:fe,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==me&&ze(t),null==W||W(e),$e()},onMouseEnter:at},h.createElement(g,{prefixCls:x,height:je,offsetX:Me,offsetY:Ie,scrollWidth:K,onInnerResize:ne,ref:ve,innerProps:J,rtl:ce,extra:st},ft))),ae&&je>k&&h.createElement(L,{ref:Ke,prefixCls:x,scrollOffset:me,scrollRange:je,rtl:ce,onScroll:et,onStartMove:xe,onStopMove:Le,spinSize:We,containerSize:Ae.height,style:null==Q?void 0:Q.verticalScrollBar,thumbStyle:null==Q?void 0:Q.verticalScrollBarThumb}),ae&&K>Ae.width&&h.createElement(L,{ref:Be,prefixCls:x,scrollOffset:Me,scrollRange:K,rtl:ce,onScroll:et,onStartMove:xe,onStopMove:Le,spinSize:Ve,containerSize:Ae.width,horizontal:!0,style:null==Q?void 0:Q.horizontalScrollBar,thumbStyle:null==Q?void 0:Q.horizontalScrollBarThumb}))}var D=h.forwardRef(k);D.displayName="List";export{D as L};
