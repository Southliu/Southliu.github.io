import{c as e,d as n,g as t,b as r,e as o,h as i,q as l,r as a,a as u,_ as c,f as s}from"./@babel_runtime.d775819b.js";import{c as f}from"./classnames.71976509.js";import{F as d}from"./rc-overflow.08e2f92e.js";import{u as v,i as p,l as m,K as b,I as y,A as h,d as C,h as g,y as E,x as M}from"./rc-util.b2252098.js";import{r as I}from"./react.a7da97a2.js";import{r as w}from"./react-dom.cfbe57ec.js";import{T as K}from"./@rc-component_trigger.52678524.js";import{C as S}from"./rc-motion.477113fa.js";var k=I.createContext(null);function x(e,n){return void 0===e?null:"".concat(e,"-").concat(n)}function R(e){return x(I.useContext(k),e)}var P=["children","locked"],N=I.createContext(null);function D(t){var r=t.children,o=t.locked,i=e(t,P),l=I.useContext(N),a=v((function(){return e=i,t=n({},l),Object.keys(e).forEach((function(n){var r=e[n];void 0!==r&&(t[n]=r)})),t;var e,t}),[l,i],(function(e,n){return!(o||e[0]===n[0]&&p(e[1],n[1],!0))}));return I.createElement(N.Provider,{value:a},r)}var O=[],T=I.createContext(null);function A(){return I.useContext(T)}var L=I.createContext(O);function _(e){var n=I.useContext(L);return I.useMemo((function(){return void 0!==e?[].concat(t(n),[e]):n}),[n,e])}var j=I.createContext(null),z=I.createContext({}),V=b.LEFT,F=b.RIGHT,B=b.UP,q=b.DOWN,H=b.ENTER,W=b.ESC,G=b.HOME,U=b.END,X=[B,q,V,F];function Y(e,n){return y(e,!0).filter((function(e){return n.has(e)}))}function J(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var o=Y(e,n),i=o.length,l=o.findIndex((function(e){return t===e}));return r<0?-1===l?l=i-1:l-=1:r>0&&(l+=1),o[l=(l+i)%i]}function Q(e,n,t,o,i,l,a,u,c,s){var f=I.useRef(),d=I.useRef();d.current=n;var v=function(){m.cancel(f.current)};return I.useEffect((function(){return function(){v()}}),[]),function(p){var b=p.which;if([].concat(X,[H,W,G,U]).includes(b)){var y,h,C,g=function(){return y=new Set,h=new Map,C=new Map,l().forEach((function(e){var n=document.querySelector("[data-menu-id='".concat(x(o,e),"']"));n&&(y.add(n),C.set(n,e),h.set(e,n))})),y};g();var E=function(e,n){for(var t=e||document.activeElement;t;){if(n.has(t))return t;t=t.parentElement}return null}(h.get(n),y),M=C.get(E),I=function(e,n,t,o){var i,l,a,u,c="prev",s="next",f="children",d="parent";if("inline"===e&&o===H)return{inlineTrigger:!0};var v=(r(i={},B,c),r(i,q,s),i),p=(r(l={},V,t?s:c),r(l,F,t?c:s),r(l,q,f),r(l,H,f),l),m=(r(a={},B,c),r(a,q,s),r(a,H,f),r(a,W,d),r(a,V,t?f:d),r(a,F,t?d:f),a);switch(null===(u={inline:v,horizontal:p,vertical:m,inlineSub:v,horizontalSub:m,verticalSub:m}["".concat(e).concat(n?"":"Sub")])||void 0===u?void 0:u[o]){case c:return{offset:-1,sibling:!0};case s:return{offset:1,sibling:!0};case d:return{offset:-1,sibling:!1};case f:return{offset:1,sibling:!1};default:return null}}(e,1===a(M,!0).length,t,b);if(!I&&b!==G&&b!==U)return;(X.includes(b)||[G,U].includes(b))&&p.preventDefault();var w=function(e){if(e){var n=e,t=e.querySelector("a");null!=t&&t.getAttribute("href")&&(n=t);var r=C.get(e);u(r),v(),f.current=m((function(){d.current===r&&n.focus()}))}};if([G,U].includes(b)||I.sibling||!E){var K,S,k=Y(K=E&&"inline"!==e?function(e){for(var n=e;n;){if(n.getAttribute("data-menu-list"))return n;n=n.parentElement}return null}(E):i.current,y);S=b===G?k[0]:b===U?k[k.length-1]:J(K,y,E,I.offset),w(S)}else if(I.inlineTrigger)c(M);else if(I.offset>0)c(M,!0),v(),f.current=m((function(){g();var e=E.getAttribute("aria-controls"),n=J(document.getElementById(e),y);w(n)}),5);else if(I.offset<0){var R=a(M,!0),P=R[R.length-2],N=h.get(P);c(P,!1),w(N)}}null==s||s(p)}}var Z="__RC_UTIL_PATH_SPLIT__",$=function(e){return e.join(Z)},ee="rc-menu-more";function ne(){var e=I.useState({}),n=o(e,2)[1],r=I.useRef(new Map),i=I.useRef(new Map),l=I.useState([]),a=o(l,2),u=a[0],c=a[1],s=I.useRef(0),f=I.useRef(!1),d=I.useCallback((function(e,t){var o=$(t);i.current.set(o,e),r.current.set(e,o),s.current+=1;var l,a=s.current;l=function(){a===s.current&&(f.current||n({}))},Promise.resolve().then(l)}),[]),v=I.useCallback((function(e,n){var t=$(n);i.current.delete(t),r.current.delete(e)}),[]),p=I.useCallback((function(e){c(e)}),[]),m=I.useCallback((function(e,n){var t=r.current.get(e)||"",o=t.split(Z);return n&&u.includes(o[0])&&o.unshift(ee),o}),[u]),b=I.useCallback((function(e,n){return e.some((function(e){return m(e,!0).includes(n)}))}),[m]),y=I.useCallback((function(e){var n="".concat(r.current.get(e)).concat(Z),o=new Set;return t(i.current.keys()).forEach((function(e){e.startsWith(n)&&o.add(i.current.get(e))})),o}),[]);return I.useEffect((function(){return function(){f.current=!0}}),[]),{registerPath:d,unregisterPath:v,refreshOverflowKeys:p,isSubPathKey:b,getKeyPath:m,getKeys:function(){var e=t(r.current.keys());return u.length&&e.push(ee),e},getSubPathKeys:y}}function te(e){var n=I.useRef(e);n.current=e;var t=I.useCallback((function(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return null===(e=n.current)||void 0===e?void 0:e.call.apply(e,[n].concat(r))}),[]);return e?t:void 0}var re=Math.random().toFixed(5).toString().slice(2),oe=0;function ie(e,n,t,r){var o=I.useContext(N),i=o.activeKey,l=o.onActive,a=o.onInactive,u={active:i===e};return n||(u.onMouseEnter=function(n){null==t||t({key:e,domEvent:n}),l(e)},u.onMouseLeave=function(n){null==r||r({key:e,domEvent:n}),a(e)}),u}function le(e){var n=I.useContext(N),t=n.mode,r=n.rtl,o=n.inlineIndent;if("inline"!==t)return null;return r?{paddingRight:e*o}:{paddingLeft:e*o}}function ae(e){var t=e.icon,r=e.props,o=e.children;return("function"==typeof t?I.createElement(t,n({},r)):t)||o||null}var ue=["item"];function ce(n){var t=n.item,r=e(n,ue);return Object.defineProperty(r,"item",{get:function(){return C(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),r}var se=["title","attribute","elementRef"],fe=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],de=["active"],ve=function(n){l(r,n);var t=a(r);function r(){return u(this,r),t.apply(this,arguments)}return c(r,[{key:"render",value:function(){var n=this.props,t=n.title,r=n.attribute,o=n.elementRef,l=e(n,se),a=E(l,["eventKey","popupClassName","popupOffset","onTitleClick"]);return C(!r,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),I.createElement(d.Item,i({},r,{title:"string"==typeof t?t:void 0},a,{ref:o}))}}]),r}(I.Component),pe=I.forwardRef((function(o,l){var a,u=o.style,c=o.className,s=o.eventKey;o.warnKey;var d=o.disabled,v=o.itemIcon,p=o.children,m=o.role,y=o.onMouseEnter,h=o.onMouseLeave,C=o.onClick,E=o.onKeyDown,M=o.onFocus,w=e(o,fe),K=R(s),S=I.useContext(N),k=S.prefixCls,x=S.onItemClick,P=S.disabled,D=S.overflowDisabled,O=S.itemIcon,T=S.selectedKeys,A=S.onActive,L=I.useContext(z)._internalRenderMenuItem,j="".concat(k,"-item"),V=I.useRef(),F=I.useRef(),B=P||d,q=g(l,F),H=_(s),W=function(e){return{key:s,keyPath:t(H).reverse(),item:V.current,domEvent:e}},G=v||O,U=ie(s,B,y,h),X=U.active,Y=e(U,de),J=T.includes(s),Q=le(H.length),Z={};"option"===o.role&&(Z["aria-selected"]=J);var $=I.createElement(ve,i({ref:V,elementRef:q,role:null===m?"none":m||"menuitem",tabIndex:d?null:-1,"data-menu-id":D&&K?null:K},w,Y,Z,{component:"li","aria-disabled":d,style:n(n({},Q),u),className:f(j,(a={},r(a,"".concat(j,"-active"),X),r(a,"".concat(j,"-selected"),J),r(a,"".concat(j,"-disabled"),B),a),c),onClick:function(e){if(!B){var n=W(e);null==C||C(ce(n)),x(n)}},onKeyDown:function(e){if(null==E||E(e),e.which===b.ENTER){var n=W(e);null==C||C(ce(n)),x(n)}},onFocus:function(e){A(s),null==M||M(e)}}),p,I.createElement(ae,{props:n(n({},o),{},{isSelected:J}),icon:G}));return L&&($=L($,o,{selected:J})),$}));function me(e,n){var t=e.eventKey,r=A(),o=_(t);return I.useEffect((function(){if(r)return r.registerPath(t,o),function(){r.unregisterPath(t,o)}}),[o]),r?null:I.createElement(pe,i({},e,{ref:n}))}const be=I.forwardRef(me);var ye=["className","children"],he=function(n,t){var r=n.className,o=n.children,l=e(n,ye),a=I.useContext(N),u=a.prefixCls,c=a.mode,s=a.rtl;return I.createElement("ul",i({className:f(u,s&&"".concat(u,"-rtl"),"".concat(u,"-sub"),"".concat(u,"-").concat("inline"===c?"inline":"vertical"),r),role:"menu"},l,{"data-menu-list":!0,ref:t}),o)},Ce=I.forwardRef(he);function ge(e,n){return M(e).map((function(e,r){if(I.isValidElement(e)){var o,i,l=e.key,a=null!==(o=null===(i=e.props)||void 0===i?void 0:i.eventKey)&&void 0!==o?o:l;null==a&&(a="tmp_key-".concat([].concat(t(n),[r]).join("-")));var u={key:a,eventKey:a};return I.cloneElement(e,u)}return e}))}Ce.displayName="SubMenuList";var Ee={adjustX:1,adjustY:1},Me={topLeft:{points:["bl","tl"],overflow:Ee},topRight:{points:["br","tr"],overflow:Ee},bottomLeft:{points:["tl","bl"],overflow:Ee},bottomRight:{points:["tr","br"],overflow:Ee},leftTop:{points:["tr","tl"],overflow:Ee},leftBottom:{points:["br","bl"],overflow:Ee},rightTop:{points:["tl","tr"],overflow:Ee},rightBottom:{points:["bl","br"],overflow:Ee}},Ie={topLeft:{points:["bl","tl"],overflow:Ee},topRight:{points:["br","tr"],overflow:Ee},bottomLeft:{points:["tl","bl"],overflow:Ee},bottomRight:{points:["tr","br"],overflow:Ee},rightTop:{points:["tr","tl"],overflow:Ee},rightBottom:{points:["br","bl"],overflow:Ee},leftTop:{points:["tl","tr"],overflow:Ee},leftBottom:{points:["bl","br"],overflow:Ee}};function we(e,n,t){return n||(t?t[e]||t.other:void 0)}var Ke={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function Se(e){var t=e.prefixCls,i=e.visible,l=e.children,a=e.popup,u=e.popupClassName,c=e.popupOffset,s=e.disabled,d=e.mode,v=e.onVisibleChange,p=I.useContext(N),b=p.getPopupContainer,y=p.rtl,h=p.subMenuOpenDelay,C=p.subMenuCloseDelay,g=p.builtinPlacements,E=p.triggerSubMenuAction,M=p.forceSubMenuRender,w=p.rootClassName,S=p.motion,k=p.defaultMotions,x=I.useState(!1),R=o(x,2),P=R[0],D=R[1],O=n(n({},y?Ie:Me),g),T=Ke[d],A=we(d,S,k),L=I.useRef(A);"inline"!==d&&(L.current=A);var _=n(n({},L.current),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),j=I.useRef();return I.useEffect((function(){return j.current=m((function(){D(i)})),function(){m.cancel(j.current)}}),[i]),I.createElement(K,{prefixCls:t,popupClassName:f("".concat(t,"-popup"),r({},"".concat(t,"-rtl"),y),u,w),stretch:"horizontal"===d?"minWidth":null,getPopupContainer:b,builtinPlacements:O,popupPlacement:T,popupVisible:P,popup:a,popupAlign:c&&{offset:c},action:s?[]:[E],mouseEnterDelay:h,mouseLeaveDelay:C,onPopupVisibleChange:v,forceRender:M,popupMotion:_},l)}function ke(e){var t=e.id,r=e.open,l=e.keyPath,a=e.children,u="inline",c=I.useContext(N),s=c.prefixCls,f=c.forceSubMenuRender,d=c.motion,v=c.defaultMotions,p=c.mode,m=I.useRef(!1);m.current=p===u;var b=I.useState(!m.current),y=o(b,2),h=y[0],C=y[1],g=!!m.current&&r;I.useEffect((function(){m.current&&C(!1)}),[p]);var E=n({},we(u,d,v));l.length>1&&(E.motionAppear=!1);var M=E.onVisibleChanged;return E.onVisibleChanged=function(e){return m.current||e||C(!0),null==M?void 0:M(e)},h?null:I.createElement(D,{mode:u,locked:!m.current},I.createElement(S,i({visible:g},E,{forceRender:f,removeOnLeave:!1,leavedClassName:"".concat(s,"-hidden")}),(function(e){var n=e.className,r=e.style;return I.createElement(Ce,{id:t,className:n,style:r},a)})))}var xe=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],Re=["active"],Pe=function(t){var l,a=t.style,u=t.className,c=t.title,s=t.eventKey;t.warnKey;var v=t.disabled,p=t.internalPopupClose,m=t.children,b=t.itemIcon,y=t.expandIcon,h=t.popupClassName,C=t.popupOffset,g=t.onClick,E=t.onMouseEnter,M=t.onMouseLeave,w=t.onTitleClick,K=t.onTitleMouseEnter,S=t.onTitleMouseLeave,k=e(t,xe),x=R(s),P=I.useContext(N),O=P.prefixCls,T=P.mode,A=P.openKeys,L=P.disabled,V=P.overflowDisabled,F=P.activeKey,B=P.selectedKeys,q=P.itemIcon,H=P.expandIcon,W=P.onItemClick,G=P.onOpenChange,U=P.onActive,X=I.useContext(z)._internalRenderSubMenuItem,Y=I.useContext(j).isSubPathKey,J=_(),Q="".concat(O,"-submenu"),Z=L||v,$=I.useRef(),ee=I.useRef(),ne=b||q,re=y||H,oe=A.includes(s),ue=!V&&oe,se=Y(B,s),fe=ie(s,Z,K,S),de=fe.active,ve=e(fe,Re),pe=I.useState(!1),me=o(pe,2),be=me[0],ye=me[1],he=function(e){Z||ye(e)},ge=I.useMemo((function(){return de||"inline"!==T&&(be||Y([F],s))}),[T,de,F,be,s,Y]),Ee=le(J.length),Me=te((function(e){null==g||g(ce(e)),W(e)})),Ie=x&&"".concat(x,"-popup"),we=I.createElement("div",i({role:"menuitem",style:Ee,className:"".concat(Q,"-title"),tabIndex:Z?null:-1,ref:$,title:"string"==typeof c?c:null,"data-menu-id":V&&x?null:x,"aria-expanded":ue,"aria-haspopup":!0,"aria-controls":Ie,"aria-disabled":Z,onClick:function(e){Z||(null==w||w({key:s,domEvent:e}),"inline"===T&&G(s,!oe))},onFocus:function(){U(s)}},ve),c,I.createElement(ae,{icon:"horizontal"!==T?re:null,props:n(n({},t),{},{isOpen:ue,isSubMenu:!0})},I.createElement("i",{className:"".concat(Q,"-arrow")}))),Ke=I.useRef(T);if("inline"!==T&&J.length>1?Ke.current="vertical":Ke.current=T,!V){var Pe=Ke.current;we=I.createElement(Se,{mode:Pe,prefixCls:Q,visible:!p&&ue&&"inline"!==T,popupClassName:h,popupOffset:C,popup:I.createElement(D,{mode:"horizontal"===Pe?"vertical":Pe},I.createElement(Ce,{id:Ie,ref:ee},m)),disabled:Z,onVisibleChange:function(e){"inline"!==T&&G(s,e)}},we)}var Ne=I.createElement(d.Item,i({role:"none"},k,{component:"li",style:a,className:f(Q,"".concat(Q,"-").concat(T),u,(l={},r(l,"".concat(Q,"-open"),ue),r(l,"".concat(Q,"-active"),ge),r(l,"".concat(Q,"-selected"),se),r(l,"".concat(Q,"-disabled"),Z),l)),onMouseEnter:function(e){he(!0),null==E||E({key:s,domEvent:e})},onMouseLeave:function(e){he(!1),null==M||M({key:s,domEvent:e})}}),we,!V&&I.createElement(ke,{id:Ie,open:ue,keyPath:J},m));return X&&(Ne=X(Ne,t,{selected:se,active:ge,open:ue,disabled:Z})),I.createElement(D,{onItemClick:Me,mode:"horizontal"===T?"vertical":T,itemIcon:ne,expandIcon:re},Ne)};function Ne(e){var n,t=e.eventKey,r=e.children,o=_(t),i=ge(r,o),l=A();return I.useEffect((function(){if(l)return l.registerPath(t,o),function(){l.unregisterPath(t,o)}}),[o]),n=l?i:I.createElement(Pe,e,i),I.createElement(L.Provider,{value:o},n)}var De=["className","title","eventKey","children"],Oe=["children"],Te=function(n){var t=n.className,r=n.title;n.eventKey;var o=n.children,l=e(n,De),a=I.useContext(N).prefixCls,u="".concat(a,"-item-group");return I.createElement("li",i({role:"presentation"},l,{onClick:function(e){return e.stopPropagation()},className:f(u,t)}),I.createElement("div",{role:"presentation",className:"".concat(u,"-title"),title:"string"==typeof r?r:void 0},r),I.createElement("ul",{role:"group",className:"".concat(u,"-list")},o))};function Ae(n){var t=n.children,r=e(n,Oe),o=ge(t,_(r.eventKey));return A()?o:I.createElement(Te,E(r,["warnKey"]),o)}function Le(e){var n=e.className,t=e.style,r=I.useContext(N).prefixCls;return A()?null:I.createElement("li",{className:f("".concat(r,"-item-divider"),n),style:t})}var _e=["label","children","key","type"];function je(n){return(n||[]).map((function(n,t){if(n&&"object"===s(n)){var r=n,o=r.label,l=r.children,a=r.key,u=r.type,c=e(r,_e),f=null!=a?a:"tmp-".concat(t);return l||"group"===u?"group"===u?I.createElement(Ae,i({key:f},c,{title:o}),je(l)):I.createElement(Ne,i({key:f},c,{title:o}),je(l)):"divider"===u?I.createElement(Le,i({key:f},c)):I.createElement(be,i({key:f},c),o)}return null})).filter((function(e){return e}))}function ze(e,n,t){var r=e;return n&&(r=je(n)),ge(r,t)}var Ve=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],Fe=[],Be=I.forwardRef((function(l,a){var u,c,s=l,v=s.prefixCls,m=void 0===v?"rc-menu":v,b=s.rootClassName,y=s.style,C=s.className,g=s.tabIndex,E=void 0===g?0:g,M=s.items,K=s.children,S=s.direction,R=s.id,P=s.mode,N=void 0===P?"vertical":P,O=s.inlineCollapsed,A=s.disabled,L=s.disabledOverflow,_=s.subMenuOpenDelay,V=void 0===_?.1:_,F=s.subMenuCloseDelay,B=void 0===F?.1:F,q=s.forceSubMenuRender,H=s.defaultOpenKeys,W=s.openKeys,G=s.activeKey,U=s.defaultActiveFirst,X=s.selectable,Y=void 0===X||X,J=s.multiple,Z=void 0!==J&&J,$=s.defaultSelectedKeys,ie=s.selectedKeys,le=s.onSelect,ae=s.onDeselect,ue=s.inlineIndent,se=void 0===ue?24:ue,fe=s.motion,de=s.defaultMotions,ve=s.triggerSubMenuAction,pe=void 0===ve?"hover":ve,me=s.builtinPlacements,ye=s.itemIcon,he=s.expandIcon,Ce=s.overflowedIndicator,ge=void 0===Ce?"...":Ce,Ee=s.overflowedIndicatorPopupClassName,Me=s.getPopupContainer,Ie=s.onClick,we=s.onOpenChange,Ke=s.onKeyDown;s.openAnimation,s.openTransitionName;var Se=s._internalRenderMenuItem,ke=s._internalRenderSubMenuItem,xe=e(s,Ve),Re=I.useMemo((function(){return ze(K,M,Fe)}),[K,M]),Pe=I.useState(!1),De=o(Pe,2),Oe=De[0],Te=De[1],Ae=I.useRef(),Le=function(e){var n=h(e,{value:e}),t=o(n,2),r=t[0],i=t[1];return I.useEffect((function(){oe+=1;var e="".concat(re,"-").concat(oe);i("rc-menu-uuid-".concat(e))}),[]),r}(R),_e="rtl"===S,je=h(H,{value:W,postState:function(e){return e||Fe}}),Be=o(je,2),qe=Be[0],He=Be[1],We=function(e){function n(){He(e),null==we||we(e)}arguments.length>1&&void 0!==arguments[1]&&arguments[1]?w.flushSync(n):n()},Ge=I.useState(qe),Ue=o(Ge,2),Xe=Ue[0],Ye=Ue[1],Je=I.useRef(!1),Qe=I.useMemo((function(){return"inline"!==N&&"vertical"!==N||!O?[N,!1]:["vertical",O]}),[N,O]),Ze=o(Qe,2),$e=Ze[0],en=Ze[1],nn="inline"===$e,tn=I.useState($e),rn=o(tn,2),on=rn[0],ln=rn[1],an=I.useState(en),un=o(an,2),cn=un[0],sn=un[1];I.useEffect((function(){ln($e),sn(en),Je.current&&(nn?He(Xe):We(Fe))}),[$e,en]);var fn=I.useState(0),dn=o(fn,2),vn=dn[0],pn=dn[1],mn=vn>=Re.length-1||"horizontal"!==on||L;I.useEffect((function(){nn&&Ye(qe)}),[qe]),I.useEffect((function(){return Je.current=!0,function(){Je.current=!1}}),[]);var bn=ne(),yn=bn.registerPath,hn=bn.unregisterPath,Cn=bn.refreshOverflowKeys,gn=bn.isSubPathKey,En=bn.getKeyPath,Mn=bn.getKeys,In=bn.getSubPathKeys,wn=I.useMemo((function(){return{registerPath:yn,unregisterPath:hn}}),[yn,hn]),Kn=I.useMemo((function(){return{isSubPathKey:gn}}),[gn]);I.useEffect((function(){Cn(mn?Fe:Re.slice(vn+1).map((function(e){return e.key})))}),[vn,mn]);var Sn=h(G||U&&(null===(u=Re[0])||void 0===u?void 0:u.key),{value:G}),kn=o(Sn,2),xn=kn[0],Rn=kn[1],Pn=te((function(e){Rn(e)})),Nn=te((function(){Rn(void 0)}));I.useImperativeHandle(a,(function(){return{list:Ae.current,focus:function(e){var n,t,r,o,i=null!=xn?xn:null===(n=Re.find((function(e){return!e.props.disabled})))||void 0===n?void 0:n.key;i&&(null===(t=Ae.current)||void 0===t||null===(r=t.querySelector("li[data-menu-id='".concat(x(Le,i),"']")))||void 0===r||null===(o=r.focus)||void 0===o||o.call(r,e))}}}));var Dn=h($||[],{value:ie,postState:function(e){return Array.isArray(e)?e:null==e?Fe:[e]}}),On=o(Dn,2),Tn=On[0],An=On[1],Ln=te((function(e){null==Ie||Ie(ce(e)),function(e){if(Y){var r,o=e.key,i=Tn.includes(o);r=Z?i?Tn.filter((function(e){return e!==o})):[].concat(t(Tn),[o]):[o],An(r);var l=n(n({},e),{},{selectedKeys:r});i?null==ae||ae(l):null==le||le(l)}!Z&&qe.length&&"inline"!==on&&We(Fe)}(e)})),_n=te((function(e,n){var t=qe.filter((function(n){return n!==e}));if(n)t.push(e);else if("inline"!==on){var r=In(e);t=t.filter((function(e){return!r.has(e)}))}p(qe,t,!0)||We(t,!0)})),jn=Q(on,xn,_e,Le,Ae,Mn,En,Rn,(function(e,n){var t=null!=n?n:!qe.includes(e);_n(e,t)}),Ke);I.useEffect((function(){Te(!0)}),[]);var zn=I.useMemo((function(){return{_internalRenderMenuItem:Se,_internalRenderSubMenuItem:ke}}),[Se,ke]),Vn="horizontal"!==on||L?Re:Re.map((function(e,n){return I.createElement(D,{key:e.key,overflowDisabled:n>vn},e)})),Fn=I.createElement(d,i({id:R,ref:Ae,prefixCls:"".concat(m,"-overflow"),component:"ul",itemComponent:be,className:f(m,"".concat(m,"-root"),"".concat(m,"-").concat(on),C,(c={},r(c,"".concat(m,"-inline-collapsed"),cn),r(c,"".concat(m,"-rtl"),_e),c),b),dir:S,style:y,role:"menu",tabIndex:E,data:Vn,renderRawItem:function(e){return e},renderRawRest:function(e){var n=e.length,t=n?Re.slice(-n):null;return I.createElement(Ne,{eventKey:ee,title:ge,disabled:mn,internalPopupClose:0===n,popupClassName:Ee},t)},maxCount:"horizontal"!==on||L?d.INVALIDATE:d.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){pn(e)},onKeyDown:jn},xe));return I.createElement(z.Provider,{value:zn},I.createElement(k.Provider,{value:Le},I.createElement(D,{prefixCls:m,rootClassName:b,mode:on,openKeys:qe,rtl:_e,disabled:A,motion:Oe?fe:null,defaultMotions:Oe?de:null,activeKey:xn,onActive:Pn,onInactive:Nn,selectedKeys:Tn,inlineIndent:se,subMenuOpenDelay:V,subMenuCloseDelay:B,forceSubMenuRender:q,builtinPlacements:me,triggerSubMenuAction:pe,getPopupContainer:Me,itemIcon:ye,expandIcon:he,onItemClick:Ln,onOpenChange:_n},I.createElement(j.Provider,{value:Kn},Fn),I.createElement("div",{style:{display:"none"},"aria-hidden":!0},I.createElement(T.Provider,{value:wn},Re)))))}));Be.Item=be,Be.SubMenu=Ne,Be.ItemGroup=Ae,Be.Divider=Le;export{Le as D,Be as E,be as M,Ne as S,Ae as a,_ as u};
