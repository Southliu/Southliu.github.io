{"version":3,"file":"page_dashboard_index.b325fdda.js","sources":["../../../src/servers/dashboard/index.ts","../../../src/pages/dashboard/index.tsx"],"sourcesContent":["import type { IServerResult } from '#/public'\nimport { request } from '@/utils/request'\n\n/**\n * 获取数据总览数据\n * @param data - 请求数据\n */\nexport function getDataTrends(data: object) {\n  return request.get<IServerResult>('/dashboard', { params: data })\n}\n","import type { IFormData } from '#/form'\nimport { useCallback, useEffect, useState } from 'react'\nimport { getDataTrends } from '@/servers/dashboard'\nimport { searchList } from './model'\nimport { useTitle } from '@/hooks/useTitle'\nimport BasicSearch from '@/components/Search/BasicSearch'\nimport BasicContent from '@/components/Content/BasicContent'\nimport Line from './components/Line'\nimport Bar from './components/Bar'\nimport Block from './components/Block'\n\n// 初始化搜索\nconst initSearch = {\n  pay_date: ['2022-10-19', '2022-10-29']\n}\n\nfunction Dashboard() {\n  useTitle('数据展览')\n  const [isLoading, setLoading] = useState(false)\n\n  /**\n   * 搜索提交\n   * @param values - 表单返回数据\n   */\n  const handleSearch = useCallback(async (values: IFormData) => {\n    // 数据转换\n    values.all_pay = values.all_pay ? 1 : undefined\n\n    const query = { ...values }\n    try {\n      setLoading(true)\n      await getDataTrends(query)\n    } finally {\n      setLoading(false)\n    }\n  }, [])\n\n  useEffect(() => {\n    handleSearch(initSearch)\n  }, [handleSearch])\n\n  return (\n    <BasicContent isPermission={true}>\n      <>\n        <BasicSearch\n          list={searchList}\n          data={initSearch}\n          isLoading={isLoading}\n          isCreate={false}\n          handleFinish={handleSearch}\n        />\n\n        <div className='py-10px'>\n          <Block />\n        </div>\n\n        <div className='flex justify-between w-full'>\n          <Line />\n          <Bar />\n        </div>\n      </>\n    </BasicContent>\n  )\n}\n\nexport default Dashboard"],"names":["getDataTrends","data","request","initSearch","Dashboard","useTitle","isLoading","setLoading","useState","handleSearch","useCallback","values","query","useEffect","jsx","BasicContent","jsxs","Fragment","BasicSearch","searchList","Block","Line","Bar"],"mappings":"siBAOO,SAASA,EAAcC,EAAc,CAC1C,OAAOC,EAAQ,IAAmB,aAAc,CAAE,OAAQD,EAAM,CAClE,CCGA,MAAME,EAAa,CACjB,SAAU,CAAC,aAAc,YAAY,CACvC,EAEA,SAASC,GAAY,CACnBC,EAAS,MAAM,EACf,KAAM,CAACC,EAAWC,CAAU,EAAIC,WAAS,EAAK,EAMxCC,EAAeC,cAAY,MAAOC,GAAsB,CAErDA,EAAA,QAAUA,EAAO,QAAU,EAAI,OAEhC,MAAAC,EAAQ,CAAE,GAAGD,GACf,GAAA,CACFJ,EAAW,EAAI,EACf,MAAMP,EAAcY,CAAK,CAAA,QACzB,CACAL,EAAW,EAAK,CAClB,CACF,EAAG,CAAE,CAAA,EAELM,OAAAA,EAAAA,UAAU,IAAM,CACdJ,EAAaN,CAAU,CAAA,EACtB,CAACM,CAAY,CAAC,EAGdK,EAAAC,EAAA,CAAa,aAAc,GAC1B,SACEC,EAAAC,EAAA,CAAA,SAAA,CAAAH,EAACI,EAAA,CACC,KAAMC,EACN,KAAMhB,EACN,UAAAG,EACA,SAAU,GACV,aAAcG,CAAA,CAChB,IAEC,MAAI,CAAA,UAAU,UACb,SAAAK,EAACM,GAAM,CAAA,EACT,EAEAJ,EAAC,MAAI,CAAA,UAAU,8BACb,SAAA,CAAAF,EAACO,EAAK,EAAA,IACLC,EAAI,EAAA,CAAA,EACP,CAAA,CACF,CAAA,CACF,CAAA,CAEJ"}