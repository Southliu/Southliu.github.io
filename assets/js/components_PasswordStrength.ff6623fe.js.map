{"version":3,"file":"components_PasswordStrength.ff6623fe.js","sources":["../../../src/components/PasswordStrength/components/StrengthBar.tsx","../../../src/components/PasswordStrength/index.tsx"],"sourcesContent":["interface IProps {\n  strength: number;\n}\n\nconst arr = new Array(5).fill(0).map((_, index) => index + 1)\n\nfunction StrengthBar(props: IProps) {\n  const { strength } = props\n\n  return (\n    <div className=\"flex items-center\">\n      {\n        arr.map(item => (\n          <div\n            key={item}\n            className={`\n              w-19%\n              h-5px\n              mt-5px\n              mr-1%\n              rounded-10px\n              bg-light-900\n              ${item <= strength && strength > 3 ? '!bg-green-400' : ''}\n              ${item <= strength && strength === 3 ? '!bg-yellow-400' : ''}\n              ${item <= strength && strength < 3 ? '!bg-red-400' : ''}\n            `}\n          ></div>\n        ))\n      }\n    </div>\n  )\n}\n\nexport default StrengthBar","import type { InputProps } from 'antd'\nimport { useEffect, useState } from 'react'\nimport { PLEASE_ENTER } from '@/utils/config'\nimport { useDebounceFn } from 'ahooks'\nimport { Input } from 'antd'\nimport StrengthBar from './components/StrengthBar'\n\n/**\n * @description: 密码强度组件\n */\nfunction PasswordStrength(props: InputProps) {\n  const { value } = props\n  const [strength, setStrength] = useState(0)\n\n  /**\n   * 密码强度判断\n   * @param value - 值\n   */\n  const handleStrength = useDebounceFn((value: string) => {\n    if (!value) return\n    let level = 0\n    if (/\\d/.test(value)) level++ // 有数字强度加1\n    if (/[a-z]/.test(value)) level++ // 有小写字母强度加1\n    if (/[A-Z]/.test(value)) level++ // 有大写字母强度加1\n    if (value.length > 10) level++ // 长度大于10强度加1\n    if (/[\\.\\~\\@\\#\\$\\^\\&\\*]/.test(value)) level++ // 有以下特殊字符强度加1\n    setStrength(level)\n  }, { wait: 500 })\n\n  // 监听传入值变化\n  useEffect(() => {\n    handleStrength.run(value as string)\n  }, [handleStrength, value])\n\n  return (\n    <>\n      <Input.Password\n        value={value}\n        allowClear={true}\n        placeholder={PLEASE_ENTER}\n        autoComplete=\"password\"\n        {...props}\n        onChange={e => {\n          props.onChange?.(e)\n          handleStrength.run(e.target.value)\n        }}\n      />\n\n      {\n        !!strength &&\n        <StrengthBar strength={strength} />\n      }\n    </>\n  )\n}\n\nexport default PasswordStrength"],"names":["arr","_","index","StrengthBar","props","strength","item","jsx","PasswordStrength","value","setStrength","useState","handleStrength","useDebounceFn","level","useEffect","jsxs","Fragment","Input","PLEASE_ENTER","_a"],"mappings":"gPAIA,MAAMA,EAAM,IAAI,MAAM,CAAC,EAAE,KAAK,CAAC,EAAE,IAAI,CAACC,EAAGC,IAAUA,EAAQ,CAAC,EAE5D,SAASC,EAAYC,EAAe,CAC5B,KAAA,CAAE,SAAAC,CAAa,EAAAD,EAErB,SACG,MAAI,CAAA,UAAU,oBAEX,SAAAJ,EAAI,IACFM,GAAAC,EAAC,MAAA,CAEC,UAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAOPD,GAAQD,GAAYA,EAAW,EAAI,gBAAkB;AAAA,gBACrDC,GAAQD,GAAYA,IAAa,EAAI,iBAAmB;AAAA,gBACxDC,GAAQD,GAAYA,EAAW,EAAI,cAAgB;AAAA,aAAA,EAVlDC,CAaR,CAAA,CAEL,CAAA,CAEJ,CCrBA,SAASE,EAAiBJ,EAAmB,CACrC,KAAA,CAAE,MAAAK,CAAU,EAAAL,EACZ,CAACC,EAAUK,CAAW,EAAIC,WAAS,CAAC,EAMpCC,EAAiBC,EAAeJ,GAAkB,CACtD,GAAI,CAACA,EAAO,OACZ,IAAIK,EAAQ,EACR,KAAK,KAAKL,CAAK,GAAGK,IAClB,QAAQ,KAAKL,CAAK,GAAGK,IACrB,QAAQ,KAAKL,CAAK,GAAGK,IACrBL,EAAM,OAAS,IAAIK,IACnB,qBAAqB,KAAKL,CAAK,GAAGK,IACtCJ,EAAYI,CAAK,CAAA,EAChB,CAAE,KAAM,GAAA,CAAK,EAGhBC,OAAAA,EAAAA,UAAU,IAAM,CACdH,EAAe,IAAIH,CAAe,CAAA,EACjC,CAACG,EAAgBH,CAAK,CAAC,EAItBO,EAAAC,EAAA,CAAA,SAAA,CAAAV,EAACW,EAAM,SAAN,CACC,MAAAT,EACA,WAAY,GACZ,YAAaU,EACb,aAAa,WACZ,GAAGf,EACJ,SAAe,GAAA,QACbgB,EAAAhB,EAAM,WAAN,MAAAgB,EAAA,KAAAhB,EAAiB,GACFQ,EAAA,IAAI,EAAE,OAAO,KAAK,CACnC,CAAA,CACF,EAGE,CAAC,CAACP,GACFE,EAACJ,GAAY,SAAAE,CAAoB,CAAA,CAErC,CAAA,CAAA,CAEJ"}