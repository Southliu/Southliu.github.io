import{r as e,j as l}from"./react@18.3.1.zIIbIvjs.js";import{h as s,b as a,c as i}from"./BasicCard.Bi0Ec1SP.js";import{u as r}from"./react-i18next@14.1.1_i18next@23.11.4_react-dom@18.3.1_react@18.3.1.ZIWL9Uwt.js";import{F as t,g as n,f as o,c as d}from"./antd@5.19.1_react-dom@18.3.1_react@18.3.1.DznZxYdA.js";import{h as c,Y as h,i as m}from"./@ant-design_icons@5.3.7_react-dom@18.3.1_react@18.3.1.CrktrV8c.js";const p=e.forwardRef(((p,u)=>{var f;const{list:x,data:j,isLoading:b,isSearch:C=!0,isClear:w=!0,isRowExpand:g=!0,children:v,labelCol:F,wrapperCol:y,defaultColCount:_=4,defaultRowExpand:N=2,handleFinish:S}=p,{t:E}=r(),[I]=t.useForm(),[R,k]=e.useState(!1),[B,L]=e.useState(g);e.useEffect((()=>{if(L(g),g){L(_*N<x.length)}}),[_,N,g,x.length]);const M={...p};delete M.isSearch,delete M.isClear,delete M.isLoading,delete M.handleFinish;const V=()=>{null==I||I.submit()};return l.jsx("div",{id:"searches",children:l.jsx(t,{layout:"inline",...M,ref:u,form:I,labelCol:F||{span:8},wrapperCol:y||{span:16},initialValues:j,onFinish:e=>{if(S){const l=i(e,x);null==S||S(l)}},onFinishFailed:e=>{},autoComplete:"off",children:l.jsxs(n,{wrap:!0,className:"w-full",children:[null==(f=(e=>{if(!B)return e;const l=_*N;for(let s=0;s<e.length;s++){const a=e[s];s<l?a.hidden=!1:a.hidden=!R}return e})(x))?void 0:f.map((e=>l.jsx("div",{style:{width:e.hidden?0:100/_+"%"},children:l.jsx(t.Item,{label:e.label,name:e.name,className:"!mb-5px",hidden:e.hidden,labelCol:{style:{width:e.labelCol}},wrapperCol:{style:{width:e.wrapperCol}},rules:e.rules,valuePropName:s(e.component),children:a(E,e,V)})},`${e.name}`))),l.jsx(o,{flex:(null==x?void 0:x.length)%_==0||B?"auto":void 0,children:l.jsx(n,{justify:"flex-end",children:l.jsxs("div",{className:"flex items-center flex-wrap",children:[!!C&&l.jsx(t.Item,{children:l.jsx(d,{type:"primary",htmlType:"submit",className:"!mb-5px",loading:b,icon:l.jsx(c,{}),children:E("public.search")})}),!!w&&l.jsx(t.Item,{children:l.jsx(d,{className:"!mb-5px",icon:l.jsx(h,{}),onClick:()=>{null==I||I.resetFields(),null==I||I.setFieldsValue(j?{...j}:{}),null==I||I.submit()},children:E("public.clear")})}),v,!!B&&l.jsxs("div",{className:"text-12px cursor-pointer color-#1677ff hover:color-#69b1ff",onClick:()=>{k(!R)},children:[l.jsx(m,{rotate:R?180:0}),R?"收缩":"展开"]})]})})})]})})})}));export{p as B};
