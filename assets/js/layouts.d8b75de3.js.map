{"version":3,"file":"layouts.d8b75de3.js","sources":["../../../src/servers/login/index.ts","../../../src/stores/user.ts","../../../src/utils/permissions.ts","../../../src/assets/images/logo.svg","../../../src/servers/permissions/index.ts","../../../src/layouts/components/Menu.tsx","../../../src/assets/images/avatar.png","../../../src/layouts/components/UpdatePassword.tsx","../../../src/layouts/components/Nav.tsx","../../../src/layouts/components/Header.tsx","../../../src/layouts/hooks/useDropdownMenu.tsx","../../../src/layouts/components/TabRefresh.tsx","../../../src/layouts/components/TabMaximize.tsx","../../../src/layouts/components/TabOptions.tsx","../../../src/layouts/components/Tabs.tsx","../../../src/layouts/index.tsx"],"sourcesContent":["import type { ILoginData, ILoginResult } from '@/pages/login/model'\nimport type { IServerResult } from '#/public'\nimport { request } from '@/utils/request'\n\n/**\n * 登录\n * @param data - 请求数据\n */\nexport function login(data: ILoginData) {\n  return request.post<IServerResult<ILoginResult>>('/login', data)\n}\n\n/**\n * 修改密码\n * @param data - 请求数据\n */\nexport function updatePassword(data: unknown) {\n  return request.post<IServerResult>('/update-password', data)\n}","import { createSlice } from '@reduxjs/toolkit'\n\nexport const userSlice = createSlice({\n  name: 'user',\n  initialState: {\n    // 用户权限\n    permissions: [],\n    // 用户信息\n    userInfo: {\n      id: 0,\n      username: '',\n      email: '',\n      phone: ''\n    }\n  },\n  reducers: {\n    /** 设置用户信息 */\n    setUserInfo: (state, action) => {\n      state.userInfo = action.payload\n    },\n    /** 设置权限 */\n    setPermissions: (state, action) => {\n      state.permissions = action.payload\n    },\n    /** 清除用户信息 */\n    clearInfo: (state) => {\n      state.userInfo = {\n        id: 0,\n        username: '',\n        email: '',\n        phone: ''\n      }\n    }\n  }\n})\n\nexport const {\n  setUserInfo,\n  setPermissions,\n  clearInfo\n} = userSlice.actions\n\nexport default userSlice.reducer","import type { IPermissions } from \"@/pages/login/model\"\n\n/**\n * 授权参数转字符串数组\n * @param permissions - 授权值\n */\nexport const permissionsToArray = (permissions: IPermissions[]): string[] => {\n  const res: string[] = []\n  for (let i = 0; i < permissions.length; i++) {\n    const { id, operation } = permissions[i]\n    res.push(`/${id}`)\n    for (let y = 0; y < operation.length; y++) {\n      res.push(`/${id}/${operation[y]}`)\n    }\n  }\n  return res\n}\n\n/**\n * 检测是否有权限\n * @param value - 检测值\n * @param permissions - 权限\n */\nexport const checkPermission = (value: string, permissions: string[]): boolean => {\n  if (!permissions || permissions.length === 0) return false\n  return permissions.includes(value)\n}\n","export default \"__VITE_ASSET__c2b3a5f0__\"","import type { ILoginResult } from '@/pages/login/model'\nimport type { IServerResult } from '#/public'\nimport { request } from '@/utils/request'\n\n/**\n * 权限\n * @param data - 请求数据\n */\nexport function getPermissions(data: unknown) {\n  return request.get<IServerResult<ILoginResult>>(\n    '/authority/user/refresh-permissions',\n    { params: data }\n  )\n}\n","import type { MenuProps } from 'antd'\nimport type { ISideMenu } from '#/public'\nimport type { AppDispatch } from '@/stores'\nimport { useEffect, useState } from 'react'\nimport { Menu } from 'antd'\nimport { RootState } from '@/stores'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { defaultMenus } from '@/menus'\nimport { useNavigate, useLocation } from 'react-router-dom'\nimport { addTabs, setNav, setActiveKey } from '@/stores/tabs'\nimport { setOpenKeys, setSelectedKeys, toggleCollapsed } from '@/stores/menu'\nimport {\n  filterMenus,\n  getFirstMenu,\n  getMenuByKey,\n  getOpenMenuByRouter,\n  splitPath\n} from '@/menus/utils/helper'\nimport styles from '../index.module.less'\nimport Logo from '@/assets/images/logo.svg'\n\nfunction LayoutMenu() {\n  const navigate = useNavigate()\n  const { pathname } = useLocation()\n  const dispatch: AppDispatch = useDispatch()\n  const [menus, setMenus] = useState<ISideMenu[]>([])\n  const selectedKeys = useSelector((state: RootState) => state.menu.selectedKeys)\n  const openKeys = useSelector((state: RootState) => state.menu.openKeys)\n  // 是否窗口最大化\n  const isMaximize = useSelector((state: RootState) => state.tabs.isMaximize)\n  // 菜单是否收缩\n  const isCollapsed = useSelector((state: RootState) => state.menu.isCollapsed)\n  // 是否手机端\n  const isPhone = useSelector((state: RootState) => state.menu.isPhone)\n  // 权限\n  const permissions = useSelector((state: RootState) => state.user.permissions)\n\n  // 处理默认展开\n  useEffect(() => {\n    const newOpenKey = getOpenMenuByRouter(pathname)\n    if (!isPhone && !isCollapsed) {\n      dispatch(setOpenKeys(newOpenKey))\n      dispatch(setSelectedKeys(pathname))\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [pathname])\n\n  // 过滤没权限菜单\n  useEffect(() => {\n    if (permissions.length > 0) {\n      const newMenus = filterMenus(defaultMenus, permissions)\n      setMenus(newMenus || [])\n    }\n  }, [permissions])\n\n  /**\n   * 处理跳转\n   * @param path - 路径\n   */\n  const goPath = (path: string) => {\n    navigate(path)\n    const menuByKeyProps = { menus, permissions, key: path }\n    const newTab = getMenuByKey(menuByKeyProps)\n    if (newTab) {\n      dispatch(setActiveKey(newTab.key))\n      dispatch(setNav(newTab.nav))\n      dispatch(addTabs(newTab))\n    }\n  }\n\n  /** \n   * 点击菜单\n   * @param e - 菜单事件\n   */\n  const onClick: MenuProps['onClick'] = e => {\n    goPath(e.key)\n    if (isPhone) hiddenMenu()\n  }\n\n  /**\n   * 对比当前展开目录是否是同一层级\n   * @param arr - 当前展开目录\n   * @param lastArr - 最后展开的目录\n   */\n  const diffOpenMenu = (arr: string[], lastArr: string[]) => {\n    let result = true\n\n    for (let j = 0; j < arr.length; j++) {\n      if (arr[j] !== lastArr[j]) {\n        result = false\n        break\n      }\n    }\n\n    return result\n  }\n\n  /**\n   * 展开/关闭回调\n   * @param openKeys - 展开键值\n   */\n  const onOpenChange = (openKeys: string[]) => {\n    const newOpenKey: string[] = []\n    let last = '' // 最后一个目录结构\n\n    // 当目录有展开值\n    if (openKeys.length > 0) {\n      last = openKeys[openKeys.length - 1]\n      const lastArr: string[] = splitPath(last)\n      newOpenKey.push(last)\n\n      // 对比当前展开目录是否是同一层级\n      for (let i = openKeys.length - 2; i >= 0; i--) {\n        const arr = splitPath(openKeys[i])\n        const hasOpenKey = diffOpenMenu(arr, lastArr)\n        if (hasOpenKey) newOpenKey.unshift(openKeys[i])\n      }\n    }\n\n    dispatch(setOpenKeys(newOpenKey))\n  }\n\n  /** 点击logo */\n  const onClickLogo = () => {\n    const firstMenu = getFirstMenu(menus, permissions)\n    goPath(firstMenu)\n    if (isPhone) hiddenMenu()\n  }\n\n  /** 隐藏菜单 */\n  const hiddenMenu = () => {\n    dispatch(toggleCollapsed(true))\n  }\n\n  return (\n    <>\n      <div \n        className={`\n          transition-all\n          overflow-auto\n          z-2\n          ${styles.menu}\n          ${isCollapsed ? styles.menuClose : ''}\n          ${isMaximize || (isPhone && isCollapsed) ? styles.menuNone : ''}\n          ${isPhone ? '!z-1002' : ''}\n        `}\n      >\n        <div\n          className={`\n            text-white\n            flex\n            content-center\n            px-5\n            py-2\n            cursor-pointer\n            ${isCollapsed ? 'justify-center' : ''}\n          `}\n          onClick={onClickLogo}\n        >\n          <img\n            src={Logo}\n            width={30}\n            height={30}\n            className=\"object-contain\"\n            alt=\"logo\"\n          />\n          \n          <span className={`\n            text-white\n            ml-3\n            text-xl\n            font-bold\n            truncate\n            ${isCollapsed ? 'hidden' : ''}\n          `}>\n            后台管理系统\n          </span>\n        </div>\n\n        <Menu\n          className=\"z-1000\"\n          selectedKeys={[selectedKeys]}\n          openKeys={openKeys}\n          mode=\"inline\"\n          theme=\"dark\"\n          inlineCollapsed={isCollapsed}\n          items={menus}\n          onClick={onClick}\n          onOpenChange={onOpenChange}\n        />\n      </div>\n\n      {\n        isPhone && !isCollapsed &&\n        <div\n          className={`${styles.cover} fixed w-full h-full bg-gray-500 bg-opacity-10 z-1001`}\n          onClick={hiddenMenu}\n        />\n      }\n    </>\n  )\n}\n\nexport default LayoutMenu","export default \"data:image/png;base64,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\"","import type { FormProps } from 'antd/es/form/Form'\nimport { Ref, useImperativeHandle } from 'react'\nimport { useState } from 'react'\nimport { Form, Input, message } from 'antd'\nimport { PLEASE_ENTER } from '@/utils/config'\nimport { updatePassword } from '@/servers/login'\nimport BasicModal from '@/components/Modal/BasicModal'\nimport PasswordStrength from '@/components/PasswordStrength'\n\nexport interface IPasswordModal {\n  open: () => void;\n}\n\ninterface IProps {\n  passwordRef: Ref<IPasswordModal>;\n}\n\nfunction UpdatePassword(props: IProps) {\n  const { passwordRef } = props\n  const [form] = Form.useForm()\n  const [isOpen, setOpen] = useState(false)\n  const [isLoading, setLoading] = useState(false)\n\n  // 抛出外部方法\n  useImperativeHandle(\n    passwordRef,\n    () => ({\n      open: () => {\n        setOpen(true)\n      }\n    })\n  )\n\n  /** 点击模态框确定 */\n  const onOk = () => {\n    form.submit()\n  }\n\n  /**\n   * 提交表单\n   * @param values - 表单值\n   */\n  const onFinish: FormProps['onFinish'] = async values => {\n    // 当密码和确认密码不同时则提示错误\n    if (values.password !== values.confirmPassword) {\n      return message.warning({\n        content: \"密码和确认密码不相同!\",\n        key: 'confirmPassword'\n      })\n    }\n    try {\n      setLoading(true)\n      const { data } = await updatePassword(values)\n      if (data.code === 200) {\n        setOpen(false)\n        message.success(data.message)\n      }\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <BasicModal\n      title=\"修改密码\"\n      open={isOpen}\n      confirmLoading={isLoading}\n      onOk={onOk}\n      onCancel={() => setOpen(false)}\n    >\n      <Form\n        name=\"UpdatePassword\"\n        form={form}\n        labelCol={{ span: 5 }}\n        wrapperCol={{ span: 16 }}\n        onFinish={onFinish}\n        autoComplete=\"off\"\n      >\n        <Form.Item\n          label=\"用户名\"\n          name=\"username\"\n          rules={[{ required: true, message: '请输入用户名!' }]}\n        >\n          <Input placeholder={PLEASE_ENTER} />\n        </Form.Item>\n\n        <Form.Item\n          label=\"密码\"\n          name=\"password\"\n          rules={[{ required: true, message: '请输入密码!' }]}\n        >\n          <PasswordStrength />\n        </Form.Item>\n\n        <Form.Item\n          label=\"确认密码\"\n          name=\"confirmPassword\"\n          rules={[{ required: true, message: '请输入确认密码!' }]}\n        >\n          <PasswordStrength />\n        </Form.Item>\n      </Form>\n    </BasicModal>\n  )\n}\n\nexport default UpdatePassword","import type { RootState } from '@/stores'\nimport { Breadcrumb } from 'antd'\nimport { useSelector } from 'react-redux'\n\nconst { Item } = Breadcrumb\n\ninterface IProps {\n  className?: string;\n  list: string[];\n}\n\nfunction Nav(props: IProps) {\n  const { className, list } = props\n  \n  // 是否手机端\n  const isPhone = useSelector((state: RootState) => state.menu.isPhone)\n\n  return (\n    <>\n      {\n        !isPhone &&\n        <div className={`${className} flex items-center`}>\n          <Breadcrumb>\n            {\n              list?.map(item => (\n                <Item\n                  key={item}\n                  className='whitespace-nowrap'\n                >\n                  { item }\n                </Item>\n              ))\n            }\n          </Breadcrumb>\n        </div>\n      }\n    </>\n  )\n}\n\nexport default Nav","import type { AppDispatch, RootState } from '@/stores'\nimport type { IPasswordModal } from './UpdatePassword'\nimport { useRef } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useAliveController } from 'react-activation'\nimport { toggleCollapsed } from '@/stores/menu'\nimport { useNavigate } from 'react-router-dom'\nimport { useToken } from '@/hooks/useToken'\nimport { clearInfo } from '@/stores/user'\nimport { closeAllTab, setActiveKey } from '@/stores/tabs'\nimport { Modal, Dropdown, MenuProps } from 'antd'\nimport {\n  MenuFoldOutlined,\n  MenuUnfoldOutlined,\n  LogoutOutlined,\n  FormOutlined,\n  ExclamationCircleOutlined\n} from '@ant-design/icons'\nimport Avatar from '@/assets/images/avatar.png'\nimport styles from '../index.module.less'\nimport Fullscreen from '@/components/Fullscreen'\nimport GlobalSearch from '@/components/GlobalSearch'\nimport DataScreen from '@/components/DataScreen'\nimport Theme from '@/components/Theme'\nimport UpdatePassword from './UpdatePassword'\nimport Nav from './Nav'\n\ntype IMenuKey = 'password' | 'logout'\n\nfunction Header() {\n  const isCollapsed = useSelector((state: RootState) => state.menu.isCollapsed)\n  const username = useSelector((state: RootState) => state.user.userInfo.username)\n  const dispatch: AppDispatch = useDispatch()\n  const navigate = useNavigate()\n  const [, , removeToken] = useToken()\n  const { clear } = useAliveController()\n  // 是否窗口最大化\n  const isMaximize = useSelector((state: RootState) => state.tabs.isMaximize)\n  const nav = useSelector((state: RootState) => state.tabs.nav)\n  const passwordRef = useRef<IPasswordModal>(null)\n\n  // 下拉菜单内容\n  const items: MenuProps['items'] = [\n    {\n      key: 'password',\n      label: (<span>修改密码</span>),\n      icon: <FormOutlined className=\"mr-1\" />,\n    },\n    {\n      key: 'logout',\n      label: (<span>退出登录</span>),\n      icon: <LogoutOutlined className=\"mr-1\" />,\n    },\n  ]\n\n  /** 点击菜单 */\n  const onClick: MenuProps['onClick'] = e => {\n    switch (e.key as IMenuKey) {\n      case 'password':\n        passwordRef.current?.open()\n        break\n\n      case 'logout':\n        handleLogout()\n        break\n\n      default:\n        break\n    }\n  }\n\n  /** 退出登录 */\n  const handleLogout = () => {\n    Modal.confirm({\n      title: '温馨提示',\n      icon: <ExclamationCircleOutlined />,\n      content: '是否确定退出系统?',\n      onOk() {\n        dispatch(clearInfo())\n        dispatch(closeAllTab())\n        dispatch(setActiveKey(''))\n        removeToken()\n        clear() // 清除keepalive缓存\n        navigate('/login')\n      }\n    })\n  }\n\n  /** 右侧组件抽离减少重复渲染 */\n  const RightRender = () => {\n    return (\n      <div className=\"flex items-center\">\n        <DataScreen />\n        <GlobalSearch />\n        <Fullscreen />\n        <Theme />\n        <Dropdown\n          className=\"min-w-50px\"\n          menu={{ items, onClick }}\n        >\n          <div\n            className=\"ant-dropdown-link flex items-center cursor-pointer\"\n            onClick={e => e.preventDefault()}\n          >\n            <img\n              src={Avatar}\n              width={27}\n              height={27}\n              alt=\"头像\"\n              className=\"rounded-1/2 overflow-hidden object-cover bg-light-500\"\n            />\n            <span className=\"ml-2 text-15px min-w-50px truncate\">\n              { username || 'south-admin' }\n            </span>\n          </div>\n        </Dropdown>\n      </div>\n    )\n  }\n\n  /** icon渲染 */\n  const IconRender = () => {\n    return (\n      <div\n        className=\"text-lg cursor-pointer\"\n        onClick={() => dispatch(toggleCollapsed(!isCollapsed))}\n      >\n        { isCollapsed && <MenuUnfoldOutlined /> }\n        { !isCollapsed && <MenuFoldOutlined /> }\n      </div>\n    )\n  }\n\n  return (\n    <>\n      <header\n        className={`\n          border-bottom\n          flex\n          items-center\n          justify-between\n          px-6\n          py-6px\n          box-border\n          transition-all\n          ${styles.headerDriver}\n          ${isMaximize ? styles.none : ''}\n        `}\n      >\n        <div className=\"flex item-center\">\n          <IconRender />\n\n          <Nav\n            className=\"ml-15px\"\n            list={nav}\n          />\n        </div>\n        \n        <RightRender />\n      </header>\n\n      <UpdatePassword passwordRef={passwordRef} />\n    </>\n  )\n}\n\nexport default Header","import type { MenuProps } from 'antd'\nimport type { AppDispatch, RootState } from '@/stores'\nimport { useLocation, useNavigate } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport {\n  closeLeft,\n  closeOther,\n  closeRight,\n  closeTabs,\n  setNav\n} from '@/stores/tabs'\nimport {\n  RedoOutlined,\n  CloseOutlined,\n  VerticalAlignTopOutlined,\n  VerticalAlignMiddleOutlined\n} from '@ant-design/icons'\nimport { defaultMenus } from '@/menus'\nimport { getMenuByKey } from '@/menus/utils/helper'\n\nenum ITabEnums {\n  REFRESH = 'refresh', // 重新加载\n  CLOSE_CURRENT = 'close_current', // 关闭当前\n  CLOSE_OTHER = 'close_other', // 关闭其他\n  CLOSE_LEFT = 'close_left', // 关闭左侧\n  CLOSE_RIGHT = 'close_right' // 关闭右侧\n}\n\ninterface IProps {\n  activeKey: string;\n  onOpenChange?: (open: boolean) => void;\n  handleRefresh: (activeKey: string) => void;\n}\n\nexport function useDropdownMenu(props: IProps) {\n  const { activeKey, onOpenChange, handleRefresh } = props\n  const { pathname } = useLocation()\n  const navigate = useNavigate()\n  const dispatch: AppDispatch = useDispatch()\n  const tabs = useSelector((state: RootState) => state.tabs.tabs)\n  const permissions = useSelector((state: RootState) => state.user.permissions)\n\n  // 菜单项\n  const items: (key?: string) => MenuProps['items'] = (key = activeKey) => {\n    const index = tabs.findIndex(item => item.key === key)\n    return [\n      {\n        key: ITabEnums.REFRESH,\n        label: '重新加载',\n        disabled: key !== pathname,\n        icon: <RedoOutlined className=\"mr-5px transform rotate-270\" />\n      },\n      {\n        key: ITabEnums.CLOSE_CURRENT,\n        label: '关闭标签',\n        disabled: tabs.length <= 1,\n        icon: <CloseOutlined className=\"mr-5px\" />\n      },\n      {\n        key: ITabEnums.CLOSE_OTHER,\n        label: '关闭其他',\n        disabled: tabs.length <= 1,\n        icon: <VerticalAlignMiddleOutlined className=\"mr-5px transform rotate-90\" />\n      },\n      {\n        key: ITabEnums.CLOSE_LEFT,\n        label: '关闭左侧',\n        disabled: index === 0,\n        icon: <VerticalAlignTopOutlined className=\"mr-5px transform rotate-270\" />\n      },\n      {\n        key: ITabEnums.CLOSE_RIGHT,\n        label: '关闭右侧',\n        disabled: index === tabs.length - 1,\n        icon: <VerticalAlignTopOutlined className=\"mr-5px transform rotate-90\" />\n      }\n    ]\n  }\n\n  /** 点击菜单 */\n  const onClick = (type: string, key = activeKey) => {\n    // 复原箭头\n    onOpenChange?.(false)\n\n    switch (type) {\n      // 重新加载\n      case ITabEnums.REFRESH:\n        handleRefresh(key)\n        break\n\n      // 关闭当前\n      case ITabEnums.CLOSE_CURRENT:\n        dispatch(closeTabs(key))\n        break\n\n      // 关闭其他\n      case ITabEnums.CLOSE_OTHER:\n        dispatch(closeOther(key))\n        break\n\n      // 关闭左侧\n      case ITabEnums.CLOSE_LEFT:\n        dispatch(closeLeft(key))\n        if (pathname !== key) {\n          const menuByKeyProps = {\n            menus: defaultMenus,\n            permissions,\n            key\n          }\n          const newItems = getMenuByKey(menuByKeyProps)\n          if (newItems?.key) {\n            navigate(key)\n            dispatch(setNav(newItems.nav))\n          }\n        }\n        break\n\n      // 关闭右侧\n      case ITabEnums.CLOSE_RIGHT:\n        dispatch(closeRight(key))\n        if (pathname !== key) {\n          const menuByKeyProps = {\n            menus: defaultMenus,\n            permissions,\n            key\n          }\n          const newItems = getMenuByKey(menuByKeyProps)\n          if (newItems?.key) {\n            navigate(key)\n            dispatch(setNav(newItems.nav))\n          }\n        }\n        break\n\n      default:\n        break\n    }\n  }\n\n  return [items, onClick] as const\n}\n","import { Tooltip } from 'antd'\nimport { Icon } from '@iconify/react'\n\ninterface IProps {\n  isRefresh: boolean;\n  onClick: () => void;\n}\n\nfunction TabRefresh(props: IProps) {\n  const { isRefresh, onClick } = props\n\n  return (\n    <Tooltip title=\"重新加载\" placement=\"bottom\">\n      <Icon\n        className={`\n          change\n          flex\n          items-center\n          justify-center\n          text-lg\n          cursor-pointer\n          ${isRefresh ? 'animate-spin pointer-events-none' : ''}\n        `}\n        onClick={() => onClick()}\n        icon=\"ant-design:reload-outlined\"\n      />\n    </Tooltip>\n  )\n}\n\nexport default TabRefresh","import type { AppDispatch, RootState } from '@/stores'\nimport { Tooltip } from 'antd'\nimport { Icon } from '@iconify/react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { toggleMaximize } from '@/stores/tabs'\n\nfunction TabMaximize() {\n  const dispatch: AppDispatch = useDispatch()\n  // 是否窗口最大化\n  const isMaximize = useSelector((state: RootState) => state.tabs.isMaximize)\n\n  /** 点击最大化/最小化 */\n  const onClick = () => {\n    dispatch(toggleMaximize(!isMaximize))\n  }\n\n  return (\n    <Tooltip\n      title={ isMaximize ? \"最小化\" : \"最大化\"}\n      placement=\"bottom\"\n    >\n      <Icon\n        className={`\n          flex\n          items-center\n          justify-center\n          text-lg\n          cursor-pointer\n        `}\n        icon={ isMaximize ? \"ant-design:compress-outlined\" : \"ant-design:expand-outlined\" }\n        onClick={onClick}\n      />\n    </Tooltip>\n  )\n}\n\nexport default TabMaximize","import { useState } from 'react'\nimport { Dropdown } from 'antd'\nimport { Icon } from '@iconify/react'\nimport { useDropdownMenu } from '../hooks/useDropdownMenu'\n\ninterface IProps {\n  activeKey: string;\n  handleRefresh: (activeKey: string) => void;\n}\n\nfunction TabOptions(props: IProps) {\n  const { activeKey, handleRefresh } = props\n  const [isOpen, setOpen] = useState(false)\n\n  /**\n   * 菜单显示变化\n   * @param open - 显示值\n   */\n  const onOpenChange = (open: boolean) => {\n    setOpen(open)\n  }\n\n  // 下拉菜单\n  const dropdownMenuParams = { activeKey, onOpenChange, handleRefresh }\n  const [items, onClick] = useDropdownMenu(dropdownMenuParams)\n\n  return (\n    <Dropdown\n      trigger={['click']}\n      menu={{\n        items: items(),\n        onClick: e => onClick(e.key)\n      }}\n      onOpenChange={onOpenChange}\n    >\n      <Icon\n        className={`\n          flex\n          items-center\n          justify-center\n          text-lg\n          cursor-pointer\n          transition-all\n          transform\n          ${isOpen ? 'rotate-180' : 'rotate-0'}\n        `}\n        icon=\"ant-design:down-outlined\"\n      />\n    </Dropdown>\n  )\n}\n\nexport default TabOptions","import type { TabsProps } from 'antd'\nimport type { AppDispatch, RootState } from '@/stores'\nimport { useCallback, useEffect, useMemo, useState } from 'react'\nimport { getMenuByKey } from '@/menus/utils/helper'\nimport { defaultMenus } from '@/menus'\nimport { message, Tabs, Dropdown } from 'antd'\nimport { useLocation, useNavigate } from 'react-router-dom'\nimport { useAliveController } from 'react-activation'\nimport { useDropdownMenu } from '../hooks/useDropdownMenu'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { setRefresh } from '@/stores/public'\nimport {\n  setActiveKey,\n  addTabs,\n  closeTabs,\n  setNav,\n  toggleLock\n} from '@/stores/tabs'\nimport styles from '../index.module.less'\nimport TabRefresh from './TabRefresh'\nimport TabMaximize from './TabMaximize'\nimport TabOptions from './TabOptions'\n\nfunction LayoutTabs() {\n  const navigate = useNavigate()\n  const { pathname, search } = useLocation()\n  const uri = pathname + search\n  const dispatch: AppDispatch = useDispatch()\n  const { refresh } = useAliveController()\n  const [time, setTime] = useState<null | NodeJS.Timeout>(null)\n  const [refreshTime, seRefreshTime] = useState<null | NodeJS.Timeout>(null)\n\n  const tabs = useSelector((state: RootState) => state.tabs.tabs)\n  const isLock = useSelector((state: RootState) => state.tabs.isLock)\n  const activeKey = useSelector((state: RootState) => state.tabs.activeKey)\n  const permissions = useSelector((state: RootState) => state.user.permissions)\n  // 是否窗口最大化\n  const isMaximize = useSelector((state: RootState) => state.tabs.isMaximize)\n\n  /**\n   * 添加标签\n   * @param path - 路径\n   */\n  const handleAddTab = useCallback((path = uri) => {\n    // 当值为空时匹配路由\n    if (permissions.length > 0) {\n      if (path === '/') return\n      const menuByKeyProps = {\n        menus: defaultMenus,\n        permissions,\n        key: path\n      }\n      const newItems = getMenuByKey(menuByKeyProps)\n      if (newItems?.key) {\n        dispatch(setActiveKey(newItems.key))\n        dispatch(setNav(newItems.nav))\n        dispatch(addTabs(newItems))\n      } else {\n        dispatch(setActiveKey(path))\n      }\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [permissions])\n\n  useEffect(() => {\n    handleAddTab()\n  }, [handleAddTab])\n\n  useEffect(() => {\n    return () => {\n      if (time) {\n        clearTimeout(time)\n        setTime(null)\n      }\n\n      if (refreshTime) {\n        clearTimeout(refreshTime)\n        seRefreshTime(null)\n      }\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  useEffect(() => {\n    // 当选中贴标签不等于当前路由则跳转\n    if (activeKey !== uri) {\n      const key = isLock ? activeKey : uri\n      handleAddTab(key)\n\n      if (isLock) {\n        navigate(key)\n        dispatch(toggleLock(false))\n      }\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [activeKey, uri])\n    \n  /** \n   * 处理更改\n   * @param key - 唯一值\n   */\n  const onChange = (key: string) => {\n    navigate(key)\n  }\n\n  /** \n   * 删除标签\n   * @param targetKey - 目标key值\n   */\n  const remove = (targetKey: string) => {\n    dispatch(closeTabs(targetKey))\n  }\n\n  /** \n   * 处理编辑\n   * @param targetKey - 目标key值\n   * @param action - 动作\n   */\n  const onEdit: TabsProps['onEdit'] = (targetKey, action) => {\n    if (action === 'remove') {\n      remove(targetKey as string)\n    }\n  }\n\n  /** \n   * 点击重新加载\n   * @param key - 点击值\n   */\n   const onClickRefresh = useCallback((key = activeKey) => {\n    // 如果key不是字符串格式则退出\n    if (typeof key !== 'string') return\n\n    // 定时器没有执行时运行\n    if (!time) {\n      dispatch(setRefresh(true))\n      refresh(key)\n\n      setTime(\n        setTimeout(() => {\n          message.success({\n            content: '刷新成功',\n            key: 'refresh'\n          })\n          dispatch(setRefresh(false))\n          setTime(null)\n        }, 100)\n      )\n\n      seRefreshTime(\n        setTimeout(() => {\n          seRefreshTime(null)\n        }, 1000)\n      )\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [activeKey, time])\n\n  // 渲染重新加载\n  const RefreshRender = useMemo(() => {\n    return (\n      <TabRefresh\n        isRefresh={!!refreshTime}\n        onClick={onClickRefresh}\n      />\n    )\n  }, [refreshTime, onClickRefresh])\n\n  // 渲染标签操作\n  const TabOptionsRender = useMemo(() => {\n    return (\n      <TabOptions\n        activeKey={activeKey}\n        handleRefresh={onClickRefresh}\n      />\n    )\n  }, [activeKey, onClickRefresh])\n\n  // 渲染最大化操作\n  const TabMaximizeRender = useMemo(() => {\n    return <TabMaximize />\n  }, [])\n\n  // 标签栏功能\n  const tabOptions = [\n    { element: RefreshRender },\n    { element: TabOptionsRender },\n    { element: TabMaximizeRender }\n  ]\n\n  // 下拉菜单\n  const dropdownMenuParams = { activeKey, handleRefresh: onClickRefresh }\n  const [items, onClick] = useDropdownMenu(dropdownMenuParams)\n\n  /** 二次封装标签 */\n  const renderTabBar: TabsProps['renderTabBar'] = (tabBarProps, DefaultTabBar) => (\n    <DefaultTabBar {...tabBarProps}>\n      { node => (\n        <Dropdown\n          key={node.key}\n          menu={{\n            items: items(node.key as string),\n            onClick: e => onClick(e.key, node.key as string)\n          }}\n          trigger={['contextMenu']}\n        >\n          <div className='mr-3px'>\n            { node }\n          </div>\n        </Dropdown>\n      ) }\n    </DefaultTabBar>\n  )\n\n  return (\n    <div className={`\n      flex\n      items-center\n      justify-between\n      mx-2\n      transition-all\n      ${isMaximize ? styles.conMaximize : ''}\n    `}>\n      {\n        tabs.length > 0 ?\n        <Tabs\n          hideAdd\n          className=\"w-full h-30px py-0\"\n          onChange={onChange}\n          activeKey={activeKey}\n          type=\"editable-card\"\n          onEdit={onEdit}\n          items={tabs}\n          renderTabBar={renderTabBar}\n        />\n        : <span></span>\n      }\n      \n      <div className='flex'>\n        {\n          tabOptions?.map((item, index) => (\n            <div\n              key={index}\n              className={`\n                ${styles.leftDivide}\n                change\n                divide-solid\n                w-36px\n                h-36px\n                hover:opacity-70\n                flex\n                place-content-center\n                items-center\n              `}\n            >\n              { item.element }\n            </div>\n          ))\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default LayoutTabs","import type { AppDispatch, RootState } from '@/stores'\nimport { useToken } from '@/hooks/useToken'\nimport { useCallback, useEffect, useState } from 'react'\nimport { useNavigate, useOutlet } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getPermissions } from '@/servers/permissions'\nimport { permissionsToArray } from '@/utils/permissions'\nimport { setPermissions, setUserInfo } from '@/stores/user'\nimport { toggleCollapsed, togglePhone } from '@/stores/menu'\nimport { useLocation } from 'react-router-dom'\nimport { useDebounceFn } from 'ahooks'\nimport { Icon } from '@iconify/react'\nimport { Skeleton } from 'antd'\nimport Menu from './components/Menu'\nimport Header from './components/Header'\nimport Tabs from './components/Tabs'\nimport Forbidden from '@/pages/403'\nimport KeepAlive from 'react-activation'\nimport styles from './index.module.less'\n\nfunction Layout() {\n  const dispatch: AppDispatch = useDispatch()\n  const navigate = useNavigate()\n  const [getToken] = useToken()\n  const { pathname, search } = useLocation()\n  const uri = pathname + search\n  const token = getToken()\n  const outlet = useOutlet()\n  const [isLoading, setLoading] = useState(true)\n\n  // 权限\n  const permissions = useSelector((state: RootState) => state.user.permissions)\n  // 用户ID\n  const userId = useSelector((state: RootState) => state.user.userInfo.id)\n  // 是否窗口最大化\n  const isMaximize = useSelector((state: RootState) => state.tabs.isMaximize)\n  // 菜单是否收缩\n  const isCollapsed = useSelector((state: RootState) => state.menu.isCollapsed)\n  // 是否手机端\n  const isPhone = useSelector((state: RootState) => state.menu.isPhone)\n  // 是否重新加载\n  const isRefresh = useSelector((state: RootState) => state.public.isRefresh)\n\n  /** 获取用户信息和权限 */\n  const getUserInfo = useCallback(async () => {\n    try {\n      setLoading(true)\n      const { data } = await getPermissions({ refresh_cache: false })\n      if (data) {\n        const { data: { user, permissions } } = data\n        const newPermissions = permissionsToArray(permissions)\n        dispatch(setUserInfo(user))\n        dispatch(setPermissions(newPermissions))\n      }\n    } catch(err) {\n      console.error('获取用户数据失败:', err)\n      setPermissions([])\n    } finally {\n      setLoading(false)\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  useEffect(() => {\n    // 如果没有token，则返回登录页\n    if (!token) {\n      navigate('/login')\n    }\n\n    // 当用户信息缓存不存在时则重新获取\n    if (token && !userId) {\n      getUserInfo()\n    }\n  }, [getUserInfo, navigate, token, userId])\n\n  /** 判断是否是手机端 */\n  const handleIsPhone = useDebounceFn(() => {\n    const isPhone = window.innerWidth <= 768\n    // 手机首次进来收缩菜单\n    if (isPhone) dispatch(toggleCollapsed(true))\n    dispatch(togglePhone(isPhone))\n  }, { wait: 500 })\n\n  // 监听是否是手机端\n  useEffect(() => {\n    window.addEventListener('resize', handleIsPhone.run())\n\n    return () => {\n      window.removeEventListener('resize', handleIsPhone.run())\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <div id=\"layout\">\n      <Menu />\n      <div className={styles.layout_right}>\n        <div\n          id='header'\n          className={`\n            border-bottom\n            transition-all\n            ${styles.header}\n            ${isCollapsed ? styles.headerCloseMenu : ''}\n            ${isMaximize ? styles.headerNone : ''}\n            ${isPhone ? `!left-0 z-999` : ''}\n          `}\n        >\n          <Header />\n          <Tabs />\n        </div>\n        <div\n          id=\"layoutContent\"\n          className={`\n            overflow-auto\n            transition-all\n            ${styles.con}\n            ${isMaximize ? styles.conMaximize : ''}\n            ${isCollapsed ? styles.conCloseMenu : ''}\n            ${isPhone ? `!left-0` : ''}\n          `}\n        >\n          {\n            isLoading &&\n            permissions.length === 0 &&\n            <Skeleton\n              active\n              className='p-30px'\n              paragraph={{ rows: 10 }}\n            />\n          }\n          {\n            !isLoading &&\n            permissions.length === 0 &&\n            <Forbidden />\n          }\n          {\n            isRefresh &&\n            <div className={`\n              absolute\n              left-50%\n              top-50%\n              -rotate-x-50%\n              -rotate-y-50%\n            `}>\n              <Icon\n                className='text-40px animate-spin'\n                icon='ri:loader-2-fill'\n              />\n            </div>\n          }\n          {\n            permissions.length > 0 &&\n            !isRefresh &&\n            <KeepAlive id={uri} name={uri}>\n              { outlet }\n            </KeepAlive>\n          }\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Layout"],"names":["login","data","request","updatePassword","userSlice","createSlice","state","action","setUserInfo","setPermissions","clearInfo","userReducer","permissionsToArray","permissions","res","i","id","operation","y","checkPermission","value","Logo","getPermissions","LayoutMenu","navigate","useNavigate","pathname","useLocation","dispatch","useDispatch","menus","setMenus","useState","selectedKeys","useSelector","openKeys","isMaximize","isCollapsed","isPhone","useEffect","newOpenKey","getOpenMenuByRouter","setOpenKeys","setSelectedKeys","newMenus","filterMenus","defaultMenus","goPath","path","newTab","getMenuByKey","setActiveKey","setNav","addTabs","onClick","e","hiddenMenu","diffOpenMenu","arr","lastArr","result","j","onOpenChange","last","splitPath","onClickLogo","firstMenu","getFirstMenu","toggleCollapsed","jsxs","Fragment","styles","jsx","Menu","Avatar","UpdatePassword","props","passwordRef","form","Form","isOpen","setOpen","isLoading","setLoading","useImperativeHandle","BasicModal","values","message","Input","PLEASE_ENTER","PasswordStrength","Item","Breadcrumb","Nav","className","list","item","Header","username","removeToken","useToken","clear","useAliveController","nav","useRef","items","FormOutlined","LogoutOutlined","_a","handleLogout","Modal","ExclamationCircleOutlined","closeAllTab","RightRender","DataScreen","GlobalSearch","Fullscreen","Theme","Dropdown","IconRender","MenuUnfoldOutlined","MenuFoldOutlined","useDropdownMenu","activeKey","handleRefresh","tabs","key","index","RedoOutlined","CloseOutlined","VerticalAlignMiddleOutlined","VerticalAlignTopOutlined","type","closeTabs","closeOther","closeLeft","newItems","closeRight","TabRefresh","isRefresh","Tooltip","Icon","TabMaximize","toggleMaximize","TabOptions","open","dropdownMenuParams","LayoutTabs","search","uri","refresh","time","setTime","refreshTime","seRefreshTime","isLock","handleAddTab","useCallback","toggleLock","onChange","remove","targetKey","onEdit","onClickRefresh","setRefresh","RefreshRender","useMemo","TabOptionsRender","TabMaximizeRender","tabOptions","renderTabBar","tabBarProps","DefaultTabBar","node","Tabs","Layout","getToken","token","outlet","useOutlet","userId","getUserInfo","user","newPermissions","err","handleIsPhone","useDebounceFn","togglePhone","Skeleton","Forbidden","KeepAlive"],"mappings":"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"}