import{j as e,r as t}from"./react@18.2.0.BNo5BOs9.js";import{z as n,T as a,D as s,r as l,M as r,P as o}from"./index.DNHT7Qjr.js";import{d as i,g as u,h as c,i as p,j as d,k as m,I as f,l as h,m as v,n as x,o as j,p as g,q as b,r as P,U as S}from"./antd@5.16.1_react-dom@18.2.0_react@18.2.0.B_YN4sJT.js";import{u as y}from"./react-i18next@14.1.0_i18next@23.11.1_react-dom@18.2.0_react@18.2.0.BeUBB5jZ.js";import{d as C}from"./dayjs@1.11.10.C0E_gXyI.js";import{W as w}from"./index.DsLgz8pf.js";function D(t){const{isPermission:a,children:s}=t;return e.jsxs("div",{className:"min-w-980px h-full p-10px box-border overflow-auto",children:[!1!==a&&e.jsx("div",{id:"content",className:"\n            relative\n            box-border\n            px-5\n            py-3\n            rounded-5\n          ",children:s}),!1===a&&e.jsx(n,{})]})}function k(e){switch(e){case"Switch":case"Checkbox":case"CheckboxGroup":return"checked";case"Upload":return"fileList";default:return"value"}}function T(e,t){switch(t){case"Select":return{allowClear:!0,placeholder:e("public.inputPleaseSelect")};case"InputNumber":return{placeholder:e("public.inputPleaseEnter")};case"Checkbox":case"CheckboxGroup":return{};case"DatePicker":return{placeholder:e("public.inputPleaseSelect"),format:s};case"RangePicker":return{placeholder:[e("public.inputPleaseSelect"),e("public.inputPleaseSelect")],format:[s,s]};case"TimePicker":return{placeholder:e("public.inputPleaseSelect"),format:a};case"TimeRangePicker":return{placeholder:[e("public.inputPleaseSelect"),e("public.inputPleaseSelect")],format:[a,a]};default:return{allowClear:!0,placeholder:e("public.inputPleaseEnter")}}}function N(e){return l.get("/authority/common/games",{params:e})}function G(){return e.jsx("div",{className:"absolute left-50% top-50% -translate-x-1/2 -translate-y-1/2 text-center",children:e.jsx(i,{spinning:!0})})}function R(n){const{t:a}=y(),[s,l]=t.useState(!1),[o,i]=t.useState([]),c={...n};delete c.api,delete c.params;const p=t.useCallback((async()=>{try{if(l(!0),n.api){const{code:e,data:t}=await n.api(null==n?void 0:n.params);200===Number(e)&&i(t||[])}}finally{l(!1)}}),[n]);t.useEffect((()=>{n.value&&0===(null==o?void 0:o.length)&&p()}),[n.value]);return e.jsx(u,{allowClear:!0,maxTagCount:r,placeholder:a("public.inputPleaseSelect"),...c,loading:s,treeData:o,notFoundContent:s&&e.jsx(G,{}),onDropdownVisibleChange:e=>{var t;e&&p(),null==(t=n.onDropdownVisibleChange)||t.call(n,e)}})}function F(t){return e.jsx(e.Fragment,{children:e.jsx(R,{...t,multiple:!0,api:N,fieldNames:{label:"name",value:"id"}})})}function E(e){return l.get("/platform/partner",{params:e})}function A(n){const{t:a}=y(),[s,l]=t.useState(!1),[o,i]=t.useState([]),u={...n};delete u.api,delete u.params;const p=t.useCallback((async()=>{try{if(l(!0),n.api){const{code:e,data:t}=await n.api(null==n?void 0:n.params);200===Number(e)&&i(t||[])}}finally{l(!1)}}),[n]);t.useEffect((()=>{n.value&&0===o.length&&p()}),[n.value]);return e.jsx(c,{allowClear:!0,maxTagCount:r,placeholder:a("public.inputPleaseSelect"),optionFilterProp:"label",...u,loading:s,options:o,notFoundContent:s&&e.jsx(G,{}),onDropdownVisibleChange:e=>{var t;e&&p(),null==(t=n.onDropdownVisibleChange)||t.call(n,e)}})}function I(t){return e.jsx(A,{...t,api:E,mode:"multiple",fieldNames:{label:"name",value:"id"}})}function _(e,t=s){return C.isDayjs(e)?e.format(t):e}function V(e){return C.isDayjs(e)?e:C(e)}function z(e,t=s){if(e)return(null==e?void 0:e.length)>1&&C.isDayjs(null==e?void 0:e[0])&&C.isDayjs(null==e?void 0:e[1])?[e[0].format(t),e[1].format(t)]:e}function U(e){if(e)return(null==e?void 0:e.length)>1&&!C.isDayjs(null==e?void 0:e[0])&&C.isDayjs(null==e?void 0:e[1])?[C(e[0]),e[1]]:(null==e?void 0:e.length)>1&&C.isDayjs(null==e?void 0:e[0])&&!C.isDayjs(null==e?void 0:e[1])?[e[0],C(e[1])]:(null==e?void 0:e.length)>1&&!C.isDayjs(null==e?void 0:e[0])&&!C.isDayjs(null==e?void 0:e[1])?[C(e[0]),C(e[1])]:e}function M(e,t){var n;for(let a=0;a<e.length;a++)if(e[a].name===t)return(null==(n=e[a].componentProps)?void 0:n.format)||s;return s}function q(e,t){var n;for(const a in e){if(2===(null==(n=e[a])?void 0:n.length)&&C.isDayjs(e[a][0])&&C.isDayjs(e[a][1])){const n=M(t,a);e[a]=z(e[a],n)}if((null==e?void 0:e[a])&&C.isDayjs(e[a])){const n=M(t,a);e[a]=_(e[a],n)}}return e}const{RangePicker:B}=p;const{RangePicker:H}=d;const K=new Map;function L(t,n){const{component:a,componentProps:s}=n;if("customize"===a){const{render:t}=n;if(!t)return e.jsx(e.Fragment,{});W("customize",t)}const l=K.get(a);return l?e.jsxs(e.Fragment,{children:[e.jsx(l,{...T(t,a),...s}),n.unit&&e.jsx("span",{className:"ml-5px whitespace-nowrap",children:n.unit})]}):e.jsx(e.Fragment,{})}function W(e,t){K.set(e,t)}K.set("Input",f),K.set("TextArea",f.TextArea),K.set("InputNumber",h),K.set("InputPassword",f.Password),K.set("AutoComplete",v),K.set("Select",c),K.set("TreeSelect",u),K.set("Checkbox",x),K.set("CheckboxGroup",x.Group),K.set("RadioGroup",j.Group),K.set("Switch",g),K.set("Rate",b),K.set("Slider",P),K.set("Upload",S),K.set("Transfer",(function(n){const{value:a}=n,[s,l]=t.useState(a||[]);return e.jsx(m,{...n,targetKeys:s,onChange:e=>{var t;l(e),null==(t=null==n?void 0:n.onChange)||t.call(n,e)}})})),K.set("DatePicker",(function(t){const{value:n}=t,a={...t};return n&&(a.value=V(n)),e.jsx(p,{...a})})),K.set("RangePicker",(function(t){const{value:n}=t,a={...t};return n&&(a.value=U(n)),e.jsx(B,{...a})})),K.set("TimePicker",(function(t){const{value:n}=t,a={...t};return n&&(a.value=V(n)),e.jsx(d,{...a})})),K.set("TimeRangePicker",(function(t){const{value:n}=t,a={...t};return n&&(a.value=U(n)),e.jsx(H,{...a})})),K.set("ApiSelect",A),K.set("ApiTreeSelect",R),K.set("PasswordStrength",o),K.set("Editor",w),W("GameSelect",F),W("PartnerSelect",I);export{D as B,q as f,L as g,k as h};
