import{r as n}from"./react.017637b6.js";import"./react-is.386d907a.js";import{c as ze}from"./classnames.96a48171.js";import{c as ae,e as q,d as ht,f as oe,h as Le,g as Je,l as on,b as Re}from"./@babel_runtime.0b96ec9f.js";import{w as an,j as rn,x as ut,K as C,a as un,B as ln,d as cn,h as pt,b as sn,c as dn,t as fn,e as vn,o as pn}from"./rc-util.88348ebb.js";import{F as mn}from"./rc-overflow.abab8c8e.js";import{T as gn}from"./rc-trigger.09695553.js";import{L as hn}from"./rc-virtual-list.645c9e1e.js";var At=n.exports.createContext(null);function bn(){return n.exports.useContext(At)}function Sn(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=n.exports.useState(!1),a=ae(e,2),o=a[0],i=a[1],r=n.exports.useRef(null),l=function(){window.clearTimeout(r.current)};n.exports.useEffect(function(){return l},[]);var p=function(h,S){l(),r.current=window.setTimeout(function(){i(h),S&&S()},t)};return[o,p,l]}function _t(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=n.exports.useRef(null),a=n.exports.useRef(null);n.exports.useEffect(function(){return function(){window.clearTimeout(a.current)}},[]);function o(i){(i||e.current===null)&&(e.current=i),window.clearTimeout(a.current),a.current=window.setTimeout(function(){e.current=null},t)}return[function(){return e.current},o]}function xn(t,e,a,o){var i=n.exports.useRef(null);i.current={open:e,triggerOpen:a,customizedTrigger:o},n.exports.useEffect(function(){function r(l){var p;if(!((p=i.current)!==null&&p!==void 0&&p.customizedTrigger)){var s=l.target;s.shadowRoot&&l.composed&&(s=l.composedPath()[0]||s),i.current.open&&t().filter(function(h){return h}).every(function(h){return!h.contains(s)&&h!==s})&&i.current.triggerOpen(!1)}}return window.addEventListener("mousedown",r),function(){return window.removeEventListener("mousedown",r)}},[])}var lt=function(e){var a=e.className,o=e.customizeIcon,i=e.customizeIconProps,r=e.onMouseDown,l=e.onClick,p=e.children,s;return typeof o=="function"?s=o(i):s=o,n.exports.createElement("span",{className:a,onMouseDown:function(S){S.preventDefault(),r&&r(S)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:l,"aria-hidden":!0},s!==void 0?s:n.exports.createElement("span",{className:ze(a.split(/\s+/).map(function(h){return"".concat(h,"-icon")}))},p))},wn=function(e,a){var o,i,r=e.prefixCls,l=e.id,p=e.inputElement,s=e.disabled,h=e.tabIndex,S=e.autoFocus,u=e.autoComplete,m=e.editable,d=e.activeDescendantId,x=e.value,N=e.maxLength,j=e.onKeyDown,O=e.onMouseDown,T=e.onChange,_=e.onPaste,Z=e.onCompositionStart,H=e.onCompositionEnd,G=e.open,le=e.attrs,V=p||n.exports.createElement("input",null),$=V,X=$.ref,z=$.props,Y=z.onKeyDown,W=z.onChange,ee=z.onMouseDown,J=z.onCompositionStart,D=z.onCompositionEnd,M=z.style;return an(!("maxLength"in V.props)),V=n.exports.cloneElement(V,q(q(q({type:"search"},z),{},{id:l,ref:rn(a,X),disabled:s,tabIndex:h,autoComplete:u||"off",autoFocus:S,className:ze("".concat(r,"-selection-search-input"),(o=V)===null||o===void 0||(i=o.props)===null||i===void 0?void 0:i.className),role:"combobox","aria-expanded":G,"aria-haspopup":"listbox","aria-owns":"".concat(l,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(l,"_list"),"aria-activedescendant":d},le),{},{value:m?x:"",maxLength:N,readOnly:!m,unselectable:m?null:"on",style:q(q({},M),{},{opacity:m?null:0}),onKeyDown:function(P){j(P),Y&&Y(P)},onMouseDown:function(P){O(P),ee&&ee(P)},onChange:function(P){T(P),W&&W(P)},onCompositionStart:function(P){Z(P),J&&J(P)},onCompositionEnd:function(P){H(P),D&&D(P)},onPaste:_})),V},bt=n.exports.forwardRef(wn);bt.displayName="Input";function Ft(t){return Array.isArray(t)?t:t!==void 0?[t]:[]}var Cn=typeof window<"u"&&window.document&&window.document.documentElement,yn=Cn;function In(t){return t!=null}function Ot(t){return["string","number"].includes(ht(t))}function Lt(t){var e=void 0;return t&&(Ot(t.title)?e=t.title.toString():Ot(t.label)&&(e=t.label.toString())),e}function En(t,e){yn?n.exports.useLayoutEffect(t,e):n.exports.useEffect(t,e)}function Dn(t){var e;return(e=t.key)!==null&&e!==void 0?e:t.value}var Mt=function(e){e.preventDefault(),e.stopPropagation()},Rn=function(e){var a=e.id,o=e.prefixCls,i=e.values,r=e.open,l=e.searchValue,p=e.autoClearSearchValue,s=e.inputRef,h=e.placeholder,S=e.disabled,u=e.mode,m=e.showSearch,d=e.autoFocus,x=e.autoComplete,N=e.activeDescendantId,j=e.tabIndex,O=e.removeIcon,T=e.maxTagCount,_=e.maxTagTextLength,Z=e.maxTagPlaceholder,H=Z===void 0?function(A){return"+ ".concat(A.length," ...")}:Z,G=e.tagRender,le=e.onToggleOpen,V=e.onRemove,$=e.onInputChange,X=e.onInputPaste,z=e.onInputKeyDown,Y=e.onInputMouseDown,W=e.onInputCompositionStart,ee=e.onInputCompositionEnd,J=n.exports.useRef(null),D=n.exports.useState(0),M=ae(D,2),R=M[0],P=M[1],me=n.exports.useState(!1),ce=ae(me,2),ke=ce[0],re=ce[1],ve="".concat(o,"-selection"),ye=r||u==="multiple"&&p===!1||u==="tags"?l:"",y=u==="tags"||u==="multiple"&&p===!1||m&&(r||ke);En(function(){P(J.current.scrollWidth)},[ye]);function c(A,te,ue,Se,se){return n.exports.createElement("span",{className:ze("".concat(ve,"-item"),oe({},"".concat(ve,"-item-disabled"),ue)),title:Lt(A)},n.exports.createElement("span",{className:"".concat(ve,"-item-content")},te),Se&&n.exports.createElement(lt,{className:"".concat(ve,"-item-remove"),onMouseDown:Mt,onClick:se,customizeIcon:O},"×"))}function E(A,te,ue,Se,se){var xe=function(K){Mt(K),le(!r)};return n.exports.createElement("span",{onMouseDown:xe},G({label:te,value:A,disabled:ue,closable:Se,onClose:se}))}function F(A){var te=A.disabled,ue=A.label,Se=A.value,se=!S&&!te,xe=ue;if(typeof _=="number"&&(typeof ue=="string"||typeof ue=="number")){var de=String(xe);de.length>_&&(xe="".concat(de.slice(0,_),"..."))}var K=function(Ke){Ke&&Ke.stopPropagation(),V(A)};return typeof G=="function"?E(Se,xe,te,se,K):c(A,xe,te,se,K)}function L(A){var te=typeof H=="function"?H(A):H;return c({title:te},te,!1)}var k=n.exports.createElement("div",{className:"".concat(ve,"-search"),style:{width:R},onFocus:function(){re(!0)},onBlur:function(){re(!1)}},n.exports.createElement(bt,{ref:s,open:r,prefixCls:o,id:a,inputElement:null,disabled:S,autoFocus:d,autoComplete:x,editable:y,activeDescendantId:N,value:ye,onKeyDown:z,onMouseDown:Y,onChange:$,onPaste:X,onCompositionStart:W,onCompositionEnd:ee,tabIndex:j,attrs:ut(e,!0)}),n.exports.createElement("span",{ref:J,className:"".concat(ve,"-search-mirror"),"aria-hidden":!0},ye," ")),Q=n.exports.createElement(mn,{prefixCls:"".concat(ve,"-overflow"),data:i,renderItem:F,renderRest:L,suffix:k,itemKey:Dn,maxCount:T});return n.exports.createElement(n.exports.Fragment,null,Q,!i.length&&!ye&&n.exports.createElement("span",{className:"".concat(ve,"-placeholder")},h))},On=function(e){var a=e.inputElement,o=e.prefixCls,i=e.id,r=e.inputRef,l=e.disabled,p=e.autoFocus,s=e.autoComplete,h=e.activeDescendantId,S=e.mode,u=e.open,m=e.values,d=e.placeholder,x=e.tabIndex,N=e.showSearch,j=e.searchValue,O=e.activeValue,T=e.maxLength,_=e.onInputKeyDown,Z=e.onInputMouseDown,H=e.onInputChange,G=e.onInputPaste,le=e.onInputCompositionStart,V=e.onInputCompositionEnd,$=n.exports.useState(!1),X=ae($,2),z=X[0],Y=X[1],W=S==="combobox",ee=W||N,J=m[0],D=j||"";W&&O&&!z&&(D=O),n.exports.useEffect(function(){W&&Y(!1)},[W,O]);var M=S!=="combobox"&&!u&&!N?!1:!!D,R=Lt(J),P=function(){if(J)return null;var ce=M?{visibility:"hidden"}:void 0;return n.exports.createElement("span",{className:"".concat(o,"-selection-placeholder"),style:ce},d)};return n.exports.createElement(n.exports.Fragment,null,n.exports.createElement("span",{className:"".concat(o,"-selection-search")},n.exports.createElement(bt,{ref:r,prefixCls:o,id:i,open:u,inputElement:a,disabled:l,autoFocus:p,autoComplete:s,editable:ee,activeDescendantId:h,value:D,onKeyDown:_,onMouseDown:Z,onChange:function(ce){Y(!0),H(ce)},onPaste:G,onCompositionStart:le,onCompositionEnd:V,tabIndex:x,attrs:ut(e,!0),maxLength:W?T:void 0})),!W&&J&&!M&&n.exports.createElement("span",{className:"".concat(o,"-selection-item"),title:R},J.label),P())};function Mn(t){return![C.ESC,C.SHIFT,C.BACKSPACE,C.TAB,C.WIN_KEY,C.ALT,C.META,C.WIN_KEY_RIGHT,C.CTRL,C.SEMICOLON,C.EQUALS,C.CAPS_LOCK,C.CONTEXT_MENU,C.F1,C.F2,C.F3,C.F4,C.F5,C.F6,C.F7,C.F8,C.F9,C.F10,C.F11,C.F12].includes(t)}var Pn=function(e,a){var o=n.exports.useRef(null),i=n.exports.useRef(!1),r=e.prefixCls,l=e.open,p=e.mode,s=e.showSearch,h=e.tokenWithEnter,S=e.autoClearSearchValue,u=e.onSearch,m=e.onSearchSubmit,d=e.onToggleOpen,x=e.onInputKeyDown,N=e.domRef;n.exports.useImperativeHandle(a,function(){return{focus:function(){o.current.focus()},blur:function(){o.current.blur()}}});var j=_t(0),O=ae(j,2),T=O[0],_=O[1],Z=function(M){var R=M.which;(R===C.UP||R===C.DOWN)&&M.preventDefault(),x&&x(M),R===C.ENTER&&p==="tags"&&!i.current&&!l&&(m==null||m(M.target.value)),Mn(R)&&d(!0)},H=function(){_(!0)},G=n.exports.useRef(null),le=function(M){u(M,!0,i.current)!==!1&&d(!0)},V=function(){i.current=!0},$=function(M){i.current=!1,p!=="combobox"&&le(M.target.value)},X=function(M){var R=M.target.value;if(h&&G.current&&/[\r\n]/.test(G.current)){var P=G.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");R=R.replace(P,G.current)}G.current=null,le(R)},z=function(M){var R=M.clipboardData,P=R.getData("text");G.current=P},Y=function(M){var R=M.target;if(R!==o.current){var P=document.body.style.msTouchAction!==void 0;P?setTimeout(function(){o.current.focus()}):o.current.focus()}},W=function(M){var R=T();M.target!==o.current&&!R&&p!=="combobox"&&M.preventDefault(),(p!=="combobox"&&(!s||!R)||!l)&&(l&&S!==!1&&u("",!0,!1),d())},ee={inputRef:o,onInputKeyDown:Z,onInputMouseDown:H,onInputChange:X,onInputPaste:z,onInputCompositionStart:V,onInputCompositionEnd:$},J=p==="multiple"||p==="tags"?n.exports.createElement(Rn,Le({},e,ee)):n.exports.createElement(On,Le({},e,ee));return n.exports.createElement("div",{ref:N,className:"".concat(r,"-selector"),onClick:Y,onMouseDown:W},J)},kt=n.exports.forwardRef(Pn);kt.displayName="Selector";var Nn=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],Vn=function(e){var a=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:a,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:a,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:a,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:a,adjustY:1}}}},Tn=function(e,a){var o=e.prefixCls;e.disabled;var i=e.visible,r=e.children,l=e.popupElement,p=e.containerWidth,s=e.animation,h=e.transitionName,S=e.dropdownStyle,u=e.dropdownClassName,m=e.direction,d=m===void 0?"ltr":m,x=e.placement,N=e.dropdownMatchSelectWidth,j=e.dropdownRender,O=e.dropdownAlign,T=e.getPopupContainer,_=e.empty,Z=e.getTriggerDOMNode,H=e.onPopupVisibleChange,G=e.onPopupMouseEnter,le=Je(e,Nn),V="".concat(o,"-dropdown"),$=l;j&&($=j(l));var X=n.exports.useMemo(function(){return Vn(N)},[N]),z=s?"".concat(V,"-").concat(s):h,Y=n.exports.useRef(null);n.exports.useImperativeHandle(a,function(){return{getPopupElement:function(){return Y.current}}});var W=q({minWidth:p},S);return typeof N=="number"?W.width=N:N&&(W.width=p),n.exports.createElement(gn,Le({},le,{showAction:H?["click"]:[],hideAction:H?["click"]:[],popupPlacement:x||(d==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:X,prefixCls:V,popupTransitionName:z,popup:n.exports.createElement("div",{ref:Y,onMouseEnter:G},$),popupAlign:O,popupVisible:i,getPopupContainer:T,popupClassName:ze(u,oe({},"".concat(V,"-empty"),_)),popupStyle:W,getTriggerDOMNode:Z,onPopupVisibleChange:H}),r)},Kt=n.exports.forwardRef(Tn);Kt.displayName="SelectTrigger";function Pt(t,e){var a=t.key,o;return"value"in t&&(o=t.value),a??(o!==void 0?o:"rc-index-key-".concat(e))}function $t(t,e){var a=t||{},o=a.label,i=a.value,r=a.options;return{label:o||(e?"children":"label"),value:i||"value",options:r||"options"}}function An(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e.fieldNames,o=e.childrenAsData,i=[],r=$t(a,!1),l=r.label,p=r.value,s=r.options;function h(S,u){S.forEach(function(m){var d=m[l];if(u||!(s in m)){var x=m[p];i.push({key:Pt(m,i.length),groupOption:u,data:m,label:d,value:x})}else{var N=d;N===void 0&&o&&(N=m.label),i.push({key:Pt(m,i.length),group:!0,data:m,label:N}),h(m[s],!0)}})}return h(t,!1),i}function mt(t){var e=q({},t);return"props"in e||Object.defineProperty(e,"props",{get:function(){return un(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}function _n(t,e){if(!e||!e.length)return null;var a=!1;function o(r,l){var p=on(l),s=p[0],h=p.slice(1);if(!s)return[r];var S=r.split(s);return a=a||S.length>1,S.reduce(function(u,m){return[].concat(Re(u),Re(o(m,h)))},[]).filter(function(u){return u})}var i=o(t,e);return a?i:null}var Fn=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","showArrow","inputIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],Ln=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function gt(t){return t==="tags"||t==="multiple"}var kn=n.exports.forwardRef(function(t,e){var a,o,i=t.id,r=t.prefixCls,l=t.className,p=t.showSearch,s=t.tagRender,h=t.direction,S=t.omitDomProps,u=t.displayValues,m=t.onDisplayValuesChange,d=t.emptyOptions,x=t.notFoundContent,N=x===void 0?"Not Found":x,j=t.onClear,O=t.mode,T=t.disabled,_=t.loading,Z=t.getInputElement,H=t.getRawInputElement,G=t.open,le=t.defaultOpen,V=t.onDropdownVisibleChange,$=t.activeValue,X=t.onActiveValueChange,z=t.activeDescendantId,Y=t.searchValue,W=t.autoClearSearchValue,ee=t.onSearch,J=t.onSearchSplit,D=t.tokenSeparators,M=t.allowClear,R=t.showArrow,P=t.inputIcon,me=t.clearIcon,ce=t.OptionList,ke=t.animation,re=t.transitionName,ve=t.dropdownStyle,ye=t.dropdownClassName,y=t.dropdownMatchSelectWidth,c=t.dropdownRender,E=t.dropdownAlign,F=t.placement,L=t.getPopupContainer,k=t.showAction,Q=k===void 0?[]:k,A=t.onFocus,te=t.onBlur,ue=t.onKeyUp,Se=t.onKeyDown,se=t.onMouseDown,xe=Je(t,Fn),de=gt(O),K=(p!==void 0?p:de)||O==="combobox",Te=q({},xe);Ln.forEach(function(w){delete Te[w]}),S==null||S.forEach(function(w){delete Te[w]});var Ke=n.exports.useState(!1),ge=ae(Ke,2),we=ge[0],Qe=ge[1];n.exports.useEffect(function(){Qe(ln())},[]);var Ie=n.exports.useRef(null),Ae=n.exports.useRef(null),Me=n.exports.useRef(null),Ee=n.exports.useRef(null),he=n.exports.useRef(null),ct=Sn(),Xe=ae(ct,3),qe=Xe[0],$e=Xe[1],st=Xe[2];n.exports.useImperativeHandle(e,function(){var w,g;return{focus:(w=Ee.current)===null||w===void 0?void 0:w.focus,blur:(g=Ee.current)===null||g===void 0?void 0:g.blur,scrollTo:function(be){var ne;return(ne=he.current)===null||ne===void 0?void 0:ne.scrollTo(be)}}});var De=n.exports.useMemo(function(){var w;if(O!=="combobox")return Y;var g=(w=u[0])===null||w===void 0?void 0:w.value;return typeof g=="string"||typeof g=="number"?String(g):""},[Y,O,u]),ot=O==="combobox"&&typeof Z=="function"&&Z()||null,Pe=typeof H=="function"&&H(),at=cn(Ae,Pe==null||(a=Pe.props)===null||a===void 0?void 0:a.ref),rt=pt(void 0,{defaultValue:le,value:G}),je=ae(rt,2),Ze=je[0],et=je[1],ie=Ze,it=!N&&d;(T||it&&ie&&O==="combobox")&&(ie=!1);var We=it?!1:ie,f=n.exports.useCallback(function(w){var g=w!==void 0?w:!ie;T||(et(g),ie!==g&&(V==null||V(g)))},[T,ie,et,V]),b=n.exports.useMemo(function(){return(D||[]).some(function(w){return[`
`,`\r
`].includes(w)})},[D]),v=function(g,pe,be){var ne=!0,Ce=g;X==null||X(null);var Oe=be?null:_n(g,D);return O!=="combobox"&&Oe&&(Ce="",J==null||J(Oe),f(!1),ne=!1),ee&&De!==Ce&&ee(Ce,{source:pe?"typing":"effect"}),ne},I=function(g){!g||!g.trim()||ee(g,{source:"submit"})};n.exports.useEffect(function(){!ie&&!de&&O!=="combobox"&&v("",!1,!1)},[ie]),n.exports.useEffect(function(){Ze&&T&&et(!1),T&&$e(!1)},[T]);var B=_t(),U=ae(B,2),_e=U[0],Ne=U[1],Ge=function(g){var pe=_e(),be=g.which;if(be===C.ENTER&&(O!=="combobox"&&g.preventDefault(),ie||f(!0)),Ne(!!De),be===C.BACKSPACE&&!pe&&de&&!De&&u.length){for(var ne=Re(u),Ce=null,Oe=ne.length-1;Oe>=0;Oe-=1){var nt=ne[Oe];if(!nt.disabled){ne.splice(Oe,1),Ce=nt;break}}Ce&&m(ne,{type:"remove",values:[Ce]})}for(var He=arguments.length,Ye=new Array(He>1?He-1:0),Ue=1;Ue<He;Ue++)Ye[Ue-1]=arguments[Ue];if(ie&&he.current){var Rt;(Rt=he.current).onKeyDown.apply(Rt,[g].concat(Ye))}Se==null||Se.apply(void 0,[g].concat(Ye))},fe=function(g){for(var pe=arguments.length,be=new Array(pe>1?pe-1:0),ne=1;ne<pe;ne++)be[ne-1]=arguments[ne];if(ie&&he.current){var Ce;(Ce=he.current).onKeyUp.apply(Ce,[g].concat(be))}ue==null||ue.apply(void 0,[g].concat(be))},Be=function(g){var pe=u.filter(function(be){return be!==g});m(pe,{type:"remove",values:[g]})},tt=n.exports.useRef(!1),dt=function(){$e(!0),T||(A&&!tt.current&&A.apply(void 0,arguments),Q.includes("focus")&&f(!0)),tt.current=!0},St=function(){$e(!1,function(){tt.current=!1,f(!1)}),!T&&(De&&(O==="tags"?ee(De,{source:"submit"}):O==="multiple"&&ee("",{source:"blur"})),te&&te.apply(void 0,arguments))},Ve=[];n.exports.useEffect(function(){return function(){Ve.forEach(function(w){return clearTimeout(w)}),Ve.splice(0,Ve.length)}},[]);var Fe=function(g){var pe,be=g.target,ne=(pe=Me.current)===null||pe===void 0?void 0:pe.getPopupElement();if(ne&&ne.contains(be)){var Ce=setTimeout(function(){var Ye=Ve.indexOf(Ce);if(Ye!==-1&&Ve.splice(Ye,1),st(),!we&&!ne.contains(document.activeElement)){var Ue;(Ue=Ee.current)===null||Ue===void 0||Ue.focus()}});Ve.push(Ce)}for(var Oe=arguments.length,nt=new Array(Oe>1?Oe-1:0),He=1;He<Oe;He++)nt[He-1]=arguments[He];se==null||se.apply(void 0,[g].concat(nt))},Gt=n.exports.useState(null),xt=ae(Gt,2),wt=xt[0],Xt=xt[1],Yt=n.exports.useState({}),Jt=ae(Yt,2),Qt=Jt[1];function qt(){Qt({})}sn(function(){if(We){var w,g=Math.ceil((w=Ie.current)===null||w===void 0?void 0:w.offsetWidth);wt!==g&&!Number.isNaN(g)&&Xt(g)}},[We]);var Ct;Pe&&(Ct=function(g){f(g)}),xn(function(){var w;return[Ie.current,(w=Me.current)===null||w===void 0?void 0:w.getPopupElement()]},We,f,!!Pe);var Zt=n.exports.useMemo(function(){return q(q({},t),{},{notFoundContent:N,open:ie,triggerOpen:We,id:i,showSearch:K,multiple:de,toggleOpen:f})},[t,N,We,ie,i,K,de,f]),yt=R!==void 0?R:_||!de&&O!=="combobox",It;yt&&(It=n.exports.createElement(lt,{className:ze("".concat(r,"-arrow"),oe({},"".concat(r,"-arrow-loading"),_)),customizeIcon:P,customizeIconProps:{loading:_,searchValue:De,open:ie,focused:qe,showSearch:K}}));var Et,en=function(){var g;j==null||j(),(g=Ee.current)===null||g===void 0||g.focus(),m([],{type:"clear",values:u}),v("",!1,!1)};!T&&M&&(u.length||De)&&!(O==="combobox"&&De==="")&&(Et=n.exports.createElement(lt,{className:"".concat(r,"-clear"),onMouseDown:en,customizeIcon:me},"×"));var tn=n.exports.createElement(ce,{ref:he}),nn=ze(r,l,(o={},oe(o,"".concat(r,"-focused"),qe),oe(o,"".concat(r,"-multiple"),de),oe(o,"".concat(r,"-single"),!de),oe(o,"".concat(r,"-allow-clear"),M),oe(o,"".concat(r,"-show-arrow"),yt),oe(o,"".concat(r,"-disabled"),T),oe(o,"".concat(r,"-loading"),_),oe(o,"".concat(r,"-open"),ie),oe(o,"".concat(r,"-customize-input"),ot),oe(o,"".concat(r,"-show-search"),K),o)),Dt=n.exports.createElement(Kt,{ref:Me,disabled:T,prefixCls:r,visible:We,popupElement:tn,containerWidth:wt,animation:ke,transitionName:re,dropdownStyle:ve,dropdownClassName:ye,direction:h,dropdownMatchSelectWidth:y,dropdownRender:c,dropdownAlign:E,placement:F,getPopupContainer:L,empty:d,getTriggerDOMNode:function(){return Ae.current},onPopupVisibleChange:Ct,onPopupMouseEnter:qt},Pe?n.exports.cloneElement(Pe,{ref:at}):n.exports.createElement(kt,Le({},t,{domRef:Ae,prefixCls:r,inputElement:ot,ref:Ee,id:i,showSearch:K,autoClearSearchValue:W,mode:O,activeDescendantId:z,tagRender:s,values:u,open:ie,onToggleOpen:f,activeValue:$,searchValue:De,onSearch:v,onSearchSubmit:I,onRemove:Be,tokenWithEnter:b}))),ft;return Pe?ft=Dt:ft=n.exports.createElement("div",Le({className:nn},Te,{ref:Ie,onMouseDown:Fe,onKeyDown:Ge,onKeyUp:fe,onFocus:dt,onBlur:St}),qe&&!ie&&n.exports.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(u.map(function(w){var g=w.label,pe=w.value;return["number","string"].includes(ht(g))?g:pe}).join(", "))),Dt,It,Et),n.exports.createElement(At.Provider,{value:Zt},ft)});const Kn=function(t,e){var a=n.exports.useRef({values:new Map,options:new Map}),o=n.exports.useMemo(function(){var r=a.current,l=r.values,p=r.options,s=t.map(function(u){if(u.label===void 0){var m;return q(q({},u),{},{label:(m=l.get(u.value))===null||m===void 0?void 0:m.label})}return u}),h=new Map,S=new Map;return s.forEach(function(u){h.set(u.value,u),S.set(u.value,e.get(u.value)||p.get(u.value))}),a.current.values=h,a.current.options=S,s},[t,e]),i=n.exports.useCallback(function(r){return e.get(r)||a.current.options.get(r)},[e]);return[o,i]};function vt(t,e){return Ft(t).join("").toUpperCase().includes(e)}const $n=function(t,e,a,o,i){return n.exports.useMemo(function(){if(!a||o===!1)return t;var r=e.options,l=e.label,p=e.value,s=[],h=typeof o=="function",S=a.toUpperCase(),u=h?o:function(d,x){return i?vt(x[i],S):x[r]?vt(x[l!=="children"?l:"label"],S):vt(x[p],S)},m=h?function(d){return mt(d)}:function(d){return d};return t.forEach(function(d){if(d[r]){var x=u(a,m(d));if(x)s.push(d);else{var N=d[r].filter(function(j){return u(a,m(j))});N.length&&s.push(q(q({},d),{},oe({},r,N)))}return}u(a,m(d))&&s.push(d)}),s},[t,o,i,a,e])};var Nt=0,Wn=dn();function Bn(){var t;return Wn?(t=Nt,Nt+=1):t="TEST_OR_SSR",t}function Hn(t){var e=n.exports.useState(),a=ae(e,2),o=a[0],i=a[1];return n.exports.useEffect(function(){i("rc_select_".concat(Bn()))},[]),t||o}var Un=["children","value"],zn=["children"];function jn(t){var e=t,a=e.key,o=e.props,i=o.children,r=o.value,l=Je(o,Un);return q({key:a,value:r!==void 0?r:a,children:i},l)}function Wt(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return fn(t).map(function(a,o){if(!n.exports.isValidElement(a)||!a.type)return null;var i=a,r=i.type.isSelectOptGroup,l=i.key,p=i.props,s=p.children,h=Je(p,zn);return e||!r?jn(a):q(q({key:"__RC_SELECT_GRP__".concat(l===null?o:l,"__"),label:l},h),{},{options:Wt(s)})}).filter(function(a){return a})}function Gn(t,e,a,o,i){return n.exports.useMemo(function(){var r=t,l=!t;l&&(r=Wt(e));var p=new Map,s=new Map,h=function(m,d,x){x&&typeof x=="string"&&m.set(d[x],d)};function S(u){for(var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,d=0;d<u.length;d+=1){var x=u[d];!x[a.options]||m?(p.set(x[a.value],x),h(s,x,a.label),h(s,x,o),h(s,x,i)):S(x[a.options],!0)}}return S(r),{options:r,valueOptions:p,labelOptions:s}},[t,e,a,o,i])}function Vt(t){var e=n.exports.useRef();e.current=t;var a=n.exports.useCallback(function(){return e.current.apply(e,arguments)},[]);return a}var Bt=function(){return null};Bt.isSelectOptGroup=!0;var Ht=function(){return null};Ht.isSelectOption=!0;var Ut=n.exports.createContext(null);function Xn(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var Yn=["disabled","title","children","style","className"];function Tt(t){return typeof t=="string"||typeof t=="number"}var Jn=function(e,a){var o=bn(),i=o.prefixCls,r=o.id,l=o.open,p=o.multiple,s=o.mode,h=o.searchValue,S=o.toggleOpen,u=o.notFoundContent,m=o.onPopupScroll,d=n.exports.useContext(Ut),x=d.flattenOptions,N=d.onActiveValue,j=d.defaultActiveFirstOption,O=d.onSelect,T=d.menuItemSelectedIcon,_=d.rawValues,Z=d.fieldNames,H=d.virtual,G=d.listHeight,le=d.listItemHeight,V="".concat(i,"-item"),$=vn(function(){return x},[l,x],function(y,c){return c[0]&&y[1]!==c[1]}),X=n.exports.useRef(null),z=function(c){c.preventDefault()},Y=function(c){X.current&&X.current.scrollTo(typeof c=="number"?{index:c}:c)},W=function(c){for(var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,F=$.length,L=0;L<F;L+=1){var k=(c+L*E+F)%F,Q=$[k],A=Q.group,te=Q.data;if(!A&&!te.disabled)return k}return-1},ee=n.exports.useState(function(){return W(0)}),J=ae(ee,2),D=J[0],M=J[1],R=function(c){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;M(c);var F={source:E?"keyboard":"mouse"},L=$[c];if(!L){N(null,-1,F);return}N(L.value,c,F)};n.exports.useEffect(function(){R(j!==!1?W(0):-1)},[$.length,h]);var P=n.exports.useCallback(function(y){return _.has(y)&&s!=="combobox"},[s,Re(_).toString(),_.size]);n.exports.useEffect(function(){var y=setTimeout(function(){if(!p&&l&&_.size===1){var E=Array.from(_)[0],F=$.findIndex(function(L){var k=L.data;return k.value===E});F!==-1&&(R(F),Y(F))}});if(l){var c;(c=X.current)===null||c===void 0||c.scrollTo(void 0)}return function(){return clearTimeout(y)}},[l,h]);var me=function(c){c!==void 0&&O(c,{selected:!_.has(c)}),p||S(!1)};if(n.exports.useImperativeHandle(a,function(){return{onKeyDown:function(c){var E=c.which,F=c.ctrlKey;switch(E){case C.N:case C.P:case C.UP:case C.DOWN:{var L=0;if(E===C.UP?L=-1:E===C.DOWN?L=1:Xn()&&F&&(E===C.N?L=1:E===C.P&&(L=-1)),L!==0){var k=W(D+L,L);Y(k),R(k,!0)}break}case C.ENTER:{var Q=$[D];Q&&!Q.data.disabled?me(Q.value):me(void 0),l&&c.preventDefault();break}case C.ESC:S(!1),l&&c.stopPropagation()}},onKeyUp:function(){},scrollTo:function(c){Y(c)}}}),$.length===0)return n.exports.createElement("div",{role:"listbox",id:"".concat(r,"_list"),className:"".concat(V,"-empty"),onMouseDown:z},u);var ce=Object.keys(Z).map(function(y){return Z[y]}),ke=function(c){return c.label};function re(y,c){var E=y.group;return{role:E?"presentation":"option",id:"".concat(r,"_list_").concat(c)}}var ve=function(c){var E=$[c];if(!E)return null;var F=E.data||{},L=F.value,k=E.group,Q=ut(F,!0),A=ke(E);return E?n.exports.createElement("div",Le({"aria-label":typeof A=="string"&&!k?A:null},Q,{key:c},re(E,c),{"aria-selected":P(L)}),L):null},ye={role:"listbox",id:"".concat(r,"_list")};return n.exports.createElement(n.exports.Fragment,null,H&&n.exports.createElement("div",Le({},ye,{style:{height:0,width:0,overflow:"hidden"}}),ve(D-1),ve(D),ve(D+1)),n.exports.createElement(hn,{itemKey:"key",ref:X,data:$,height:G,itemHeight:le,fullHeight:!1,onMouseDown:z,onScroll:m,virtual:H,innerProps:H?null:ye},function(y,c){var E,F=y.group,L=y.groupOption,k=y.data,Q=y.label,A=y.value,te=k.key;if(F){var ue,Se=(ue=k.title)!==null&&ue!==void 0?ue:Tt(Q)?Q.toString():void 0;return n.exports.createElement("div",{className:ze(V,"".concat(V,"-group")),title:Se},Q!==void 0?Q:te)}var se=k.disabled,xe=k.title;k.children;var de=k.style,K=k.className,Te=Je(k,Yn),Ke=pn(Te,ce),ge=P(A),we="".concat(V,"-option"),Qe=ze(V,we,K,(E={},oe(E,"".concat(we,"-grouped"),L),oe(E,"".concat(we,"-active"),D===c&&!se),oe(E,"".concat(we,"-disabled"),se),oe(E,"".concat(we,"-selected"),ge),E)),Ie=ke(y),Ae=!T||typeof T=="function"||ge,Me=typeof Ie=="number"?Ie:Ie||A,Ee=Tt(Me)?Me.toString():void 0;return xe!==void 0&&(Ee=xe),n.exports.createElement("div",Le({},ut(Ke),H?{}:re(y,c),{"aria-selected":ge,className:Qe,title:Ee,onMouseMove:function(){D===c||se||R(c)},onClick:function(){se||me(A)},style:de}),n.exports.createElement("div",{className:"".concat(we,"-content")},Me),n.exports.isValidElement(T)||ge,Ae&&n.exports.createElement(lt,{className:"".concat(V,"-option-state"),customizeIcon:T,customizeIconProps:{isSelected:ge}},ge?"✓":null))}))},zt=n.exports.forwardRef(Jn);zt.displayName="OptionList";var Qn=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],qn=["inputValue"];function Zn(t){return!t||ht(t)!=="object"}var eo=n.exports.forwardRef(function(t,e){var a=t.id,o=t.mode,i=t.prefixCls,r=i===void 0?"rc-select":i,l=t.backfill,p=t.fieldNames,s=t.inputValue,h=t.searchValue,S=t.onSearch,u=t.autoClearSearchValue,m=u===void 0?!0:u,d=t.onSelect,x=t.onDeselect,N=t.dropdownMatchSelectWidth,j=N===void 0?!0:N,O=t.filterOption,T=t.filterSort,_=t.optionFilterProp,Z=t.optionLabelProp,H=t.options,G=t.children,le=t.defaultActiveFirstOption,V=t.menuItemSelectedIcon,$=t.virtual,X=t.listHeight,z=X===void 0?200:X,Y=t.listItemHeight,W=Y===void 0?20:Y,ee=t.value,J=t.defaultValue,D=t.labelInValue,M=t.onChange,R=Je(t,Qn),P=Hn(a),me=gt(o),ce=!!(!H&&G),ke=n.exports.useMemo(function(){return O===void 0&&o==="combobox"?!1:O},[O,o]),re=n.exports.useMemo(function(){return $t(p,ce)},[JSON.stringify(p),ce]),ve=pt("",{value:h!==void 0?h:s,postState:function(b){return b||""}}),ye=ae(ve,2),y=ye[0],c=ye[1],E=Gn(H,G,re,_,Z),F=E.valueOptions,L=E.labelOptions,k=E.options,Q=n.exports.useCallback(function(f){var b=Ft(f);return b.map(function(v){var I,B,U,_e,Ne;if(Zn(v))I=v;else{var Ge;U=v.key,B=v.label,I=(Ge=v.value)!==null&&Ge!==void 0?Ge:U}var fe=F.get(I);if(fe){var Be;B===void 0&&(B=fe==null?void 0:fe[Z||re.label]),U===void 0&&(U=(Be=fe==null?void 0:fe.key)!==null&&Be!==void 0?Be:I),_e=fe==null?void 0:fe.disabled,Ne=fe==null?void 0:fe.title}return{label:B,value:I,key:U,disabled:_e,title:Ne}})},[re,Z,F]),A=pt(J,{value:ee}),te=ae(A,2),ue=te[0],Se=te[1],se=n.exports.useMemo(function(){var f,b=Q(ue);return o==="combobox"&&!((f=b[0])!==null&&f!==void 0&&f.value)?[]:b},[ue,Q,o]),xe=Kn(se,F),de=ae(xe,2),K=de[0],Te=de[1],Ke=n.exports.useMemo(function(){if(!o&&K.length===1){var f=K[0];if(f.value===null&&(f.label===null||f.label===void 0))return[]}return K.map(function(b){var v;return q(q({},b),{},{label:(v=b.label)!==null&&v!==void 0?v:b.value})})},[o,K]),ge=n.exports.useMemo(function(){return new Set(K.map(function(f){return f.value}))},[K]);n.exports.useEffect(function(){if(o==="combobox"){var f,b=(f=K[0])===null||f===void 0?void 0:f.value;c(In(b)?String(b):"")}},[K]);var we=Vt(function(f,b){var v,I=b??f;return v={},oe(v,re.value,f),oe(v,re.label,I),v}),Qe=n.exports.useMemo(function(){if(o!=="tags")return k;var f=Re(k),b=function(I){return F.has(I)};return Re(K).sort(function(v,I){return v.value<I.value?-1:1}).forEach(function(v){var I=v.value;b(I)||f.push(we(I,v.label))}),f},[we,k,F,K,o]),Ie=$n(Qe,re,y,ke,_),Ae=n.exports.useMemo(function(){return o!=="tags"||!y||Ie.some(function(f){return f[_||"value"]===y})?Ie:[we(y)].concat(Re(Ie))},[we,_,o,Ie,y]),Me=n.exports.useMemo(function(){return T?Re(Ae).sort(function(f,b){return T(f,b)}):Ae},[Ae,T]),Ee=n.exports.useMemo(function(){return An(Me,{fieldNames:re,childrenAsData:ce})},[Me,re,ce]),he=function(b){var v=Q(b);if(Se(v),M&&(v.length!==K.length||v.some(function(U,_e){var Ne;return((Ne=K[_e])===null||Ne===void 0?void 0:Ne.value)!==(U==null?void 0:U.value)}))){var I=D?v:v.map(function(U){return U.value}),B=v.map(function(U){return mt(Te(U.value))});M(me?I:I[0],me?B:B[0])}},ct=n.exports.useState(null),Xe=ae(ct,2),qe=Xe[0],$e=Xe[1],st=n.exports.useState(0),De=ae(st,2),ot=De[0],Pe=De[1],at=le!==void 0?le:o!=="combobox",rt=n.exports.useCallback(function(f,b){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},I=v.source,B=I===void 0?"keyboard":I;Pe(b),l&&o==="combobox"&&f!==null&&B==="keyboard"&&$e(String(f))},[l,o]),je=function(b,v,I){var B=function(){var Ve,Fe=Te(b);return[D?{label:Fe==null?void 0:Fe[re.label],value:b,key:(Ve=Fe==null?void 0:Fe.key)!==null&&Ve!==void 0?Ve:b}:b,mt(Fe)]};if(v&&d){var U=B(),_e=ae(U,2),Ne=_e[0],Ge=_e[1];d(Ne,Ge)}else if(!v&&x&&I!=="clear"){var fe=B(),Be=ae(fe,2),tt=Be[0],dt=Be[1];x(tt,dt)}},Ze=Vt(function(f,b){var v,I=me?b.selected:!0;I?v=me?[].concat(Re(K),[f]):[f]:v=K.filter(function(B){return B.value!==f}),he(v),je(f,I),o==="combobox"?$e(""):(!gt||m)&&(c(""),$e(""))}),et=function(b,v){he(b);var I=v.type,B=v.values;(I==="remove"||I==="clear")&&B.forEach(function(U){je(U.value,!1,I)})},ie=function(b,v){if(c(b),$e(null),v.source==="submit"){var I=(b||"").trim();if(I){var B=Array.from(new Set([].concat(Re(ge),[I])));he(B),je(I,!0),c("")}return}v.source!=="blur"&&(o==="combobox"&&he(b),S==null||S(b))},it=function(b){var v=b;o!=="tags"&&(v=b.map(function(B){var U=L.get(B);return U==null?void 0:U.value}).filter(function(B){return B!==void 0}));var I=Array.from(new Set([].concat(Re(ge),Re(v))));he(I),I.forEach(function(B){je(B,!0)})},We=n.exports.useMemo(function(){var f=$!==!1&&j!==!1;return q(q({},E),{},{flattenOptions:Ee,onActiveValue:rt,defaultActiveFirstOption:at,onSelect:Ze,menuItemSelectedIcon:V,rawValues:ge,fieldNames:re,virtual:f,listHeight:z,listItemHeight:W,childrenAsData:ce})},[E,Ee,rt,at,Ze,V,ge,re,$,j,z,W,ce]);return n.exports.createElement(Ut.Provider,{value:We},n.exports.createElement(kn,Le({},R,{id:P,prefixCls:r,ref:e,omitDomProps:qn,mode:o,displayValues:Ke,onDisplayValuesChange:et,searchValue:y,onSearch:ie,autoClearSearchValue:m,onSearchSplit:it,dropdownMatchSelectWidth:j,OptionList:zt,emptyOptions:!Ee.length,activeValue:qe,activeDescendantId:"".concat(P,"_list_").concat(ot)})))}),jt=eo;jt.Option=Ht;jt.OptGroup=Bt;export{kn as B,Ht as O,jt as T,Bt as a,Hn as b,bn as u};
