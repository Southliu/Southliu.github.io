import{r as f}from"./react@18.2.0-693b9b6f.js";import{c as F}from"./classnames@2.3.2-d75d9a59.js";import{f as h,d as Y,g as p,c as U,b as ee}from"./@babel_runtime@7.20.1-c09c1810.js";import{b as V,j as m,F as ne}from"./@ant-design_cssinjs@1.0.2_biqbaboplfbrettd7655fr4n2y-8bfcb13e.js";import{h as ae,o as te}from"./rc-util@5.24.6_biqbaboplfbrettd7655fr4n2y-0f35c327.js";function H(e){return!!(e.addonBefore||e.addonAfter)}function Z(e){return!!(e.prefix||e.suffix||e.allowClear)}function W(e,n,c,t){if(!!c){var r=n;if(n.type==="click"){var o=e.cloneNode(!0);r=Object.create(n,{target:{value:o},currentTarget:{value:o}}),o.value="",c(r);return}if(t!==void 0){r=Object.create(n,{target:{value:e},currentTarget:{value:e}}),e.value=t,c(r);return}c(r)}}function re(e,n){if(!!e){e.focus(n);var c=n||{},t=c.cursor;if(t){var r=e.value.length;switch(t){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}function X(e){return typeof e>"u"||e===null?"":String(e)}var ue=function(n){var c=n.inputElement,t=n.prefixCls,r=n.prefix,o=n.suffix,_=n.addonBefore,C=n.addonAfter,B=n.className,d=n.style,N=n.affixWrapperClassName,T=n.groupClassName,$=n.wrapperClassName,y=n.disabled,w=n.readOnly,b=n.focused,R=n.triggerFocus,i=n.allowClear,S=n.value,q=n.handleReset,D=n.hidden,j=f.exports.useRef(null),z=function(v){var g;(g=j.current)!==null&&g!==void 0&&g.contains(v.target)&&(R==null||R())},O=function(){var v;if(!i)return null;var g=!y&&!w&&S,K="".concat(t,"-clear-icon"),u=Y(i)==="object"&&i!==null&&i!==void 0&&i.clearIcon?i.clearIcon:"\u2716";return m("span",{onClick:q,onMouseDown:function(E){return E.preventDefault()},className:F(K,(v={},h(v,"".concat(K,"-hidden"),!g),h(v,"".concat(K,"-has-suffix"),!!o),v)),role:"button",tabIndex:-1,children:u})},k=f.exports.cloneElement(c,{value:S,hidden:D});if(Z(n)){var s,x="".concat(t,"-affix-wrapper"),A=F(x,(s={},h(s,"".concat(x,"-disabled"),y),h(s,"".concat(x,"-focused"),b),h(s,"".concat(x,"-readonly"),w),h(s,"".concat(x,"-input-with-clear-btn"),o&&i&&S),s),!H(n)&&B,N),l=(o||i)&&V("span",{className:"".concat(t,"-suffix"),children:[O(),o]});k=V("span",{className:A,style:d,hidden:!H(n)&&D,onClick:z,ref:j,children:[r&&m("span",{className:"".concat(t,"-prefix"),children:r}),f.exports.cloneElement(c,{style:null,value:S,hidden:null}),l]})}if(H(n)){var I="".concat(t,"-group"),L="".concat(I,"-addon"),G=F("".concat(t,"-wrapper"),I,$),J=F("".concat(t,"-group-wrapper"),B,T);return m("span",{className:J,style:d,hidden:D,children:V("span",{className:G,children:[_&&m("span",{className:L,children:_}),f.exports.cloneElement(k,{style:null,hidden:null}),C&&m("span",{className:L,children:C})]})})}return k},le=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","inputClassName"],de=f.exports.forwardRef(function(e,n){var c=e.autoComplete,t=e.onChange,r=e.onFocus,o=e.onBlur,_=e.onPressEnter,C=e.onKeyDown,B=e.prefixCls,d=B===void 0?"rc-input":B,N=e.disabled,T=e.htmlSize,$=e.className,y=e.maxLength,w=e.suffix,b=e.showCount,R=e.type,i=R===void 0?"text":R,S=e.inputClassName,q=p(e,le),D=ae(e.defaultValue,{value:e.value}),j=U(D,2),z=j[0],O=j[1],k=f.exports.useState(!1),s=U(k,2),x=s[0],A=s[1],l=f.exports.useRef(null),I=function(a){l.current&&re(l.current,a)};f.exports.useImperativeHandle(n,function(){return{focus:I,blur:function(){var a;(a=l.current)===null||a===void 0||a.blur()},setSelectionRange:function(a,E,P){var M;(M=l.current)===null||M===void 0||M.setSelectionRange(a,E,P)},select:function(){var a;(a=l.current)===null||a===void 0||a.select()},input:l.current}}),f.exports.useEffect(function(){A(function(u){return u&&N?!1:u})},[N]);var L=function(a){e.value===void 0&&O(a.target.value),l.current&&W(l.current,a,t)},G=function(a){_&&a.key==="Enter"&&_(a),C==null||C(a)},J=function(a){A(!0),r==null||r(a)},Q=function(a){A(!1),o==null||o(a)},v=function(a){O(""),I(),l.current&&W(l.current,a,t)},g=function(){var a=te(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName","htmlSize"]);return m("input",{autoComplete:c,...a,onChange:L,onFocus:J,onBlur:Q,onKeyDown:G,className:F(d,h({},"".concat(d,"-disabled"),N),S,!H(e)&&!Z(e)&&$),ref:l,size:T,type:i})},K=function(){var a=Number(y)>0;if(w||b){var E=X(z),P=ee(E).length,M=Y(b)==="object"?b.formatter({value:E,count:P,maxLength:y}):"".concat(P).concat(a?" / ".concat(y):"");return V(ne,{children:[!!b&&m("span",{className:F("".concat(d,"-show-count-suffix"),h({},"".concat(d,"-show-count-has-suffix"),!!w)),children:M}),w]})}return null};return m(ue,{...q,prefixCls:d,className:$,inputElement:g(),handleReset:v,value:X(z),focused:x,triggerFocus:I,suffix:K(),disabled:N})});export{de as I};
