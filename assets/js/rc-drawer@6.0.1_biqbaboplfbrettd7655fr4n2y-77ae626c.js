import{e as u,c as q,f as B}from"./@babel_runtime@7.20.1-5f192e20.js";import{r as s}from"./react@18.2.0-52f219d3.js";import{P as de}from"./@rc-component_portal@1.0.3_biqbaboplfbrettd7655fr4n2y-3f88a938.js";import{c as N}from"./classnames@2.3.2-d75d9a59.js";import{C as L}from"./rc-motion@2.6.2_biqbaboplfbrettd7655fr4n2y-948a0f38.js";import{j as l,F as ue,b as fe}from"./@ant-design_cssinjs@1.0.2_biqbaboplfbrettd7655fr4n2y-bf6e9dad.js";import{a as me,K as j}from"./rc-util@5.24.6_biqbaboplfbrettd7655fr4n2y-e98ccc02.js";var ve=function(t){var c=t.prefixCls,f=t.className,d=t.style,o=t.children,r=t.containerRef;return l(ue,{children:l("div",{className:N("".concat(c,"-content"),f),style:u({},d),"aria-modal":"true",role:"dialog",ref:r,children:o})})},X=s.exports.createContext(null);function Y(e){return typeof e=="string"&&String(Number(e))===e?(me(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var H={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function he(e){var t,c,f,d,o=e.prefixCls,r=e.open,m=e.placement,S=e.inline,k=e.push,g=e.forceRender,C=e.autoFocus,p=e.keyboard,D=e.rootClassName,P=e.rootStyle,R=e.zIndex,b=e.className,G=e.style,O=e.motion,J=e.width,Q=e.height,U=e.children,Z=e.contentWrapperStyle,_=e.mask,$=e.maskClosable,ee=e.maskMotion,ae=e.maskClassName,te=e.maskStyle,I=e.afterOpenChange,K=e.onClose,z=s.exports.useRef(),A=s.exports.useRef(),M=s.exports.useRef(),ne=function(i){var y=i.keyCode,x=i.shiftKey;switch(y){case j.TAB:{if(y===j.TAB){if(!x&&document.activeElement===M.current){var E;(E=A.current)===null||E===void 0||E.focus({preventScroll:!0})}else if(x&&document.activeElement===A.current){var F;(F=M.current)===null||F===void 0||F.focus({preventScroll:!0})}}break}case j.ESC:{K&&p&&K(i);break}}};s.exports.useEffect(function(){if(r&&C){var a;(a=z.current)===null||a===void 0||a.focus({preventScroll:!0})}},[r,C]);var re=s.exports.useState(!1),T=q(re,2),ie=T[0],V=T[1],n=s.exports.useContext(X),w;k===!1?w={distance:0}:k===!0?w={}:w=k||{};var v=(t=(c=(f=w)===null||f===void 0?void 0:f.distance)!==null&&c!==void 0?c:n==null?void 0:n.pushDistance)!==null&&t!==void 0?t:180,oe=s.exports.useMemo(function(){return{pushDistance:v,push:function(){V(!0)},pull:function(){V(!1)}}},[v]);s.exports.useEffect(function(){if(r){var a;n==null||(a=n.push)===null||a===void 0||a.call(n)}else{var i;n==null||(i=n.pull)===null||i===void 0||i.call(n)}},[r]),s.exports.useEffect(function(){return function(){var a;n==null||(a=n.pull)===null||a===void 0||a.call(n)}},[]);var le=_&&l(L,{...ee,visible:r,children:function(a,i){var y=a.className,x=a.style;return l("div",{className:N("".concat(o,"-mask"),y,ae),style:u(u({},x),te),onClick:$?K:void 0,ref:i})}},"mask"),se=typeof O=="function"?O(m):O,h={};if(ie&&v)switch(m){case"top":h.transform="translateY(".concat(v,"px)");break;case"bottom":h.transform="translateY(".concat(-v,"px)");break;case"left":h.transform="translateX(".concat(v,"px)");break;default:h.transform="translateX(".concat(-v,"px)");break}m==="left"||m==="right"?h.width=Y(J):h.height=Y(Q);var ce=l(L,{...se,visible:r,forceRender:g,onVisibleChanged:function(i){I==null||I(i)},removeOnLeave:!1,leavedClassName:"".concat(o,"-content-wrapper-hidden"),children:function(a,i){var y=a.className,x=a.style;return l("div",{className:N("".concat(o,"-content-wrapper"),y),style:u(u(u({},h),x),Z),children:l(ve,{containerRef:i,prefixCls:o,className:b,style:G,children:U})})}},"panel"),W=u({},P);return R&&(W.zIndex=R),l(X.Provider,{value:oe,children:fe("div",{className:N(o,"".concat(o,"-").concat(m),D,(d={},B(d,"".concat(o,"-open"),r),B(d,"".concat(o,"-inline"),S),d)),style:W,tabIndex:-1,ref:z,onKeyDown:ne,children:[le,l("div",{tabIndex:0,ref:A,style:H,"aria-hidden":"true","data-sentinel":"start"}),ce,l("div",{tabIndex:0,ref:M,style:H,"aria-hidden":"true","data-sentinel":"end"})]})})}var Ce=function(t){var c=t.open,f=t.getContainer,d=t.forceRender,o=t.prefixCls,r=t.afterOpenChange,m=t.destroyOnClose,S=t.mask,k=s.exports.useState(!1),g=q(k,2),C=g[0],p=g[1],D=function(b){p(b),r==null||r(b)};if(!d&&!C&&!c&&m)return null;var P=u(u({},t),{},{prefixCls:o,afterOpenChange:D});return l(de,{open:c||d||C,autoDestroy:!1,getContainer:f,autoLock:S&&(c||C),children:l(he,{...P,inline:f===!1})})};Ce.defaultProps={open:!1,prefixCls:"rc-drawer",placement:"right",autoFocus:!0,keyboard:!0,width:378,mask:!0,maskClosable:!0};export{Ce as D};
