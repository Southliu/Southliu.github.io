import{c as qt}from"./react-dom@18.2.0_react@18.2.0-a4d36ec3.js";import{H as Gt}from"./react-router-dom@6.4.0_biqbaboplfbrettd7655fr4n2y-4785f56b.js";import{r as l,R as K}from"./react@18.2.0-44b760b7.js";import{n as Ye}from"./nprogress@0.2.0-0e691ed3.js";import{I as A}from"./@iconify_react@3.2.2_react@18.2.0-0ddee68b.js";import{j as s,b as g,F as V,S as Jt,P as Zt,V as Xt,W as Qt,g as st,X as en,Y as tn,Z as nn,_ as sn,$ as on,c as rn,a0 as an,a1 as We}from"./@ant-design_icons@4.7.0_biqbaboplfbrettd7655fr4n2y-e9f5044e.js";import{c as Re,a as ln}from"./@reduxjs_toolkit@1.8.5_kkwg4cbsojnjnupd3btipussee-d6cc1968.js";import{u as W,a as D,P as cn}from"./react-redux@8.0.2_6hrpdt74nuubt2lijsfizev3cu-1aa83e1b.js";import{u as X,a as Ce,O as un,b as dn}from"./react-router@6.4.0_react@18.2.0-8e5a3c66.js";import"./hoist-non-react-statics@3.3.2-45eb0518.js";import"./react-is@18.2.0-8137d776.js";import{B as q,m as z,S as mn,a as ot,T as rt,D as at,b as it,I as te,c as pn,A as hn,C as lt,R as fn,d as gn,e as xn,f as yn,U as bn,F as O,g as Cn,h as wn,i as Fn,M as we,j as se,P as kn,k as Sn,l as ct,n as _e,o as En,p as vn,q as Dn,z as Bn}from"./antd@4.24.2_biqbaboplfbrettd7655fr4n2y-48a61eb7.js";import{a as ut}from"./axios@0.27.2-15f3b72a.js";import{a as dt,U as Nn}from"./crypto-js@4.1.1-dca1030e.js";import{h as I}from"./moment@2.29.4-e75667bf.js";import{u as Me,a as An,b as Pn}from"./ahooks@3.7.1_react@18.2.0-989d3a5d.js";import{K as Tn,r as Le}from"./react-activation@0.12.0_react@18.2.0-5fc4db19.js";import{u as In,i as $n,a as Rn,b as _n,c as Mn,d as Ln,e as On,f as zn,g as Hn,h as Kn,j as Un,k as Vn,l as Yn,m as Wn,n as jn,o as qn,p as Gn,q as Jn,r as Zn,s as Xn,t as Qn,v as es,w as he}from"./echarts@5.3.3-9b59a6d8.js";import"./@wangeditor_editor@5.1.21-260a7bda.js";import{d as ts,u as ns}from"./@wangeditor_editor-for-react@1.0.5_a4osw5opsw3a577u74ymgyulja-1059524f.js";import{F as ss}from"./react-window@1.8.7_biqbaboplfbrettd7655fr4n2y-d205b196.js";import{A as os}from"./react-virtualized-auto-sizer@1.0.7_biqbaboplfbrettd7655fr4n2y-dd52f8f4.js";import{R as rs}from"./react-resizable@3.0.4_biqbaboplfbrettd7655fr4n2y-426997e1.js";import{c as as}from"./react-draggable@4.4.5_biqbaboplfbrettd7655fr4n2y-01f20b9c.js";import"./@babel_runtime@7.19.0-130d17ca.js";import"./scheduler@0.23.0-65b5f0cc.js";import"./@remix-run_router@1.0.2-86c67200.js";import"./@ant-design_icons-svg@4.2.1-c0ff602d.js";import"./classnames@2.3.2-d75d9a59.js";import"./@ant-design_colors@6.0.0-41e78357.js";import"./@ctrl_tinycolor@3.4.1-87b86e7f.js";import"./rc-util@5.24.4_biqbaboplfbrettd7655fr4n2y-26f345e3.js";import"./react-is@16.13.1-140c6955.js";import"./immer@9.0.15-8f435eb4.js";import"./redux@4.2.0-6e44184a.js";import"./redux-thunk@2.4.1_redux@4.2.0-1f40d824.js";import"./use-sync-external-store@1.2.0_react@18.2.0-592ba9c7.js";import"./@remix-run_router@1.0.0-ab90344f.js";import"./rc-resize-observer@1.2.0_biqbaboplfbrettd7655fr4n2y-285150d0.js";import"./resize-observer-polyfill@1.5.1-1e2b0dc8.js";import"./rc-motion@2.6.2_biqbaboplfbrettd7655fr4n2y-efb9388b.js";import"./lodash@4.17.21-d8256171.js";import"./rc-picker@2.7.0_biqbaboplfbrettd7655fr4n2y-9674eccb.js";import"./rc-trigger@5.3.1_biqbaboplfbrettd7655fr4n2y-4732e4c0.js";import"./rc-align@4.0.12_biqbaboplfbrettd7655fr4n2y-52158f9b.js";import"./dom-align@1.12.3-747260cd.js";import"./shallowequal@1.1.0-be60d069.js";import"./rc-tabs@12.3.0_biqbaboplfbrettd7655fr4n2y-84616245.js";import"./rc-menu@9.7.2_biqbaboplfbrettd7655fr4n2y-20b6cd22.js";import"./rc-overflow@1.2.8_biqbaboplfbrettd7655fr4n2y-3779c9ee.js";import"./rc-dropdown@4.0.1_biqbaboplfbrettd7655fr4n2y-7eae481c.js";import"./rc-select@14.1.13_biqbaboplfbrettd7655fr4n2y-0b91f264.js";import"./rc-virtual-list@3.4.8_biqbaboplfbrettd7655fr4n2y-2a84ea44.js";import"./rc-tree@5.7.0_biqbaboplfbrettd7655fr4n2y-41e8c1ac.js";import"./rc-field-form@1.27.1_biqbaboplfbrettd7655fr4n2y-e0907e84.js";import"./async-validator@4.2.5-f1555ba6.js";import"./scroll-into-view-if-needed@2.2.29-43a47374.js";import"./compute-scroll-into-view@1.0.17-4f947f73.js";import"./rc-dialog@9.0.2_biqbaboplfbrettd7655fr4n2y-f91bd5d9.js";import"./@rc-component_portal@1.0.3_biqbaboplfbrettd7655fr4n2y-b13e432e.js";import"./rc-input-number@7.3.9_biqbaboplfbrettd7655fr4n2y-61d46af3.js";import"./rc-rate@2.9.2_biqbaboplfbrettd7655fr4n2y-d719d6cb.js";import"./rc-slider@10.0.1_biqbaboplfbrettd7655fr4n2y-d0a3549a.js";import"./rc-switch@3.2.2_biqbaboplfbrettd7655fr4n2y-f6d0403b.js";import"./rc-table@7.26.0_biqbaboplfbrettd7655fr4n2y-39bf309e.js";import"./rc-pagination@3.2.0_biqbaboplfbrettd7655fr4n2y-0ff0da2a.js";import"./rc-checkbox@2.3.2_biqbaboplfbrettd7655fr4n2y-67302dd8.js";import"./rc-input@0.1.4_biqbaboplfbrettd7655fr4n2y-04242a40.js";import"./rc-textarea@0.4.6_biqbaboplfbrettd7655fr4n2y-f4496b87.js";import"./rc-tree-select@5.5.0_biqbaboplfbrettd7655fr4n2y-efd8a475.js";import"./rc-upload@4.3.4_biqbaboplfbrettd7655fr4n2y-02d84d4a.js";import"./rc-notification@4.6.0_biqbaboplfbrettd7655fr4n2y-60a8973b.js";import"./rc-progress@3.4.1_biqbaboplfbrettd7655fr4n2y-be8d240c.js";import"./rc-tooltip@5.2.2_biqbaboplfbrettd7655fr4n2y-f08fe432.js";import"./screenfull@5.2.0-8b262e2b.js";import"./szfe-tools@0.0.0-beta.7-96b486ac.js";import"./create-react-context@0.3.0_react@18.2.0-9542f5ef.js";import"./prop-types@15.8.1-20765e74.js";import"./gud@1.0.0-9d6e9924.js";import"./warning@4.0.3-84a434bd.js";import"./react-node-key@0.4.0_react@18.2.0-4844c0ce.js";import"./zrender@5.3.2-d26d099c.js";import"./tslib@2.3.0-6fdb4d67.js";import"./memoize-one@5.2.1-b0f16465.js";import"./clsx@1.2.1-4f31c6c1.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function is(e){const t=[];for(let n=0;n<e.length;n++)e[n].path!=="login"&&t.push(e[n]);return t}const ls=[{label:"\u7CFB\u7EDF\u7BA1\u7406",key:"system",icon:s(A,{icon:"ion:settings-outline"}),children:[{label:"\u7528\u6237\u7BA1\u7406",key:"/system/user",rule:"/authority/user"},{label:"\u83DC\u5355\u7BA1\u7406",key:"/system/menu",rule:"/authority/menu"}]}],cs=[{label:"\u7EC4\u4EF6",key:"demo",icon:s(A,{icon:"fluent:box-20-regular"}),children:[{label:"\u526A\u5207\u677F",key:"/demo/copy",rule:"/demo/copy"},{label:"\u6C34\u5370",key:"/demo/watermark",rule:"/demo/watermark"},{label:"\u865A\u62DF\u6EDA\u52A8",key:"/demo/virtualScroll",rule:"/demo/virtualScroll"},{label:"\u5BCC\u6587\u672C",key:"/demo/editor",rule:"/demo/editor"},{label:"\u5C42\u7EA71",key:"/demo/level1",children:[{label:"\u5C42\u7EA72",key:"/demo/level1/level2",children:[{label:"\u5C42\u7EA73",key:"/demo/level1/level2/level3",rule:"/demo/watermark"}]}]}]}],Y=[{label:"\u4EEA\u8868\u76D8",key:"dashboard",icon:s(A,{icon:"la:tachometer-alt"}),children:[{label:"\u6570\u636E\u603B\u89C8",key:"/dashboard",rule:"/dashboard"}]},...cs,...ls];function Oe(e){const t=ae(e),n=[];if(t.length>0&&n.push(t[0]),t.length>2){let o="/"+t[0];for(let r=1;r<t.length-1;r++)o+="/"+t[r],n.push(o)}return n}function us(e,t){const n=[],o=ae(e);let r=0;const a=o.length;for(let i=0;i<t.length;i++){const{path:u}=t[i];if((u==null?void 0:u[r])===o[r]&&(n.push(t[i].label),r<a-1&&r++),r===a)return n}return n}function ae(e){if(!e||typeof e!="string")return[];const t=(e==null?void 0:e.split("/"))||[];return(t==null?void 0:t[0])===""&&t.shift(),t}function mt(e){var i,u;const{menus:t,permissions:n,value:o}=e;let{currentPath:r,result:a}=e;if(!(t!=null&&t.length)||!o)return[];r||(r=[]),a||(a=[]);for(let c=0;c<t.length;c++)if(le(t[c])){r.push({label:t[c].label,path:ae(t[c].key)});const d={menus:t[c].children,permissions:n,value:o,currentPath:r,result:a},p=mt(d);p.length?a.concat(p):r.pop()}else if(((u=(i=t[c])==null?void 0:i.label)==null?void 0:u.includes(o))&&Fe(t[c],n)){r.push({label:t[c].label,path:ae(t[c].key)});const d=us(t[c].key,r),{label:p,key:h}=t[c];a.push({label:p,key:h,nav:d})}return a}function oe(e){var i;const{menus:t,permissions:n,key:o}=e;let{fatherNav:r,result:a}=e;if(!(t!=null&&t.length))return a;r||(r=[]),a!=null&&a.key||(a={key:"",label:"",nav:[]});for(let u=0;u<t.length;u++){if(!o||a.key)return a;if(le(t[u])){r.push(t[u].label);const c={menus:t[u].children,permissions:n,key:o,fatherNav:r,result:a},d=oe(c);d!=null&&d.key?a=d:r.pop()}else if(((i=t[u])==null?void 0:i.key)===o&&Fe(t[u],n)){r.push(t[u].label);const{label:c,key:d}=t[u];d&&(a={label:c,key:d,nav:r})}}return a}function pt(e,t){const n=[];for(let o=0;o<e.length;o++){if(le(e[o])){const r=pt(e[o].children,t);e[o].children=r!=null&&r.length?r:void 0}(Fe(e[o],t)||le(e[o]))&&n.push(e[o])}return n}function ie(e,t,n=""){if(n)return n;for(let o=0;o<e.length;o++){if(le(e[o])&&!n){const r=ie(e[o].children,t,n);if(r)return n=r,n}Fe(e[o],t)&&!le(e[o])&&(n=e[o].key)}return n}function Fe(e,t){return t==null?void 0:t.includes((e==null?void 0:e.rule)||"")}function le(e){var t;return Boolean((t=e.children)==null?void 0:t.length)}const ht=Re({name:"tabs",initialState:{isMaximize:!1,activeKey:"",nav:[],tabs:[]},reducers:{toggleMaximize:(e,t)=>{e.isMaximize=!!t.payload},setActiveKey:(e,t)=>{e.activeKey=t.payload},setNav:(e,t)=>{e.nav=t.payload},addTabs:(e,t)=>{const{tabs:n}=e,{payload:o}=t;n.find(a=>a.key===o.key)||n.push(o),n[0].closable=(n==null?void 0:n.length)>1},closeTabs:(e,t)=>{const{tabs:n}=e,{payload:o}=t,r=n.findIndex(a=>a.key===o);if(r>=0&&n.splice(r,1),o===e.activeKey){let a="";r===0?a=n[r].key:a=n[r-1].key,e.activeKey=a}n[0].closable=(n==null?void 0:n.length)>1},closeLeft:(e,t)=>{const{tabs:n}=e,{payload:o}=t,r=n.findIndex(a=>a.key===o);r>=0&&n.splice(0,r),e.activeKey=n[0].key,n[0].closable=(n==null?void 0:n.length)>1},closeRight:(e,t)=>{const{tabs:n}=e,{payload:o}=t,r=n.findIndex(a=>a.key===o);r>=0&&n.splice(r+1,n.length-r-1),e.activeKey=n[n.length-1].key,n[0].closable=(n==null?void 0:n.length)>1},closeOther:(e,t)=>{const{tabs:n}=e,{payload:o}=t,r=n.find(a=>a.key===o);r&&(e.tabs=[r],e.activeKey=r.key),n[0].closable=!1},closeAllTab:e=>{e.tabs=[]}}}),{toggleMaximize:ds,setActiveKey:Z,setNav:ft,addTabs:ce,closeTabs:gt,closeLeft:ms,closeRight:ps,closeOther:hs,closeAllTab:fs}=ht.actions,gs=ht.reducer,xs="_animation_1tk4a_1",ys="_shake_1tk4a_1",xt={animation:xs,shake:ys};function ze(){const e=X(),t=W(),n=D(r=>r.user.permissions),o=()=>{const r=ie(Y,n);e(r);const i=oe({menus:Y,permissions:n,key:r});i&&(t(Z(i.key)),t(ce(i)))};return g("div",{className:"absolute left-50% top-50% -translate-x-1/2 -translate-y-1/2 text-center",children:[s("h1",{className:`${xt.animation} w-full text-6rem font-bold`,children:"403"}),s("p",{className:"w-full text-20px font-bold mt-15px text-dark-700",children:"\u5F88\u62B1\u6B49\uFF0C\u60A8\u7684\u8BBF\u95EE\u8BF7\u6C42\u88AB\u7981\u6B62!"}),s(q,{className:"mt-25px margin-auto",onClick:o,children:"\u8FD4\u56DE\u9996\u9875"})]})}const bs="/assets/png/welcome-49086098.png";function Cs(){return s("div",{className:"flex justify-center",children:s("img",{src:bs,alt:"Image",className:"w-980px h-full container"})})}function ws(){const e=X(),t=W(),n=D(r=>r.user.permissions),o=()=>{const r=ie(Y,n);e(r);const i=oe({menus:Y,permissions:n,key:r});i&&(t(Z(i.key)),t(ce(i)))};return g("div",{className:"absolute left-50% top-50% -translate-x-1/2 -translate-y-1/2 text-center",children:[s("h1",{className:`${xt.animation} w-full text-6rem font-bold`,children:"404"}),s("p",{className:"w-full text-20px font-bold mt-15px text-dark-700",children:"\u5F53\u524D\u9875\u9762\u65E0\u6CD5\u8BBF\u95EE\uFF0C\u53EF\u80FD\u6CA1\u6743\u9650\u6216\u5DF2\u5220\u9664"}),s(q,{className:"mt-25px margin-auto",onClick:o,children:"\u8FD4\u56DE\u9996\u9875"})]})}const je="\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF",Be="admin_token",yt="__Vite_Admin_Secret__",pe="\u8BF7\u8F93\u5165",j="\u8BF7\u9009\u62E9",bt="responsive",re=[{required:!0,message:pe}],Pe=[{required:!0,message:j}],Fs="https://www.fastmock.site/mock/bdd0efa89c5ddba1b003043010702b77/v1",qe=`${Fs}/authority/file/upload-file`,ye="\u65B0\u589E",Ct=e=>`\u7F16\u8F91${e?`(${e})`:""}`,ks={pattern:/^(?=.*\d)(?=.*[a-zA-Z])[\da-zA-Z~!@#$%^&*+\.\_\-*]{6,30}$/,message:"\u5BC6\u7801\u4E3A6-30\u4F4D\u5FC5\u987B\u5305\u542B\u5B57\u6BCD\u548C\u6570\u5B57!"};function Ss(e,t=yt){const n=JSON.stringify(e);return dt.exports.encrypt(n,t).toString()}function Es(e,t=yt){const o=dt.exports.decrypt(e,t).toString(Nn);return o?JSON.parse(o):null}const vs=60*60*24*2;function Ds(e,t,n=vs){const o=n!==null?new Date().getTime()+n*1e3:null,a=Ss({value:t,expire:o});localStorage.setItem(e,a)}function Bs(e){const t=localStorage.getItem(e);if(t){let n=null;try{n=Es(t)}catch{z.error({content:"\u6570\u636E\u89E3\u5BC6\u5931\u8D25",key:"decryption"})}if(n){const{value:o,expire:r}=n;if(r===null||r>=Date.now())return o}return wt(e),null}return null}function wt(e){localStorage.removeItem(e)}function ke(){return[()=>Bs(Be)||"",o=>{Ds(Be,o)},()=>{wt(Be)}]}const Ns="https://www.fastmock.site/mock/bdd0efa89c5ddba1b003043010702b77/v1",me=[],As=ut.CancelToken,Ps=As.source(),$=ut.create({baseURL:Ns,timeout:180*1e3}),de=(e,t)=>{console.error("\u9519\u8BEF\u4FE1\u606F:",e),z.error({content:t||e||"\u670D\u52A1\u5668\u9519\u8BEF",key:"error"})};$.interceptors.request.use(e=>{const[t]=ke(),n=t()||"";(e==null?void 0:e.headers)&&n&&(e.headers.Authorization=`Bearer ${n}`);const o=JSON.stringify(e.url)+JSON.stringify(e.data)+"&"+e.method;return me.includes(o)?Ps.cancel():me.push(o),e},e=>(de(e,"\u670D\u52A1\u5668\u9519\u8BEF"),Promise.reject(e)));$.interceptors.response.use(e=>{const t=e.data,n=JSON.stringify(e.config.url)+JSON.stringify(e.config.data)+"&"+e.config.method,o=me.findIndex(r=>r===n);return me.splice(o,1),(t==null?void 0:t.code)===0?(de(t==null?void 0:t.message,"\u6743\u9650\u4E0D\u8DB3\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55"),Promise.reject(e)):(t==null?void 0:t.code)===601||(t==null?void 0:t.code)!==200?(de(t==null?void 0:t.message),Promise.reject(e)):Promise.resolve(e)},e=>(me.length=0,de(e,"\u670D\u52A1\u5668\u9519\u8BEF"),Promise.reject(e)));function Ts(e){return $.get("/dashboard",{params:e})}const Is=[{label:"\u65E5\u671F",name:"pay_date",component:"RangePicker",componentProps:{allowClear:!1}},{label:"\u6E38\u620FID",name:"game_ids",wrapperCol:200,component:"GameSelect"},{label:"\u5408\u4F5C\u516C\u53F8",name:"partners",wrapperCol:200,component:"PartnerSelect"},{label:"\u5168\u670D\u5145\u503C",name:"all_pay",wrapperCol:15,component:"Checkbox"}];function G(e){const t=je+e?`${e} - ${je}`:"";l.exports.useEffect(()=>{document.title=t},[t])}const ne="YYYY-MM-DD",Ne="YYYY-MM-DD hh:mm:ss",$s=[{label:"\u5F00\u542F",value:1},{label:"\u5173\u95ED",value:0}],Ft=[{label:"\u663E\u793A",value:1},{label:"\u9690\u85CF",value:0}],kt=[{value:"authority",label:"\u6743\u9650\u7CFB\u7EDF"},{value:"platform",label:"\u8FD0\u8425\u7CFB\u7EDF"},{value:"stat",label:"\u7EDF\u8BA1\u7CFB\u7EDF"},{value:"ad",label:"\u6295\u653E\u7CFB\u7EDF"},{value:"cs",label:"\u5BA2\u670D\u7CFB\u7EDF"},{value:"log",label:"\u65E5\u5FD7\u7CFB\u7EDF"}],Rs=[{value:"create",label:"\u521B\u5EFA"},{value:"update",label:"\u66F4\u65B0"},{value:"delete",label:"\u5220\u9664"},{value:"detail",label:"\u8BE6\u60C5"},{value:"export",label:"\u5BFC\u51FA"},{value:"status",label:"\u72B6\u6001"}];function St(e){switch(e){case"Switch":case"Checkbox":case"CheckboxGroup":return"checked";case"Upload":return"fileList";default:return"value"}}function _s(e){switch(e){case"Select":return{allowClear:!0,placeholder:j};case"InputNumber":return{placeholder:pe};case"Checkbox":return{};case"CheckboxGroup":return{};case"DatePicker":return{placeholder:j,format:ne};case"RangePicker":return{placeholder:[j,j],format:[ne,ne]};case"TimePicker":return{placeholder:j,format:Ne};case"TimeRangePicker":return{placeholder:[j,j],format:[Ne,Ne]};default:return{allowClear:!0,placeholder:pe}}}function Et(){return s("div",{className:"absolute left-50% top-50% -translate-x-1/2 -translate-y-1/2 text-center",children:s(mn,{spinning:!0})})}function vt(e){const[t,n]=l.exports.useState(!1),[o,r]=l.exports.useState([]),a={...e};delete a.api,delete a.params;const i=async()=>{var c;try{n(!0);const d=await((c=e.api)==null?void 0:c.call(e,e==null?void 0:e.params));r(d||[])}finally{n(!1)}};return s(ot,{allowClear:!0,maxTagCount:bt,placeholder:j,optionFilterProp:"label",...a,loading:t,options:o,notFoundContent:t&&s(Et,{}),onDropdownVisibleChange:c=>{var d;c&&i(),(d=e.onDropdownVisibleChange)==null||d.call(e,c)}})}function Dt(e){const[t,n]=l.exports.useState(!1),[o,r]=l.exports.useState([]),a={...e};delete a.api,delete a.params;const i=async()=>{var c;try{n(!0);const d=await((c=e.api)==null?void 0:c.call(e,e==null?void 0:e.params));r(d||[])}finally{n(!1)}};return s(rt,{allowClear:!0,maxTagCount:bt,placeholder:j,...a,loading:t,treeData:o,notFoundContent:t&&s(Et,{}),onDropdownVisibleChange:c=>{var d;c&&i(),(d=e.onDropdownVisibleChange)==null||d.call(e,c)}})}function Ms(e,t=ne){return I.isMoment(e)?e.format(t):e}function Bt(e){return I.isMoment(e)?e:I(e)}function Ls(e,t=ne){if(!!e)return(e==null?void 0:e.length)>1&&I.isMoment(e==null?void 0:e[0])&&I.isMoment(e==null?void 0:e[1])?[e[0].format(t),e[1].format(t)]:e}function Nt(e){if(!!e)return(e==null?void 0:e.length)>1&&!I.isMoment(e==null?void 0:e[0])&&I.isMoment(e==null?void 0:e[1])?[I(e[0]),e[1]]:(e==null?void 0:e.length)>1&&I.isMoment(e==null?void 0:e[0])&&!I.isMoment(e==null?void 0:e[1])?[e[0],I(e[1])]:(e==null?void 0:e.length)>1&&!I.isMoment(e==null?void 0:e[0])&&!I.isMoment(e==null?void 0:e[1])?[I(e[0]),I(e[1])]:e}function Ge(e,t){var n;for(let o=0;o<e.length;o++)if(e[o].name===t)return((n=e[o].componentProps)==null?void 0:n.format)||ne;return ne}function At(e,t){var n;for(const o in e){if(((n=e[o])==null?void 0:n.length)===2&&I.isMoment(e[o][0])&&I.isMoment(e[o][1])){const r=Ge(t,o);e[o]=Ls(e[o],r)}if((e==null?void 0:e[o])&&I.isMoment(e[o])){const r=Ge(t,o);e[o]=Ms(e[o],r)}}return e}function Os(e){const{value:t}=e,n={...e};return t&&(n.value=Bt(t)),s(at,{...n})}const{RangePicker:zs}=at;function Hs(e){const{value:t}=e,n={...e};return t&&(n.value=Nt(t)),s(zs,{...n})}function Ks(e){const{value:t}=e,n={...e};return t&&(n.value=Bt(t)),s(it,{...n})}const{RangePicker:Us}=it;function Vs(e){const{value:t}=e,n={...e};return t&&(n.value=Nt(t)),s(Us,{...n})}const Ys=new Array(5).fill(0).map((e,t)=>t+1);function Ws(e){const{strength:t}=e;return s("div",{className:"flex items-center",children:Ys.map(n=>s("div",{className:`
              w-19%
              h-5px
              mt-5px
              mr-1%
              rounded-10px
              bg-light-900
              ${n<=t&&t>3?"!bg-green-400":""}
              ${n<=t&&t===3?"!bg-yellow-400":""}
              ${n<=t&&t<3?"!bg-red-400":""}
            `},n))})}function Te(e){const{value:t}=e,[n,o]=l.exports.useState(0),r=Me(a=>{if(!a)return;let i=0;/\d/.test(a)&&i++,/[a-z]/.test(a)&&i++,/[A-Z]/.test(a)&&i++,a.length>10&&i++,/[\.\~\@\#\$\^\&\*]/.test(a)&&i++,o(i)},{wait:500});return l.exports.useEffect(()=>{r.run(t)},[r,t]),g(V,{children:[s(te.Password,{value:t,allowClear:!0,placeholder:pe,autoComplete:"password",...e,onChange:a=>{var i;(i=e.onChange)==null||i.call(e,a),r.run(a.target.value)}}),!!n&&s(Ws,{strength:n})]})}function js(e){return`${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,",")}function Pt(e,t){if(e.length===0)return[];const n=[];for(let o=0;o<e.length;o++){const r=e[o],a=t(r),i=r.children?Pt(r.children,t):void 0;n.push({...a,children:i})}return n}function qs(e){return new Promise((t,n)=>{$.get("/authority/common/games",{params:e}).then(o=>{var a;const r=Pt((a=o==null?void 0:o.data)==null?void 0:a.data,i=>{const{id:u,name:c}=i;return{value:u,label:`${u}:${c}`}});t(r)}).catch(()=>n([]))})}function Gs(e){return s(V,{children:s(Dt,{...e,multiple:!0,api:qs})})}function Js(e){return new Promise((t,n)=>{$.get("/platform/partner",{params:e}).then(o=>{var a;const r=[];(a=o==null?void 0:o.data)==null||a.data.forEach(i=>{r.push({label:i.name,value:i.id})}),t(r)}).catch(()=>n([]))})}function Zs(e){return s(vt,{...e,api:Js,mode:"multiple"})}function Xs(){Je("GameSelect",Gs),Je("PartnerSelect",Zs)}const T=new Map;T.set("Input",te);T.set("InputNumber",pn);T.set("InputPassword",te.Password);T.set("AutoComplete",hn);T.set("Select",ot);T.set("TreeSelect",rt);T.set("Checkbox",lt);T.set("CheckboxGroup",lt.Group);T.set("RadioGroup",fn.Group);T.set("Switch",gn);T.set("Rate",xn);T.set("Slider",yn);T.set("Upload",bn);T.set("DatePicker",Os);T.set("RangePicker",Hs);T.set("TimePicker",Ks);T.set("TimeRangePicker",Vs);T.set("ApiSelect",vt);T.set("ApiTreeSelect",Dt);T.set("PasswordStrength",Te);Xs();function Tt(e){const{component:t,componentProps:n}=e,o=T.get(t);return s(o,{..._s(t),...n})}function Je(e,t){T.set(e,t)}function Qs(e){const{list:t,data:n,formRef:o,isLoading:r,isSearch:a,isCreate:i,children:u,labelCol:c,wrapperCol:d,handleFinish:p}=e,[h]=O.useForm();l.exports.useImperativeHandle(o,()=>({getFieldValue:m=>h.getFieldValue(m),getFieldsValue:()=>h.getFieldsValue(),handleReset:()=>{h.resetFields()},handleSubmit:()=>{h.submit()}}));const y=()=>{var m;(m=e.onCreate)==null||m.call(e)};return s("div",{id:"searches",className:"py-3",children:g(O,{name:"basic",layout:"inline",form:h,labelCol:c||{span:8},wrapperCol:d||{span:16},initialValues:n,onFinish:m=>{if(p){const C=At(m,t);p==null||p(C)}},onFinishFailed:m=>{console.warn("\u641C\u7D22\u9519\u8BEF:",m)},autoComplete:"off",children:[t==null?void 0:t.map(m=>s(O.Item,{label:m.label,name:m.name,className:"!mb-5px",labelCol:{style:{width:m.labelCol}},wrapperCol:{style:{width:m.wrapperCol}},rules:m.rules,valuePropName:St(m.component),children:Tt(m)},`${m.name}`)),a!==!1&&s(O.Item,{children:s(q,{type:"primary",htmlType:"submit",className:"!mb-5px",loading:r,icon:s(Jt,{}),children:"\u641C\u7D22"})}),i!==!1&&s(O.Item,{children:s(q,{type:"primary",className:"!mb-5px",icon:s(Zt,{}),onClick:y,children:"\u65B0\u589E"})}),u]})})}const He=l.exports.memo(Qs);function Ke(e){const{isPermission:t,children:n}=e,{pathname:o}=Ce();return g("div",{className:"h-full p-10px box-border",children:[t!==!1&&s("div",{id:"content",className:`
            h-full
            relative
            overflow-auto
            box-border
            px-5
            pt-5
            pb-2
          `,children:s(Tn,{id:o,name:o,children:n})}),t===!1&&s(ze,{})]})}In([$n,Rn,_n,Mn,Ln,On,zn,Hn,Kn,Un,Vn,Yn,Wn,jn,qn,Gn,Jn,Zn,Xn,Qn,es]);function It(e){let{width:t,height:n}=e;const{className:o,option:r}=e,a=l.exports.useRef(null),[i,u]=l.exports.useState(!1),[c,d]=l.exports.useState(null);t||(t="100%"),n||(n="100%"),l.exports.useEffect(()=>{d(setTimeout(()=>{u(!0)},100))},[]),l.exports.useEffect(()=>()=>{c&&(clearTimeout(c),d(null))},[c]);const p=()=>{var y;a.current&&he!==null&&he!==void 0&&((y=he)==null||y.dispose(a.current))},h=l.exports.useCallback(()=>{i&&(p(),he.init(a.current).setOption(r))},[i,r]);return l.exports.useEffect(()=>{r&&i&&h()},[h,i,r]),l.exports.useEffect(()=>(h(),window.addEventListener("resize",()=>h(),!1),()=>{window.removeEventListener("resize",()=>h()),p()}),[h]),s(V,{children:i&&s("div",{ref:a,className:`echarts ${o}`,style:{height:n,width:t}})})}const eo={title:{text:"\u6709\u6548\u5145\u503C\u5360\u6BD4",left:30,top:5},xAxis:{type:"category",boundaryGap:!1,data:["07-11","07-12","07-13","07-14","07-15","07-16","07-17"]},yAxis:{type:"value"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},series:[{name:"\u5145\u503C\u6570",type:"line",areaStyle:{color:"#1890ff",opacity:.2},emphasis:{focus:"series"},data:[120,140,120,190,150,111,160]},{name:"\u7528\u6237\u6570\u6570",type:"line",areaStyle:{color:"#1890ff",opacity:.3},emphasis:{focus:"series"},data:[90,122,90,140,123,280,200]}]};function to(){return s("div",{className:"w-60% border border-gray-200 rounded-10px",children:s(It,{className:"w-full mt-10px",width:"100%",height:"500px",option:eo})})}const no={title:{text:"\u5F53\u65E5\u5145\u503C\u6392\u884C",left:30,top:5},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",data:["\u5B64\u72EC\u7684\u9738\u6C14","\u51CC\u4E91\u9F50\u5929","\u590F\u81F3\u672A\u81F3","\u53F6\u7483\u6EAA","\u826F\u8FB0\u7F8E\u666F\u5948\u4F55\u5929","\u51F9\u51F8\u66FC","\u516D\u6708\u79BB\u522B","\u79BB\u6B4C","\u7EC8\u6781\u6218\u72AF","\u6C34\u6D17\u6674\u7A7A","\u5B89\u57CE\u5982\u6CAB","\u6E23\u6E23\u7070"]},series:[{name:"\u5145\u503C\u6570",type:"bar",data:[96285,102352,111235,112356,123984,138205,142059,152362,162231,164324,178291,192830]}]};function so(){return s("div",{className:"w-38% border border-gray-200 rounded-10px",children:s(It,{className:"w-full mt-10px",width:"100%",height:"500px",option:no})})}function Ze(e){const{prefix:t,start:n,end:o}=e,[r,a]=l.exports.useState(n),[i,u]=l.exports.useState(null);return l.exports.useEffect(()=>{const c=o-n,d=2*60,p=Math.floor(c/d)||1;u(setInterval(()=>{a(h=>h+p)}))},[o,n]),l.exports.useEffect(()=>{r>=o&&(i&&(clearInterval(i),u(null)),a(o))},[o,r,i]),l.exports.useEffect(()=>()=>{i&&(clearInterval(i),u(null))},[i]),g("span",{children:[t,js(r)]})}const oo=[{title:"\u7528\u6237\u6570",num:14966,all:16236,icon:"icon-park:peoples"},{title:"\u5145\u503C\u6570",num:4286,all:6142,icon:"icon-park:paper-money"},{title:"\u8BA2\u5355\u6570",num:5649,all:5232,icon:"icon-park:transaction-order"},{title:"\u6E38\u620F\u6570",num:619,all:2132,icon:"icon-park:game-handle"}];function ro(){return s(Cn,{gutter:16,children:oo.map(e=>s(wn,{span:6,children:g("div",{className:`
                border
                border-gray-200
                px-30px
                py-20px
                box-border
                rounded-10px
              `,children:[s("div",{className:"text-20px font-bold",children:e.title}),g("div",{className:"flex items-center justify-between text-35px mb-15px",children:[s(Ze,{className:"font-bold",start:0,end:e.num}),s(A,{icon:e.icon})]}),g("div",{className:"flex align-center justify-between",children:[s("span",{children:"\u603B\u6570\uFF1A"}),s(Ze,{start:0,end:e.all})]})]})},e.title))})}const Xe={pay_date:["2022-10-19","2022-10-29"]};function ao(){G("\u6570\u636E\u5C55\u89C8");const[e,t]=l.exports.useState(!1),n=l.exports.useCallback(async o=>{o.all_pay=o.all_pay?1:void 0;const r={...o};try{t(!0),await Ts(r)}finally{t(!1)}},[]);return l.exports.useEffect(()=>{n(Xe)},[n]),s(Ke,{isPermission:!0,children:g(V,{children:[s(He,{list:Is,data:Xe,isLoading:e,isCreate:!1,handleFinish:n}),s("div",{className:"py-10px",children:s(ro,{})}),g("div",{className:"flex justify-between",children:[s(to,{}),s(so,{})]})]})})}function io(){return G("\u52A0\u8F7D\u4E2D"),s("div",{className:`
      absolute
      left-50%
      top-50%
      -rotate-x-50%
      -rotate-y-50%
    `,children:s(A,{className:"text-40px animate-spin",icon:"ri:loader-2-fill"})})}function lo(e){return $.post("/login",e)}function co(e){return $.post("/update-password",e)}const $t=Re({name:"user",initialState:{permissions:[],userInfo:{id:0,username:"",email:"",phone:""}},reducers:{setUserInfo:(e,t)=>{e.userInfo=t.payload},setPermissions:(e,t)=>{e.permissions=t.payload},clearInfo:e=>{e.userInfo={id:0,username:"",email:"",phone:""}}}}),{setUserInfo:Rt,setPermissions:Ie,clearInfo:uo}=$t.actions,mo=$t.reducer,_t=e=>{const t=[];for(let n=0;n<e.length;n++){const{id:o,operation:r}=e[n];t.push(`/${o}`);for(let a=0;a<r.length;a++)t.push(`/${o}/${r[a]}`)}return t},ee=(e,t)=>!t||t.length===0?!1:t.includes(e),Mt="/assets/svg/logo-63a26457.svg";function Lt(){G("\u767B\u5F55");const e=X(),t=W(),[n,o]=ke(),[r,a]=l.exports.useState(!1),i=D(d=>d.user.permissions);return l.exports.useEffect(()=>{if(n()){const d=ie(Y,i);e(d)}},[n,e,i]),s(V,{children:s("div",{className:"bg-light-400 w-screen h-screen relative",children:g("div",{className:`
          w-300px
          h-290px
          p-30px
          rounded-5px
          bg-white
          absolute
          left-1/2
          top-1/2
          -translate-x-1/2
          -translate-y-1/2
        `,children:[g("div",{className:"pb-30px pt-10px flex items-center justify-center",children:[s("img",{className:"mr-2 object-contain",width:"30",height:"30",src:Mt,alt:"LOGO"}),s("span",{className:"text-xl font-bold tracking-2px",children:"\u7CFB\u7EDF\u767B\u5F55"})]}),g(O,{name:"horizontal_login",autoComplete:"on",onFinish:async d=>{try{a(!0);const{data:p}=await lo(d),{data:{token:h,user:y,permissions:f}}=p,k=_t(f),m=ie(Y,k);o(h),t(Rt(y)),t(Ie(k)),e(m)}finally{a(!1)}},onFinishFailed:d=>{console.error("\u9519\u8BEF\u4FE1\u606F:",d)},initialValues:{username:"admin",password:"admin123456"},children:[s(O.Item,{name:"username",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}],children:s(te,{"allow-clear":"true",placeholder:"\u7528\u6237\u540D","data-test":"username",autoComplete:"username",addonBefore:s(Xt,{})})}),s(O.Item,{name:"password",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801"},ks],children:s(te.Password,{placeholder:"\u5BC6\u7801",autoComplete:"current-password",addonBefore:s(Qt,{})})}),s(O.Item,{children:s(q,{type:"primary",htmlType:"submit",className:"w-full mt-5px rounded-5px tracking-2px",loading:r,children:"\u767B\u5F55"})})]})]})})})}function Ot(){const e=l.exports.useRef(null),t=l.exports.useCallback(o=>new Promise((r,a)=>{var i;try{let u=o;if(u||(u=(i=e.current)==null?void 0:i.value),!u){a("\u590D\u5236\u7684\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A");return}if(typeof u!="string"&&typeof u!="number"){a("\u590D\u5236\u7684\u5185\u5BB9\u5FC5\u987B\u662F\u5B57\u7B26\u4E32\u6216\u6570\u5B57");return}navigator.clipboard.writeText(u.toString()).then(()=>{r(u)}).catch(c=>{a(c)})}catch(u){a(u)}}),[]),n=l.exports.useCallback(()=>navigator.clipboard.readText(),[]);return[e,t,n]}const{Search:po}=te;function ho(e){const[,t]=Ot();return s(po,{...e,placeholder:"\u8BF7\u8F93\u5165",enterButton:"\u590D\u5236",onSearch:o=>{if(!o)return z.warning({content:"\u8BF7\u8F93\u5165\u590D\u5236\u5185\u5BB9",key:"copy"});try{t(o),z.success({content:"\u590D\u5236\u6210\u529F",key:"copy"})}catch{z.warning({content:"\u590D\u5236\u5931\u8D25",key:"copy"})}}})}function fo(e){const{text:t,value:n}=e,[,o]=Ot();return s(q,{...e,icon:s(A,{icon:"ant-design:copy-outlined"}),onClick:()=>{try{o(n),z.success({content:"\u590D\u5236\u6210\u529F",key:"copy"})}catch{z.warning({content:"\u590D\u5236\u5931\u8D25",key:"copy"})}},children:t})}function go(){return G("\u526A\u5207\u677F"),g("div",{className:"max-w-300px m-30px",children:[s("h1",{children:"\u526A\u5207\u677F\uFF1A"}),s(ho,{className:"w-300px"}),g("div",{className:"flex items-center mt-50px",children:[s("span",{className:"text-lg",children:"\u5C06\u201Cadmin\u201D\u4F20\u5165\u590D\u5236\u6309\u94AE\u4E2D\uFF1A"}),s(fo,{text:"\u590D\u5236",value:"admin"})]})]})}function xo(e){const{content:t,height:n,className:o,handleChange:r}=e,[a,i]=l.exports.useState(null),[u,c]=l.exports.useState(t),d={},p={placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9...",MENU_CONF:{uploadImage:{server:qe},uploadVideo:{server:qe}}};return l.exports.useEffect(()=>()=>{a!==null&&(a.destroy(),i(null))},[a]),g("div",{className:o,style:{border:"1px solid #ccc",zIndex:100},children:[s(ts,{editor:a,defaultConfig:d,mode:"default",style:{borderBottom:"1px solid #ccc"}}),s(ns,{defaultConfig:p,value:u,onCreated:i,onChange:y=>{c(y.getHtml()),r(y.getHtml())},mode:"default",style:{height:n||300,overflowY:"hidden"}})]})}function yo(){G("\u5BCC\u6587\u672C");const[e,t]=l.exports.useState("<p>hello</p>");return s("div",{className:"m-30px",children:s(xo,{content:e,handleChange:n=>t(n)})})}function bo(){const e=({index:t,style:n})=>g("div",{className:`text-center ${t%2?"bg-#f8f8f0":""}`,style:n,children:["Row ",t+1]});return s(os,{children:({height:t,width:n})=>s(ss,{height:t,itemCount:1e4,itemSize:35,width:n,children:e})})}function Co(){const e=document.getElementById("content"),t=e==null?void 0:e.offsetHeight,n=document.getElementById("searches"),o=n==null?void 0:n.offsetHeight,r=document.getElementById("pagination"),a=r==null?void 0:r.offsetHeight;let i=t||0;return o&&i>0&&(i-=o),a&&i>0&&(i-=a),i>0?i-30:450}function Qe(e){const{onResize:t,width:n,...o}=e;return n?s(rs,{width:n,height:0,handle:s("span",{className:"react-resizable-handle",onClick:r=>{r.stopPropagation()}}),onResize:t,draggableOpts:{enableUserSelectHack:!1},children:s("th",{...o})}):s("th",{...o})}function wo(e,t){switch(t.type){case"changeScroll":let n=t.curScrollTop||0,o=t.scrollHeight||0;const r=t.tableScrollY||0;return o<=0&&(o=0),o!==0&&r===e.tableScrollY&&(o=e.scrollHeight),e.scrollHeight&&n>e.scrollHeight&&(n=e.scrollHeight),{...e,curScrollTop:n,scrollHeight:o,tableScrollY:r};case"reset":return{...e,curScrollTop:0,scrollHeight:0};default:throw new Error("\u8868\u683C\uFF1A\u672A\u77E5\u9519\u8BEF\u7C7B\u578B!")}}function et(e){return typeof e=="number"&&isFinite(e)}const zt=l.exports.createContext({dispatch:void 0,renderLen:1,start:0,offsetStart:0,rowHeight:46,totalLen:0});function Fo(e){const{children:t,...n}=e,{renderLen:o,start:r,offsetStart:a}=l.exports.useContext(zt);let i=null;if(t&&t!==null){const u=t==null?void 0:t[1];Array.isArray(u)&&u.length?i=[t==null?void 0:t[0],u.slice(r,r+o).map(c=>Array.isArray(c)?c[0]:c)]:i=t}return s("tbody",{...n,style:{transform:`translateY(-${a}px)`},children:i})}const ko={rowHeight:46,curScrollTop:0,scrollHeight:0,tableScrollY:0};let $e=0;function So(e){var P,B,R,H,S,N;const{style:t,children:n,...o}=e,{width:r,...a}=t,[i,u]=l.exports.useReducer(wo,ko),c=l.exports.useRef(null),d=l.exports.useRef(null),[p,h]=l.exports.useState((H=(R=(B=(P=n[1])==null?void 0:P.props)==null?void 0:B.data)==null?void 0:R.length)!=null?H:0);l.exports.useEffect(()=>{var x,b,v,_,J,Q;et((v=(b=(x=n[1])==null?void 0:x.props)==null?void 0:b.data)==null?void 0:v.length)&&h((Q=(J=(_=n[1])==null?void 0:_.props)==null?void 0:J.data)==null?void 0:Q.length)},[n]);const y=l.exports.useMemo(()=>{let x="auto";return i.rowHeight&&p&&(x=i.rowHeight*p+10),x},[i.rowHeight,p]);let f=0;typeof $e=="string"?f=(N=(S=c.current)==null?void 0:S.parentNode)==null?void 0:N.offsetHeight:f=$e,et(y)&&y<f&&(f=y),f<=0&&(f=0);const k=l.exports.useMemo(()=>{let x=1;if(i.rowHeight&&p&&f)if(f<=0)x=0;else{const b=(f/i.rowHeight|0)+3;x=b>p?p:b}return x},[i.rowHeight,p,f]);let m=i.rowHeight?i.curScrollTop/i.rowHeight|0:0,C=i.rowHeight?i.curScrollTop%i.rowHeight:0;i.curScrollTop&&i.rowHeight&&i.curScrollTop>i.rowHeight?m>p-k?C=0:m>1&&(m=m-1,C+=i.rowHeight):m=0,l.exports.useEffect(()=>{var b;const x=(b=c.current)==null?void 0:b.parentNode;x&&(x.scrollTop=0),u({type:"reset"})},[p]);const E=An(x=>{var v,_,J;const b=(_=(v=x==null?void 0:x.target)==null?void 0:v.scrollTop)!=null?_:0;if(b!==i.curScrollTop){const Q=((J=x==null?void 0:x.target)==null?void 0:J.scrollHeight)-f;u({type:"changeScroll",curScrollTop:b,scrollHeight:Q,tableScrollY:f})}},{wait:60});return l.exports.useEffect(()=>{var b;const x=(b=c==null?void 0:c.current)==null?void 0:b.parentNode;return x&&x.addEventListener("scroll",v=>E.run(v)),()=>{x.removeEventListener("scroll",v=>E.run(v))}},[c,i.curScrollTop,f,i.scrollHeight,E]),s("div",{className:"virtualTable",ref:c,style:{width:"100%",position:"relative",height:y,boxSizing:"border-box",paddingTop:i.curScrollTop},children:s(zt.Provider,{value:{dispatch:u,rowHeight:i.rowHeight,start:m,offsetStart:C,renderLen:k,totalLen:p},children:s("table",{...o,ref:d,style:{...a,width:r,position:"relative"},children:n})})})}function Eo(e){return $e=e.height,{table:So,body:{wrapper:Fo}}}function vo(e){const{loading:t,isZebra:n,isBordered:o,isVirtual:r,scrollX:a,scrollY:i}=e,[u,c]=l.exports.useState(e.columns);l.exports.useEffect(()=>{c(e.columns)},[e.columns]);const d=Co(),p=C=>(E,{size:P})=>{const B=[...u];B[C]={...B[C],width:P.width},c(B)},h=u.map((C,E)=>({...C,onHeaderCell:P=>({width:P.width,onResize:p(E)})})),y=Eo({height:d}),f=l.exports.useMemo(()=>({header:{cell:Qe},body:{wrapper:y.body.wrapper},table:y.table}),[y]),k=r!==!1?f:{header:{cell:Qe}},m={...e.scroll,x:a,y:i||d};return s("div",{id:"table",className:`
        overflow-auto
        ${o!==!1?"bordered":""}
        ${n!==!1?"zebra":""}
      `,style:{height:d},children:s(Fn,{size:"small",rowKey:"id",pagination:!1,loading:t,...e,bordered:o!==!1,scroll:m,components:k,columns:h})})}const Ue=l.exports.memo(vo);function Do(){const e=[{title:"ID",dataIndex:"id",width:200},{title:"\u540D\u79F0",dataIndex:"name",width:200},{title:"\u7535\u8BDD",dataIndex:"phone",width:200},{title:"\u6570\u91CF",dataIndex:"number",width:200}],t=new Array(0).fill({});for(let n=0;n<1e4;n++){const o=n+1;t.push({id:o,name:"name"+o,phone:o*13,number:o*3})}return s(Ue,{scrollY:400,columns:e,dataSource:t,style:{borderBottom:"1px solid rgba(0, 0, 0, .05)"}})}function Bo(){return G("\u865A\u62DF\u6EDA\u52A8"),g("div",{className:"flex p-30px h-full",children:[g("div",{className:"flex flex-col mr-30px",children:[s("h2",{children:"\u865A\u62DF\u6EDA\u52A8\u5217\u8868(10000\u6761)\uFF1A"}),s("div",{className:"h-500px w-300px border border-cool-gray-100",children:s(bo,{})})]}),g("div",{children:[s("h2",{children:"\u865A\u62DF\u6EDA\u52A8\u8868\u683C(10000\u6761)\uFF1A"}),s(Do,{})]})]})}function No(){return[n=>{const{content:o,height:r,width:a,rotate:i,color:u,fontSize:c,opacity:d}=n;if(document.getElementById("south_watermark")!==null)return;const p=Math.floor(document.body.clientWidth/a)*2;let h="";for(let C=0;C<p;C++)h+=`
        <span style="${`
        display: inline-block;
        line-height: ${r}px;
        width: ${a}px;
        text-align: center;
        transform:rotate( ${i}deg);
        color: ${u};
        font-size: ${c}px;
        opacity: ${d};
        `}">
          ${o}
        </span>
      `;const y=document.createElement("div");y.innerHTML=h;const f=Math.floor(document.body.clientHeight/r)*2;let k="";for(let C=0;C<f;C++)k+=`<div style="white-space: nowrap;">${y.innerHTML}</div>`;const m=document.createElement("div");m.innerHTML=k,m.id="south_watermark",m.style.position="fixed",m.style.top="0px",m.style.left="-100px",m.style.zIndex="99999",m.style.pointerEvents="none",m.style.userSelect="none",document.body.appendChild(m)},()=>{if(document.getElementById("south_watermark")!==null&&document.getElementById("south_watermark")!==null){const n=document.getElementById("south_watermark");document.body.removeChild(n)}}]}function Ao(){G("\u6C34\u5370");const[e,t]=No();return g("div",{className:"p-30px",children:[s(q,{onClick:()=>{e({content:"\u8FD9\u662F\u6C34\u5370",height:300,width:350,rotate:-20,color:"#000",fontSize:30,opacity:.07})},children:"\u6253\u5F00\u6C34\u5370"}),s(q,{danger:!0,onClick:()=>{t()},children:"\u9690\u85CF\u6C34\u5370"})]})}function Po(){return G("\u4E09\u5C42\u7ED3\u6784"),s("div",{className:"m-30px",children:"\u4E09\u5C42\u7ED3\u6784"})}const To=[{label:"\u72B6\u6001",name:"status",component:"Select",componentProps:{options:Ft}},{label:"\u6A21\u5757",name:"module",wrapperCol:170,component:"Select",componentProps:{options:kt}},{label:"\u63A7\u5236\u5668",name:"controller",component:"Input"}],Io=e=>[{label:"\u540D\u79F0",name:"name",rules:re,component:"Input"},{label:"\u72B6\u6001",name:"status",rules:Pe,component:"Select",componentProps:{options:Ft}},{label:"\u6A21\u5757",name:"module",rules:Pe,component:"Select",componentProps:{options:kt}},{label:"\u63A7\u5236\u5668",name:"controller",rules:re,component:"Input"},{label:"\u540C\u65F6\u521B\u5EFA\u83DC\u5355",name:"actions",hidden:!!e,component:"CheckboxGroup",componentProps:{options:Rs}}],$o=e=>[{title:"ID",dataIndex:"id",width:200},{title:"\u540D\u79F0",dataIndex:"name",width:200},{title:"\u72B6\u6001",dataIndex:"status",width:200},{title:"\u6A21\u5757",dataIndex:"module",width:200},{title:"\u63A7\u5236\u5668",dataIndex:"controller",width:200},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"created_at",width:200},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updated_at",width:200},{title:"\u64CD\u4F5C",dataIndex:"operate",width:200,fixed:"right",render:(t,n)=>e(t,n)}];function Ht(e){const{isLoading:t}=e,n={...e};return delete n.isLoading,s(q,{type:"primary",...n,loading:!!t,children:"\u7F16\u8F91"})}const{confirm:Ro}=we;function Kt(e){const{isLoading:t,handleDelete:n}=e,o={...e};return delete o.isLoading,delete o.handleDelete,s(q,{danger:!0,type:"primary",...o,loading:!!t,onClick:()=>{Ro({title:"\u63D0\u793A",icon:s(st,{}),content:"\u786E\u5B9A\u8981\u5220\u9664\u5417?",okText:"\u786E\u8BA4",okType:"danger",cancelText:"\u53D6\u6D88",onOk(){n()}})},children:"\u5220\u9664"})}function _o(e){return $.get("/authority/menu/index",{params:e})}function Mo(e){return $.get(`/authority/menu/${e}`)}function Lo(e){return $.post("/authority/menu",e)}function Oo(e,t){return $.put(`/authority/menu/${e}`,t)}function zo(e){return $.delete(`/authority/menu/${e}`)}function Ve(e){const{onCancel:t}=e,[n,o]=l.exports.useState(!0),[r,a]=l.exports.useState(!1),[i,u]=l.exports.useState({left:0,top:0,bottom:0,right:0}),c=l.exports.useRef(null),d=(m,C)=>{var R;const{clientWidth:E,clientHeight:P}=window.document.documentElement,B=(R=c.current)==null?void 0:R.getBoundingClientRect();!B||u({left:-B.left+C.x,right:E-(B.right-C.x),top:-B.top+C.y,bottom:P-(B.bottom-C.y)})},p=()=>{n&&o(!1)},h=()=>{a(m=>(m||u({left:0,top:0,bottom:0,right:0}),!m))},y=()=>g("div",{className:"flex items-center justify-end absolute right-15px",children:[s(se,{className:"hover:text-#404040",placement:"bottom",title:r?"\u9000\u51FA\u6700\u5927\u5316":"\u6700\u5927\u5316",children:s("div",{className:"p-10px mt-3px cursor-pointer",onClick:h,children:s(A,{className:"text-lg",icon:r?"ant-design:fullscreen-exit-outlined":"ant-design:fullscreen-outlined"})})}),s(se,{placement:"bottom",title:"\u5173\u95ED",children:s("div",{className:"p-10px mt-3px cursor-pointer",onClick:m=>t==null?void 0:t(m),children:s(A,{className:"text-lg",icon:"ant-design:close-outlined"})})})]}),f=g("div",{className:"w-full cursor-move flex items-center justify-between",onMouseOver:p,onMouseOut:()=>o(!0),children:[s("span",{children:e.title||""}),y()]}),k=m=>s(as.exports,{disabled:n,bounds:i,onStart:d,position:r?{x:0,y:0}:void 0,children:s("div",{ref:c,children:m})});return s(we,{closable:!1,maskClosable:!1,width:r?"100%":e.width||520,wrapClassName:r?"full-modal":"",modalRender:k,...e,title:f,children:e.children})}function Ut(e){const{list:t,data:n,children:o,labelCol:r,wrapperCol:a,formRef:i,handleFinish:u}=e,[c]=O.useForm();return l.exports.useImperativeHandle(i,()=>({getFieldValue:h=>c.getFieldValue(h)||{},getFieldsValue:()=>c.getFieldsValue()||{},handleReset:()=>{c.resetFields()},handleSubmit:()=>{c.submit()}})),l.exports.useEffect(()=>{c.setFieldsValue(e.data)},[c,e.data]),s("div",{children:g(O,{name:"basic",form:c,labelCol:r||{span:6},wrapperCol:a||{span:15},initialValues:n,onFinish:h=>{if(u){const y=At(h,t);u==null||u(y)}},onFinishFailed:h=>{console.warn("\u8868\u5355\u9519\u8BEF:",h)},autoComplete:"off",children:[t==null?void 0:t.map(h=>s(O.Item,{label:h.label,name:h.name,rules:h.hidden?[]:h.rules,className:h.hidden?"!hidden":"",valuePropName:St(h.component),children:Tt(h)},`${h.name}`)),o]})})}function Ho(e){return s("div",{id:"pagination",className:`
        w-full
        flex
        items-center
        justify-end
        px-5
        min-h-40px
        z-999
      `,children:s(kn,{showSizeChanger:!0,showQuickJumper:!0,size:"small",showTotal:n=>`\u5171 ${n||0} \u6761\u6570\u636E`,...e})})}const Vt=l.exports.memo(Ho),fe={page:1,pageSize:20},tt={status:1};function Ko(){G("\u83DC\u5355\u7BA1\u7406");const e=l.exports.useRef(null),t=l.exports.useRef(null),[n,o]=l.exports.useState(!1),[r,a]=l.exports.useState(!1),[i,u]=l.exports.useState(!1),[c,d]=l.exports.useState(ye),[p,h]=l.exports.useState(""),[y,f]=l.exports.useState(tt),[k,m]=l.exports.useState(fe.page),[C,E]=l.exports.useState(fe.pageSize),[P,B]=l.exports.useState(0),[R,H]=l.exports.useState([]),S=D(w=>w.user.permissions),N="/authority/menu",x={page:ee(`${N}/index`,S),create:ee(`${N}/create`,S),update:ee(`${N}/update`,S),delete:ee(`${N}/delete`,S)},b=w=>{m(1),v({page:1,pageSize:C,...w})},v=l.exports.useCallback(async w=>{try{a(!0);const{data:{data:F}}=await _o(w),{items:M,total:L}=F;B(L),H(M)}finally{a(!1)}},[]);l.exports.useEffect(()=>{x.page&&v({...fe})},[v,x.page]);const _=()=>{o(!0),d(ye),h(""),f(tt)},J=async w=>{try{o(!0),d(Ct(w)),h(w),u(!0);const{data:{data:F}}=await Mo(w);f(F)}finally{u(!1)}},Q=()=>{var w;(w=t.current)==null||w.handleSubmit()},ue=()=>{var M;const F={...((M=e.current)==null?void 0:M.getFieldsValue())||{},page:k,pageSize:C};v(F)},Se=async w=>{var F;try{u(!0);const M=()=>p?Oo(p,w):Lo(w),{data:L}=await M();z.success((L==null?void 0:L.message)||"\u64CD\u4F5C\u6210\u529F"),(F=t.current)==null||F.handleReset(),o(!1),ue()}finally{u(!1)}},Ee=async w=>{try{a(!0);const{data:F}=await zo(w);(F==null?void 0:F.code)===200&&(z.success((F==null?void 0:F.message)||"\u5220\u9664\u6210\u529F"),ue())}finally{a(!1)}},ve=l.exports.useCallback((w,F)=>{var L;m(w),E(F);const M=(L=e.current)==null?void 0:L.getFieldsValue();v({...M,page:w,pageSize:F})},[v]),De=(w,F)=>g(V,{children:[x.update===!0&&s(Ht,{className:"mr-5px",isLoading:r,onClick:()=>J(F.id)}),x.delete===!0&&s(Kt,{className:"mr-5px",isLoading:r,handleDelete:()=>Ee(F.id)})]});return s(Ke,{isPermission:x.page,children:g(V,{children:[s(He,{formRef:e,list:To,data:fe,isLoading:r,isCreate:x.create,onCreate:_,handleFinish:b}),s(Ue,{loading:r,columns:$o(De),dataSource:R}),s(Vt,{disabled:r,defaultCurrent:k,defaultPageSize:C,total:P,onChange:ve}),s(Ve,{title:c,open:n,confirmLoading:i,onOk:Q,onCancel:()=>o(!1),children:s(Ut,{formRef:t,list:Io(p),data:y,labelCol:{span:6},handleFinish:Se})})]})})}const Uo=[{label:"\u5E74\u9F84",name:"age",component:"InputNumber"},{label:"\u540D\u5B57",name:"keyword",component:"Input"}],Vo=[{label:"\u5D4C\u5957\u6570\u636E",name:["user","name","test"],rules:re,component:"Input"},{label:"\u7528\u6237\u540D",name:"username",rules:re,component:"Input"},{label:"\u59D3\u540D",name:"real_name",rules:re,component:"Input"},{label:"\u89D2\u8272",name:"roles_name",rules:re,component:"Input"},{label:"\u72B6\u6001",name:"status",rules:Pe,component:"Select",componentProps:{options:$s}}],Yo=e=>[{title:"ID",dataIndex:"id",width:400,fixed:"left"},{title:"\u7528\u6237\u540D",dataIndex:"username",width:400,fixed:"left"},{title:"\u59D3\u540D",dataIndex:"real_name",width:400},{title:"\u89D2\u8272",dataIndex:"roles_name",width:400},{title:"\u624B\u673A\u53F7",dataIndex:"phone",width:400},{title:"\u90AE\u7BB1",dataIndex:"email",width:400},{title:"\u72B6\u6001",dataIndex:"status",width:200,render:t=>s("span",{children:t?"\u5F00\u542F":"\u5173\u95ED"})},{title:"\u64CD\u4F5C",dataIndex:"operate",width:200,fixed:"right",render:(t,n)=>e(t,n)}];function Wo(e){return $.get("/authority/user/index",{params:e})}function jo(e){return $.get(`/authority/user/${e}`)}function qo(e){return $.post("/authority/user",e)}function Go(e,t){return $.put(`/authority/user/${e}`,t)}function Jo(e){return $.delete(`/authority/user/${e}`)}const ge={page:1,pageSize:20},nt={status:1};function Zo(){G("\u7528\u6237\u7BA1\u7406");const e=l.exports.useRef(null),t=l.exports.useRef(null),[n,o]=l.exports.useState(!1),[r,a]=l.exports.useState(!1),[i,u]=l.exports.useState(!1),[c,d]=l.exports.useState(ye),[p,h]=l.exports.useState(""),[y,f]=l.exports.useState(nt),[k,m]=l.exports.useState(ge.page),[C,E]=l.exports.useState(ge.pageSize),[P,B]=l.exports.useState(0),[R,H]=l.exports.useState([]),S=D(w=>w.user.permissions),N="/authority/user",x={page:ee(`${N}/index`,S),create:ee(`${N}/create`,S),update:ee(`${N}/update`,S),delete:ee(`${N}/delete`,S)},b=w=>{m(1),v({page:1,pageSize:C,...w})},v=l.exports.useCallback(async w=>{try{o(!0);const{data:{data:F}}=await Wo(w),{items:M,total:L}=F;B(L),H(M)}finally{o(!1)}},[]);l.exports.useEffect(()=>{x.page&&v({...ge})},[v,x.page]);const _=()=>{u(!0),d(ye),h(""),f(nt)},J=async w=>{try{u(!0),d(Ct(w)),h(w),a(!0);const{data:{data:F}}=await jo(w);f(F)}finally{a(!1)}},Q=()=>{var w;(w=t.current)==null||w.handleSubmit()},ue=()=>{var M;const F={...((M=e.current)==null?void 0:M.getFieldsValue())||{},page:k,pageSize:C};v(F)},Se=async w=>{var F;try{a(!0);const M=()=>p?Go(p,w):qo(w),{data:L}=await M();z.success((L==null?void 0:L.message)||"\u64CD\u4F5C\u6210\u529F"),(F=t.current)==null||F.handleReset(),u(!1),ue()}finally{a(!1)}},Ee=async w=>{try{o(!0);const{data:F}=await Jo(w);(F==null?void 0:F.code)===200&&(z.success((F==null?void 0:F.message)||"\u5220\u9664\u6210\u529F"),ue())}finally{o(!1)}},ve=(w,F)=>{var L;m(w),E(F);const M=(L=e.current)==null?void 0:L.getFieldsValue();v({...M,page:w,pageSize:F})},De=(w,F)=>g(V,{children:[x.update===!0&&s(Ht,{className:"mr-5px",isLoading:n,onClick:()=>J(F.id)}),x.delete===!0&&s(Kt,{className:"mr-5px",isLoading:n,handleDelete:()=>Ee(F.id)})]});return s(Ke,{isPermission:x.page,children:g(V,{children:[s(He,{formRef:e,list:Uo,data:ge,isLoading:n,isCreate:x.create,onCreate:_,handleFinish:b}),s(Ue,{loading:n,columns:Yo(De),dataSource:R}),s(Vt,{disabled:n,defaultCurrent:k,defaultPageSize:C,total:P,onChange:ve}),s(Ve,{title:c,open:i,confirmLoading:r,onOk:Q,onCancel:()=>u(!1),children:s(Ut,{formRef:t,list:Vo,data:y,labelCol:{span:6},handleFinish:Se})})]})})}const Xo=[{caseSensitive:!1,path:"403",element:K.createElement(ze)},{caseSensitive:!1,path:"/",element:K.createElement(Cs)},{caseSensitive:!1,path:"*",element:K.createElement(ws)},{caseSensitive:!1,path:"dashboard",children:[{caseSensitive:!1,path:"",element:K.createElement(ao)}]},{caseSensitive:!1,path:"loading",children:[{caseSensitive:!1,path:"",element:K.createElement(io)}]},{caseSensitive:!1,path:"login",children:[{caseSensitive:!1,path:"",element:K.createElement(Lt)}]},{caseSensitive:!1,path:"demo",children:[{caseSensitive:!1,path:"copy",children:[{caseSensitive:!1,path:"",element:K.createElement(go)}]},{caseSensitive:!1,path:"editor",children:[{caseSensitive:!1,path:"",element:K.createElement(yo)}]},{caseSensitive:!1,path:"virtualScroll",children:[{caseSensitive:!1,path:"",element:K.createElement(Bo)}]},{caseSensitive:!1,path:"watermark",children:[{caseSensitive:!1,path:"",element:K.createElement(Ao)}]},{caseSensitive:!1,path:"level1",children:[{caseSensitive:!1,path:"level2",children:[{caseSensitive:!1,path:"level3",element:K.createElement(Po)}]}]}]},{caseSensitive:!1,path:"system",children:[{caseSensitive:!1,path:"menu",children:[{caseSensitive:!1,path:"",element:K.createElement(Ko)}]},{caseSensitive:!1,path:"user",children:[{caseSensitive:!1,path:"",element:K.createElement(Zo)}]}]}];function Qo(e){return $.get("/authority/user/refresh-permissions",{params:e})}const Yt=Re({name:"menu",initialState:{isPhone:!1,isCollapsed:!1,openKeys:["Dashboard"]},reducers:{toggleCollapsed:(e,t)=>{e.isCollapsed=!!t.payload},togglePhone:(e,t)=>{e.isPhone=!!t.payload},setOpenKeys:(e,t)=>{e.openKeys=t.payload}}}),{toggleCollapsed:Wt,togglePhone:er,setOpenKeys:be}=Yt.actions,tr=Yt.reducer,nr="_header_1g4dk_1",sr="_headerCloseMenu_1g4dk_12",or="_headerDriver_1g4dk_15",rr="_menu_1g4dk_18",ar="_menuClose_1g4dk_25",ir="_con_1g4dk_28",lr="_conCloseMenu_1g4dk_35",cr="_conMaximize_1g4dk_38",ur="_headerNone_1g4dk_42",dr="_none_1g4dk_46",mr="_menuNone_1g4dk_49",pr="_conPhone_1g4dk_53",hr="_headerPhone_1g4dk_56",fr="_leftDivide_1g4dk_59",U={header:nr,headerCloseMenu:sr,headerDriver:or,menu:rr,menuClose:ar,con:ir,conCloseMenu:lr,conMaximize:cr,headerNone:ur,none:dr,menuNone:mr,conPhone:pr,headerPhone:hr,leftDivide:fr};function gr(){const e=X(),t=Ce(),n=W(),[o,r]=l.exports.useState([]),a=D(m=>m.menu.openKeys),i=D(m=>m.tabs.isMaximize),u=D(m=>m.menu.isCollapsed),c=D(m=>m.menu.isPhone),d=D(m=>m.user.permissions);l.exports.useEffect(()=>{const{pathname:m}=t,C=Oe(m);n(be(C))},[t]),l.exports.useEffect(()=>{if(d.length>0){const m=pt(Y,d);r(m||[])}},[d]);const p=m=>{e(m);const E=oe({menus:o,permissions:d,key:m});E&&(n(Z(E.key)),n(ft(E.nav)),n(ce(E)))},h=m=>{p(m.key)},y=(m,C)=>{let E=!0;for(let P=0;P<m.length;P++)if(m[P]!==C[P]){E=!1;break}return E},f=m=>{const C=[];let E="";if(m.length>0){E=m[m.length-1];const P=ae(E);C.push(E);for(let B=m.length-2;B>=0;B--){const R=ae(m[B]);y(R,P)&&C.unshift(m[B])}}n(be(C))},k=()=>{const m=ie(o,d);p(m)};return g("div",{className:`
        transition-all
        overflow-auto
        ${U.menu}
        ${u?U.menuClose:""}
        ${i||c&&u?U.menuNone:""}
        ${c?"z-1000":""}
      `,children:[g("div",{className:`
          text-white
          flex
          content-center
          px-5
          py-2
          cursor-pointer
          ${u?"justify-center":""}
        `,onClick:k,children:[s("img",{src:Mt,width:30,height:30,className:"object-contain",alt:"logo"}),s("span",{className:`
          text-white
          ml-3
          text-xl
          font-bold
          truncate
          ${u?"hidden":""}
        `,children:"\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF"})]}),s(Sn,{selectedKeys:[t.pathname],openKeys:a,mode:"inline",theme:"dark",inlineCollapsed:u,items:o,onClick:h,onOpenChange:f})]})}const xr="/assets/png/avatar-07151444.png";function yr(){const[e,{toggleFullscreen:t}]=Pn(()=>document.getElementById("layout"));return s(se,{title:e?"\u9000\u51FA\u5168\u5C4F":"\u5168\u5C4F",children:g("div",{className:"flex items-center justify-center text-lg mr-3 cursor-pointer",onClick:t,children:[e&&s(A,{icon:"gridicons-fullscreen-exit"}),!e&&s(A,{icon:"gridicons-fullscreen"})]})})}function br(e){return[n=>{var o,r,a,i,u;switch(n.key){case"ArrowUp":(o=e.ArrowUp)==null||o.call(e);break;case"ArrowDown":(r=e.ArrowDown)==null||r.call(e);break;case"ArrowLeft":(a=e.ArrowLeft)==null||a.call(e);break;case"ArrowRight":(i=e.ArrowRight)==null||i.call(e);break;case"Enter":(u=e.Enter)==null||u.call(e);break}}]}function Cr(e){const{list:t,active:n,onCancel:o,changActive:r}=e,a=X(),i=W(),u=D(p=>p.user.permissions),c=p=>{a(p);const y=oe({menus:Y,permissions:u,key:p});i(ce(y)),i(Z(p));const f=Oe(p);i(be(f)),o()},d=p=>{r(p)};return g(V,{children:[!(t!=null&&t.length)&&g("div",{className:"flex flex-col items-center pt-5 text-warm-gray-400",children:[s(A,{className:"text-40px",icon:"mdi:archive-cancel-outline"}),s("span",{className:"mt-1",children:"\u6682\u65E0\u641C\u7D22\u7ED3\u6784"})]}),(t==null?void 0:t.length)>0&&s("div",{className:"mt-5",children:t==null?void 0:t.map(p=>{var h;return g("div",{className:`
                h-56px
                mt-8px
                px-14px
                rounded-4px
                cursor-pointer
                flex
                items-center
                justify-between
                shadow-md
                border
                border-light-500
                ${n===p.key?"bg-blue-500 text-white":""}
              `,onClick:()=>c(p.key),onMouseEnter:()=>d(p.key),children:[g("div",{className:"flex items-center",children:[s(A,{className:"text-lg mr-1",icon:"gg:menu-boxed"}),p.nav&&((h=p.nav)==null?void 0:h.length)>0&&p.nav.map((y,f)=>g(l.exports.Fragment,{children:[f>0&&s("span",{className:"mx-5px",children:">"}),s("span",{children:y})]},y)),!p.nav&&s("span",{children:p.label})]}),s(A,{className:"icon text-20px p-2px mr-5px",icon:"ant-design:enter-outlined"})]},p.key)})})]})}const wr="_icon_1eshe_1",xe={icon:wr};function Fr(){return g("div",{className:"flex items-center text-dark-50",children:[g("span",{className:"mr-14px flex items-center",children:[s(A,{className:`${xe.icon} text-20px p-2px mr-5px`,icon:"ant-design:enter-outlined"}),s("span",{children:"\u786E\u8BA4"})]}),g("span",{className:"mr-14px flex items-center",children:[s(A,{className:`${xe.icon} text-20px p-2px mr-5px`,icon:"mdi-arrow-up-thin"}),s(A,{className:`${xe.icon} text-20px p-2px mr-5px`,icon:"mdi-arrow-down-thin"}),s("span",{children:"\u5207\u6362"})]}),g("span",{className:"flex items-center",children:[s(A,{className:`${xe.icon} text-20px p-2px mr-5px`,icon:"mdi:keyboard-esc"}),s("span",{children:"\u5173\u95ED"})]})]})}function kr(e){const t=X(),n=l.exports.useRef(null),{modalRef:o}=e,[r,a]=l.exports.useState(""),[i,u]=l.exports.useState(""),[c,d]=l.exports.useState([]),[p,h]=l.exports.useState(!1),y=W(),f=D(S=>S.user.permissions);l.exports.useImperativeHandle(o,()=>({toggle:()=>{h(!p)}})),l.exports.useLayoutEffect(()=>(p&&setTimeout(()=>{var S;(S=n.current)==null||S.focus({cursor:"end"})},0),()=>{a(""),u(""),d([])}),[p]);const k=S=>{u(S)},m=()=>{h(!1)},C=()=>{if(i){t(i);const N=oe({menus:Y,permissions:f,key:i});y(ce(N)),y(Z(i));const x=Oe(i);y(be(x)),m()}},E=Me(S=>{var b;const x=mt({menus:Y,permissions:f,value:S});x!=null&&x.length?(u(((b=x==null?void 0:x[0])==null?void 0:b.key)||""),d(x)):(u(""),d([]))},{wait:200}),P=S=>{const{value:N}=S.target;a(N),E.run(N)},B=()=>{if(!c.length)return null;const S=c.findIndex(x=>x.key===i);if(S===0)return null;const N=c[S-1].key;u(N)},R=()=>{if(!c.length)return null;const S=c.length-1,N=c.findIndex(b=>b.key===i);if(N===S)return null;const x=c[N+1].key;u(x)},[H]=br({ArrowUp:B,ArrowDown:R,Enter:C});return l.exports.useEffect(()=>{if(c.length)return window.addEventListener("keydown",H),()=>{window.removeEventListener("keydown",H)}},[c,i,H]),g(we,{className:"rounded-100px",open:p,closable:!1,onCancel:m,footer:s(Fr,{}),children:[s(te,{ref:n,value:r,placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u8BCD\u641C\u7D22",allowClear:!0,prefix:s(A,{className:"text-lg text-warm-gray-400",icon:"ant-design:search-outlined"}),onChange:P,onPressEnter:C}),s(Cr,{list:c,active:i,onCancel:m,changActive:k})]})}function Sr(){const e=l.exports.useRef(null);return g(V,{children:[s(se,{title:"\u641C\u7D22",children:s(A,{className:"flex items-center justify-center text-lg mr-3",icon:"uil-search",onClick:()=>{var n;(n=e.current)==null||n.toggle()}})}),s(kr,{modalRef:e})]})}const Ae="theme";function Er(){const e=localStorage.getItem(Ae)||"light",[t,n]=l.exports.useState(e);l.exports.useEffect(()=>{e||localStorage.setItem(Ae,"light"),e==="dark"&&(document.body.className="theme-dark")},[e]);const o=r=>{switch(localStorage.setItem(Ae,r),n(r),r){case"dark":document.body.className="theme-dark";break;default:document.body.className="theme-primary";break}};return s(se,{title:"\u4E3B\u9898\u6A21\u5F0F",children:g("div",{className:"flex items-center justify-center text-lg mr-4 cursor-pointer",children:[t==="light"&&s(A,{icon:"mdi-white-balance-sunny",onClick:()=>o("dark")}),t!=="light"&&s(A,{icon:"mdi-moon-waning-crescent",onClick:()=>o("light")})]})})}function vr(e){const{passwordRef:t}=e,[n]=O.useForm(),[o,r]=l.exports.useState(!1),[a,i]=l.exports.useState(!1);return l.exports.useImperativeHandle(t,()=>({open:()=>{r(!0)}})),s(Ve,{title:"\u4FEE\u6539\u5BC6\u7801",open:o,confirmLoading:a,onOk:()=>{n.submit()},onCancel:()=>r(!1),children:g(O,{name:"UpdatePassword",form:n,labelCol:{span:5},wrapperCol:{span:16},onFinish:async d=>{if(d.password!==d.confirmPassword)return z.warning({content:"\u5BC6\u7801\u548C\u786E\u8BA4\u5BC6\u7801\u4E0D\u76F8\u540C!",key:"confirmPassword"});try{i(!0);const{data:p}=await co(d);p.code===200&&(r(!1),z.success(p.message))}finally{i(!1)}},autoComplete:"off",children:[s(O.Item,{label:"\u7528\u6237\u540D",name:"username",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"}],children:s(te,{placeholder:pe})}),s(O.Item,{label:"\u5BC6\u7801",name:"password",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801!"}],children:s(Te,{})}),s(O.Item,{label:"\u786E\u8BA4\u5BC6\u7801",name:"confirmPassword",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u786E\u8BA4\u5BC6\u7801!"}],children:s(Te,{})})]})})}const{Item:Dr}=ct;function Br(e){const{className:t,list:n}=e;return s("div",{className:t,children:s(ct,{children:n==null?void 0:n.map(o=>s(Dr,{className:"whitespace-nowrap",children:o},o))})})}function Nr(){const e=D(k=>k.menu.isCollapsed),t=D(k=>k.user.userInfo.username),n=W(),o=X(),[,,r]=ke(),{clear:a}=Le.exports.useAliveController(),i=D(k=>k.tabs.isMaximize),u=D(k=>k.tabs.nav),c=l.exports.useRef(null),d=[{key:"password",label:s("span",{children:"\u4FEE\u6539\u5BC6\u7801"}),icon:s(nn,{className:"mr-1"})},{key:"logout",label:s("span",{children:"\u9000\u51FA\u767B\u5F55"}),icon:s(sn,{className:"mr-1"})}],p=k=>{var m;switch(k.key){case"password":(m=c.current)==null||m.open();break;case"logout":h();break}},h=()=>{we.confirm({title:"\u6E29\u99A8\u63D0\u793A",icon:s(st,{}),content:"\u662F\u5426\u786E\u5B9A\u9000\u51FA\u7CFB\u7EDF?",onOk(){n(uo()),n(fs()),n(Z("")),r(),a(),o("/login")}})},y=()=>g("div",{className:"flex items-center",children:[s(Sr,{}),s(yr,{}),s(Er,{}),s(_e,{className:"min-w-50px",menu:{items:d,onClick:p},children:g("div",{className:"ant-dropdown-link flex items-center cursor-pointer",onClick:k=>k.preventDefault(),children:[s("img",{src:xr,width:27,height:27,alt:"\u5934\u50CF",className:"rounded-1/2 overflow-hidden object-cover bg-light-500"}),s("span",{className:"ml-2 text-15px min-w-50px truncate",children:t||"south-admin"})]})})]}),f=()=>g("div",{className:"text-lg cursor-pointer",onClick:()=>n(Wt(!e)),children:[e&&s(en,{}),!e&&s(tn,{})]});return g(V,{children:[g("header",{className:`
          flex
          items-center
          justify-between
          px-6
          py-6px
          box-border
          transition-all
          ${U.headerDriver}
          ${i?U.none:""}
        `,children:[g("div",{className:"flex item-center",children:[s(f,{}),s(Br,{className:"ml-15px",list:u})]}),s(y,{})]}),s(vr,{passwordRef:c})]})}function jt(e){const{activeKey:t,onOpenChange:n,handleRefresh:o}=e,r=Ce(),a=W(),i=D(p=>p.tabs.tabs),u=i.findIndex(p=>p.key===t);return[[{key:"refresh",label:"\u91CD\u65B0\u52A0\u8F7D",disabled:t!==r.pathname,icon:s(on,{className:"mr-5px transform rotate-270"})},{key:"close_current",label:"\u5173\u95ED\u6807\u7B7E",disabled:i.length<=1,icon:s(rn,{className:"mr-5px"})},{key:"close_other",label:"\u5173\u95ED\u5176\u4ED6",disabled:i.length<=1,icon:s(an,{className:"mr-5px transform rotate-90"})},{key:"close_left",label:"\u5173\u95ED\u5DE6\u4FA7",disabled:u===0,icon:s(We,{className:"mr-5px transform rotate-270"})},{key:"close_right",label:"\u5173\u95ED\u53F3\u4FA7",disabled:u===i.length-1,icon:s(We,{className:"mr-5px transform rotate-90"})}],p=>{switch(n==null||n(!1),p.key){case"refresh":o(t);break;case"close_current":a(gt(t));break;case"close_other":a(hs(t));break;case"close_left":a(ms(t));break;case"close_right":a(ps(t));break}}]}function Ar(e){const{isRefresh:t,onClick:n}=e;return s(se,{title:"\u91CD\u65B0\u52A0\u8F7D",placement:"bottom",children:s(A,{className:`
          change
          flex
          items-center
          justify-center
          text-lg
          cursor-pointer
          ${t?"animate-spin":""}
        `,onClick:()=>n(),icon:"ant-design:reload-outlined"})})}function Pr(){const e=W(),t=D(o=>o.tabs.isMaximize);return s(se,{title:t?"\u6700\u5C0F\u5316":"\u6700\u5927\u5316",placement:"bottom",children:s(A,{className:`
          flex
          items-center
          justify-center
          text-lg
          cursor-pointer
        `,icon:t?"ant-design:compress-outlined":"ant-design:expand-outlined",onClick:()=>{e(ds(!t))}})})}function Tr(e){const{activeKey:t,handleRefresh:n}=e,[o,r]=l.exports.useState(!1),a=d=>{r(d)},i={activeKey:t,onOpenChange:a,handleRefresh:n},[u,c]=jt(i);return s(_e,{trigger:["click"],menu:{items:u,onClick:c},onOpenChange:a,children:s(A,{className:`
          flex
          items-center
          justify-center
          text-lg
          cursor-pointer
          transition-all
          transform
          ${o?"rotate-180":"rotate-0"}
        `,icon:"ant-design:down-outlined"})})}function Ir(){const e=X(),t=Ce(),n=W(),{refresh:o}=Le.exports.useAliveController(),[r,a]=l.exports.useState(!1),[i,u]=l.exports.useState(null),c=D(b=>b.tabs.tabs),d=D(b=>b.tabs.activeKey),p=D(b=>b.user.permissions),h=D(b=>b.tabs.isMaximize),y=l.exports.useCallback((b=t.pathname)=>{if(p.length>0){if(b==="/")return;const _=oe({menus:Y,permissions:p,key:b});_&&(n(Z(_.key)),n(ft(_.nav)),n(ce(_)))}},[p]);l.exports.useEffect(()=>{y()},[y]),l.exports.useEffect(()=>{d&&d!==t.pathname&&(e(d),y(d))},[d,t.pathname]);const f=b=>{n(Z(b))},k=b=>{n(gt(b))},m=(b,v)=>{v==="remove"&&k(b)},C=l.exports.useCallback((b=d)=>{typeof b=="string"&&(i||(a(!0),o(b),e("/loading"),u(setTimeout(()=>{b!==d&&n(Z(b)),a(!1),e(b),z.success({content:"\u5237\u65B0\u6210\u529F",key:"refresh"}),u(null)},1e3))))},[d,i]),E=l.exports.useMemo(()=>s(Ar,{isRefresh:r,onClick:C}),[r,C]),P=l.exports.useMemo(()=>s(Tr,{activeKey:d,handleRefresh:C}),[d,C]),B=l.exports.useMemo(()=>s(Pr,{}),[]),R=[{element:E},{element:P},{element:B}],H={activeKey:d,handleRefresh:C},[S,N]=jt(H),x=(b,v)=>s(v,{...b,children:_=>s(_e,{menu:{items:S,onClick:N},trigger:["contextMenu"],children:s("div",{className:"mr-3px",children:_})},_.key)});return g("div",{className:`
      flex
      items-center
      justify-between
      mx-2
      transition-all
      ${h?U.conMaximize:""}
    `,children:[c.length>0?s(En,{hideAdd:!0,className:"w-full h-30px py-0",onChange:f,activeKey:d,type:"editable-card",onEdit:m,items:c,renderTabBar:x}):s("span",{}),s("div",{className:"flex",children:R==null?void 0:R.map((b,v)=>s("div",{className:`
                ${U.leftDivide}
                change
                divide-solid
                w-36px
                h-36px
                hover:opacity-70
                flex
                place-content-center
                items-center
              `,children:b.element},v))})]})}function $r(){const e=W(),t=X(),[n]=ke(),o=n(),[r,a]=l.exports.useState(!0),i=D(f=>f.user.permissions),u=D(f=>f.user.userInfo.id),c=D(f=>f.tabs.isMaximize),d=D(f=>f.menu.isCollapsed),p=D(f=>f.menu.isPhone),h=l.exports.useCallback(async()=>{try{a(!0);const{data:f}=await Qo({refresh_cache:!1});if(f){const{data:{user:k,permissions:m}}=f,C=_t(m);e(Rt(k)),e(Ie(C))}}catch(f){console.error("\u83B7\u53D6\u7528\u6237\u6570\u636E\u5931\u8D25:",f),Ie([])}finally{a(!1)}},[]);l.exports.useEffect(()=>{o||t("/login"),o&&!u&&h()},[h,t,o,u]);const y=Me(()=>{const f=window.innerWidth<=768;f&&e(Wt(!0)),e(er(f))},{wait:500});return l.exports.useEffect(()=>(window.addEventListener("resize",y.run()),()=>{window.removeEventListener("resize",y.run())}),[]),g("div",{id:"layout",children:[g("div",{className:`
        transition-all
        ${U.header}
        ${d?U.headerCloseMenu:""}
        ${c?U.headerNone:""}
        ${p&&d?"!left-0 z-999":""}
      `,children:[s(Nr,{}),s(Ir,{})]}),s(gr,{}),g("div",{id:"layoutContent",className:`
          overflow-auto
          transition-all
          ${U.con}
          ${c?U.conMaximize:""}
          ${d?U.conCloseMenu:""}
          ${p&&d?"!left-0":""}
        `,children:[r&&i.length===0&&s(vn,{active:!0,className:"p-30px",paragraph:{rows:10}}),!r&&i.length===0&&s(ze,{}),i.length>0&&s(un,{})]})]})}const Rr=is(Xo),_r=[{path:"login",element:s(Lt,{})},{path:"",element:s($r,{}),children:Rr}];function Mr(){return l.exports.useEffect(()=>(Ye.done(),()=>{Ye.start()}),[]),s(Gt,{children:s(()=>s(V,{children:dn(_r)}),{})})}const Lr=ln({reducer:{menu:tr,tabs:gs,user:mo}});I.locale("zh-cn");qt.createRoot(document.getElementById("root")).render(s(Dn,{locale:Bn,children:s(cn,{store:Lr,children:s(Le.exports.AliveScope,{children:s(Mr,{})})})}));document!=null&&document.getElementById("first")&&(document.getElementById("first").style.display="none");
