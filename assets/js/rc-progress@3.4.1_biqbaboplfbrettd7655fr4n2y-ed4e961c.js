import{r as b}from"./react@18.2.0-9cdefec6.js";import{c as Y}from"./classnames@2.3.2-d75d9a59.js";import{c as G,b as tt,_ as W}from"./@babel_runtime@7.19.0-130d17ca.js";import{c as rt}from"./rc-util@5.24.4_biqbaboplfbrettd7655fr4n2y-ae37cd3a.js";import{b as et,j as d}from"./@ant-design_icons@4.7.0_biqbaboplfbrettd7655fr4n2y-7910088d.js";var at={className:"",percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,style:{},trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},st=function(){var t=b.useRef([]),e=b.useRef(null);return b.useEffect(function(){var o=Date.now(),s=!1;t.current.forEach(function(a){if(!!a){s=!0;var l=a.style;l.transitionDuration=".3s, .3s, .3s, .06s",e.current&&o-e.current<100&&(l.transitionDuration="0s, 0s")}}),s&&(e.current=Date.now())}),t.current},F=0,ot=rt();function nt(){var r;return ot?(r=F,F+=1):r="TEST_OR_SSR",r}const ct=function(r){var t=b.useState(),e=G(t,2),o=e[0],s=e[1];return b.useEffect(function(){s("rc_progress_".concat(nt()))},[]),r||o};var it=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function M(r){return+r.replace("%","")}function V(r){var t=r!=null?r:[];return Array.isArray(t)?t:[t]}var D=100,A=function(t,e,o,s,a,l,P,n,v,k){var u=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,j=o/100*360*((360-l)/360),w=l===0?0:{bottom:0,top:180,left:90,right:-90}[P],p=(100-s)/100*e;return v==="round"&&s!==100&&(p+=k/2,p>=e&&(p=e-.01)),{stroke:typeof n=="string"?n:void 0,strokeDasharray:"".concat(e,"px ").concat(t),strokeDashoffset:p+u,transform:"rotate(".concat(a+j+w,"deg)"),transformOrigin:"0 0",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},X=function(t){var e=t.id,o=t.prefixCls,s=t.steps,a=t.strokeWidth,l=t.trailWidth,P=t.gapDegree,n=P===void 0?0:P,v=t.gapPosition,k=t.trailColor,u=t.strokeLinecap,j=t.style,w=t.className,p=t.strokeColor,Z=t.percent,q=tt(t,it),z=ct(e),E="".concat(z,"-gradient"),x=D/2-a/2,L=Math.PI*2*x,R=n>0?90+n/2:-90,g=L*((360-n)/360),O=W(s)==="object"?s:{count:s,space:2},m=O.count,B=O.space,H=A(L,g,0,100,R,n,v,k,u,a),U=V(Z),y=V(p),T=y.find(function(c){return c&&W(c)==="object"}),_=st(),J=function(){var i=0;return U.map(function(h,f){var I=y[f]||y[y.length-1],S=I&&W(I)==="object"?"url(#".concat(E,")"):void 0,C=A(L,g,i,h,R,n,v,I,u,a);return i+=h,d("circle",{className:"".concat(o,"-circle-path"),r:x,cx:0,cy:0,stroke:S,strokeLinecap:u,strokeWidth:a,opacity:h===0?0:1,style:C,ref:function(N){_[f]=N}},f)}).reverse()},K=function(){var i=Math.round(m*(U[0]/100)),h=100/m,f=0;return new Array(m).fill(null).map(function(I,S){var C=S<=i-1?y[0]:k,$=C&&W(C)==="object"?"url(#".concat(E,")"):void 0,N=A(L,g,f,h,R,n,v,C,"butt",a,B);return f+=(g-N.strokeDashoffset+B)*100/g,d("circle",{className:"".concat(o,"-circle-path"),r:x,cx:0,cy:0,stroke:$,strokeWidth:a,opacity:1,style:N,ref:function(Q){_[S]=Q}},S)})};return et("svg",{className:Y("".concat(o,"-circle"),w),viewBox:"".concat(-D/2," ").concat(-D/2," ").concat(D," ").concat(D),style:j,id:e,role:"presentation",...q,children:[T&&d("defs",{children:d("linearGradient",{id:E,x1:"100%",y1:"0%",x2:"0%",y2:"0%",children:Object.keys(T).sort(function(c,i){return M(c)-M(i)}).map(function(c,i){return d("stop",{offset:c,stopColor:T[c]},i)})})}),!m&&d("circle",{className:"".concat(o,"-circle-trail"),r:x,cx:0,cy:0,stroke:k,strokeLinecap:u,strokeWidth:l||a,style:H}),m?K():J()]})};X.defaultProps=at;X.displayName="Circle";export{X as C};
