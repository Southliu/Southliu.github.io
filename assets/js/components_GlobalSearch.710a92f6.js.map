{"version":3,"file":"components_GlobalSearch.710a92f6.js","sources":["../../../src/menus/system.tsx","../../../src/menus/demo.tsx","../../../src/menus/content.tsx","../../../src/menus/index.tsx","../../../src/menus/utils/helper.ts","../../../src/stores/tabs.ts","../../../src/stores/menu.tsx","../../../src/hooks/useKeyStroke.ts","../../../src/components/GlobalSearch/components/SearchResult.tsx","../../../src/components/GlobalSearch/components/SearchFooter.tsx","../../../src/components/GlobalSearch/components/SearchModal.tsx","../../../src/components/GlobalSearch/index.tsx"],"sourcesContent":["import type { ISideMenu } from '#/public'\nimport { Icon } from '@iconify/react'\n\nexport const system: ISideMenu[] = [\n  {\n    label: '系统管理',\n    key: 'system',\n    icon: <Icon icon='ion:settings-outline' />,\n    children: [\n      {\n        label: '用户管理',\n        key: '/system/user',\n        rule: '/authority/user'\n      },\n      {\n        label: '菜单管理',\n        key: '/system/menu',\n        rule: '/authority/menu'\n      },\n    ]\n  }\n]\n","import type { ISideMenu } from '#/public'\nimport { Icon } from '@iconify/react'\n\nexport const demo: ISideMenu[] = [\n  {\n    label: '组件',\n    key: 'demo',\n    icon: <Icon icon='fluent:box-20-regular' />,\n    children: [\n      {\n        label: '剪切板',\n        key: '/demo/copy',\n        rule: '/demo/copy',\n      },\n      {\n        label: '水印',\n        key: '/demo/watermark',\n        rule: '/demo/watermark',\n      },\n      {\n        label: '虚拟滚动',\n        key: '/demo/virtualScroll',\n        rule: '/demo/virtualScroll',\n      },\n      {\n        label: '富文本',\n        key: '/demo/editor',\n        rule: '/demo/editor',\n      },\n      {\n        label: '层级1',\n        key: '/demo/level1',\n        children: [\n          {\n            label: '层级2',\n            key: '/demo/level1/level2',\n            children: [\n              {\n                label: '层级3',\n                key: '/demo/level1/level2/level3',\n                rule: '/demo/watermark',\n              }\n            ]\n          }\n        ]\n      },\n    ]\n  }\n]\n","import type { ISideMenu } from '#/public'\nimport { Icon } from '@iconify/react'\n\nexport const content: ISideMenu[] = [\n  {\n    label: '内容管理',\n    key: 'content',\n    icon: <Icon icon='majesticons:article-search-line' />,\n    children: [\n      {\n        label: '文章管理',\n        key: '/content/article',\n        rule: '/content/article',\n      },\n    ]\n  }\n]\n","import type { ISideMenu } from '#/public'\nimport { Icon } from '@iconify/react'\nimport { system } from './system'\nimport { demo } from './demo'\nimport { content } from './content'\n\nexport const defaultMenus: ISideMenu[] = [\n  {\n    label: '仪表盘',\n    key: 'dashboard',\n    icon: <Icon icon='la:tachometer-alt' />,\n    children: [\n      {\n        label: '数据总览',\n        key: '/dashboard',\n        rule: '/dashboard',\n      }\n    ]\n  },\n  ...demo as ISideMenu[],\n  ...system as ISideMenu[],\n  ...content as ISideMenu[],\n]","import type { ISideMenu } from '#/public'\n\n/**\n * 根据路由获取展开菜单数组\n * @param router - 路由\n */\nexport function getOpenMenuByRouter(router: string): string[] {\n  const arr = splitPath(router), result: string[] = []\n\n  // 取第一个单词大写为新展开菜单key\n  if (arr.length > 0) result.push(arr[0])\n\n  // 当路由处于多级目录时\n  if (arr.length > 2) {\n    let str = '/' + arr[0]\n    for (let i = 1; i < arr.length - 1; i++) {\n      str += '/' + arr[i]\n      result.push(str)\n    }\n  }\n\n  return result\n}\n\n/**\n * 匹配路径内的字段\n * @param path - 路径\n * @param arr - 路径经过数组\n */\nfunction matchPath(path: string, arr: IMenuPath[]): string[] {\n  const result: string[] = []\n\n  // 分割路径\n  const pathArr = splitPath(path)\n  let left = 0\n  const right = pathArr.length\n\n  for (let i = 0; i < arr.length; i++) {\n    const { path } = arr[i]\n    if (path?.[left] === pathArr[left]) {\n      result.push(arr[i].label)\n      if (left < right - 1) left++\n    }\n    if (left === right) return result\n  }\n\n  return result\n}\n\n/**\n * 分割路径且去除首个字符串\n * @param path - 路径\n */\nexport function splitPath(path: string): string[] {\n  // 路径为空或非字符串格式则返回空数组\n  if (!path || typeof path !== 'string') return []\n  // 分割路径\n  const result = path?.split('/') || []\n  // 去除第一个空字符串\n  if (result?.[0] === '') result.shift()\n  return result\n}\n\n/**\n * 搜索相应菜单值\n * @param menus - 菜单\n * @param permissions - 权限列表\n * @param value - 匹配值\n * @param currentPath - 当前路径\n * @param result - 返回值\n */\n\ninterface IMenuPath {\n  label: string;\n  path: string[];\n}\ninterface ISearchMenuProps {\n  menus: ISideMenu[] | undefined,\n  permissions: string[],\n  value: string,\n  currentPath?: IMenuPath[],\n  result?: ISideMenu[]\n}\n\nexport function searchMenuValue(data: ISearchMenuProps): ISideMenu[] {\n  const { menus, permissions, value } = data\n  let { currentPath, result } = data\n  if (!menus?.length || !value) return []\n  if (!currentPath) currentPath = []\n  if (!result) result = []\n\n  for (let i = 0; i < menus.length; i++) {\n    // 如果存在子数组则递归\n    if (hasChildren(menus[i])) {\n      currentPath.push({\n        label: menus[i].label,\n        path: splitPath(menus[i].key)\n      })\n\n      // 递归子数组，返回结果\n      const childrenData = {\n        menus: menus[i].children,\n        permissions,\n        value,\n        currentPath,\n        result\n      }\n      const childResult = searchMenuValue(childrenData)\n\n      // 当子数组返回值有值时则合并数组\n      if (childResult.length) {\n        result.concat(childResult)\n      } else {\n        currentPath.pop()\n      }\n    } else if (\n      menus[i]?.label?.includes(value) &&\n      hasPermission(menus[i], permissions)\n    ) {\n      currentPath.push({\n        label: menus[i].label,\n        path: splitPath(menus[i].key)\n      })\n      const nav = matchPath(menus[i].key, currentPath)\n\n      // 匹配到value值时添加到result中\n      const { label, key } = menus[i]\n      result.push({ label, key, nav })\n    }\n  }\n\n  return result\n}\n\n/**\n * 根据key获取菜单当前值\n * @param menus - 菜单\n * @param permissions - 权限列表\n * @param key - 路由值\n * @param fatherNav - 父级面包屑\n * @param result - 返回值\n */\ninterface IGetMenuByKeyResult {\n  label: string;\n  key: string;\n  nav: string[];\n}\ninterface IGetMenuByKeyProps {\n  menus: ISideMenu[] | undefined,\n  permissions: string[],\n  key: string,\n  fatherNav?: string[],\n  result?: IGetMenuByKeyResult\n}\n\nexport function getMenuByKey(data: IGetMenuByKeyProps): IGetMenuByKeyResult | undefined {\n  const { menus, permissions, key } = data\n  let { fatherNav, result } = data\n  if (!menus?.length) return result\n  if (!fatherNav) fatherNav = []\n  if (!result?.key) result = {\n    key: '',\n    label: '',\n    nav: []\n  }\n\n  for (let i = 0; i < menus.length; i++) {\n    if (!key || (result as IGetMenuByKeyResult).key) return result\n\n    // 过滤子数据中值\n    if (hasChildren(menus[i])) {\n      fatherNav.push(menus[i].label)\n\n      // 递归子数组，返回结果\n      const childProps = {\n        menus: menus[i].children,\n        permissions,\n        key,\n        fatherNav,\n        result\n      }\n      const childResult = getMenuByKey(childProps)\n\n      // 当子数组返回值\n      if (childResult?.key) {\n        result = childResult\n      } else {\n        // 下次递归前删除面包屑前一步错误路径\n        fatherNav.pop()\n      }\n    } else if (\n      menus[i]?.key === key &&\n      hasPermission(menus[i], permissions)\n    ) {\n      fatherNav.push(menus[i].label)\n      const { label, key } = menus[i]\n      if (key) result = { label, key, nav: fatherNav }\n    }\n  }\n\n  return result\n}\n\n/**\n * 过滤权限菜单\n * @param menus - 菜单\n * @param permissions - 权限列表\n */\nexport function filterMenus(\n  menus: ISideMenu[],\n  permissions: string[]\n): ISideMenu[] {\n  const result: ISideMenu[] = []\n\n  for (let i = 0; i < menus.length; i++) {\n    // 处理子数组\n    if (hasChildren(menus[i])) {\n      const result = filterMenus(\n        menus[i].children as ISideMenu[],\n        permissions\n      )\n\n      // 有子权限数据则保留\n      menus[i].children = result?.length ? result : undefined\n    }\n\n    // 有权限或有子数据累加\n    if (\n      hasPermission(menus[i], permissions) ||\n      hasChildren(menus[i])\n    ) result.push(menus[i])\n  }\n\n  return result\n}\n\n/**\n * 获取第一个有效权限路由\n * @param menus - 菜单\n * @param permissions - 权限\n */\nexport function getFirstMenu(\n menus: ISideMenu[],\n permissions: string[],\n result = ''\n): string {\n  // 有结构时直接返回\n  if (result) return result\n\n  for (let i = 0; i < menus.length; i++) {\n    // 处理子数组\n    if (hasChildren(menus[i]) && !result) {\n      const childResult = getFirstMenu(\n        menus[i].children as ISideMenu[],\n        permissions,\n        result\n      )\n\n      // 有结果则赋值\n      if (childResult) {\n        result = childResult\n        return result\n      }\n    }\n\n    // 有权限且没有有子数据\n    if (\n      hasPermission(menus[i], permissions) &&\n      !hasChildren(menus[i])\n    ) result = menus[i].key\n  }\n\n  return result\n}\n\n/**\n * 路由是否权限\n * @param route - 路由\n * @param permissions - 权限\n */\nfunction hasPermission(route: ISideMenu, permissions: string[]): boolean {\n  return permissions?.includes(route?.rule || '')\n}\n\n/**\n * 是否有子路由\n * @param route - 路由\n */\nfunction hasChildren(route: ISideMenu): boolean {\n  return Boolean(route.children?.length)\n}\n","import type { TabPaneProps } from 'antd'\nimport { createSlice } from '@reduxjs/toolkit'\n\ninterface ITabs extends Omit<TabPaneProps, 'tab'> {\n  key: string;\n  label: React.ReactNode;\n}\n\nconst tabsSlice = createSlice({\n  name: 'tabs',\n  initialState: {\n    isLock: false,\n    isMaximize: false,\n    activeKey: '',\n    nav: [] as string[],\n    tabs: [] as ITabs[]\n  },\n  reducers: {\n    /** 设置锁 */\n    toggleLock: (state, action) => {\n      state.isLock = !!action.payload\n    },\n    /** 切换最大化 */\n    toggleMaximize: (state, action) => {\n      state.isMaximize = !!action.payload\n    },\n    /** 设置选择 */\n    setActiveKey: (state, action) => {\n      state.activeKey = action.payload\n    },\n    /** 设置导航 */\n    setNav: (state, action) => {\n      state.nav = action.payload\n    },\n    /** 添加标签  */\n    addTabs: (state, action) => {\n      const { tabs } = state\n      const { payload } = action\n\n      // 判断是否存在相同的路由，不存在则累加\n      const has = tabs.find(item => item.key === payload.key)\n      if (!has) tabs.push(payload)\n\n      // 如果只剩一个则无法关闭\n      if (tabs?.length) tabs[0].closable = tabs?.length > 1\n    },\n    /** 关闭标签 */\n    closeTabs: (state, action) => {\n      const { tabs } = state\n      const { payload } = action\n\n      // 发现下标并从数组中删除\n      const index = tabs.findIndex(item => item.key === payload)\n      if (index >= 0) tabs.splice(index, 1)\n\n      // 如果当前下标是当前选中的标签，则跳转至上一个/下一个有效值\n      if (payload === state.activeKey) {\n        let target = ''\n        if (index === 0) {\n          target = tabs?.[index]?.key || ''\n        } else {\n          target = tabs[index - 1].key\n        }\n        state.activeKey = target\n        state.isLock = true\n      }\n\n      // 如果只剩一个则无法关闭\n      if (tabs?.length) tabs[0].closable = tabs?.length > 1\n    },\n    /** 关闭标签并跳转新的页面 */\n    closeTabGoNext: (state, action) => {\n      const { tabs } = state\n      const { payload } = action\n      const { key, nextPath } = payload\n\n      // 发现下标并从数组中删除\n      const index = tabs.findIndex(item => item.key === key)\n      if (index >= 0) tabs.splice(index, 1)\n\n      // 如果当前下标是当前选中的标签，则跳转至上一个/下一个有效值\n      if (key === state.activeKey) {\n        state.activeKey = nextPath\n        state.isLock = true\n      }\n\n      // 如果只剩一个则无法关闭\n      if (tabs?.length) tabs[0].closable = tabs?.length > 1\n    },\n    /** 关闭左侧 */\n    closeLeft: (state, action) => {\n      const { tabs } = state\n      const { payload } = action\n\n      // 发现下标并从数组中删除\n      const index = tabs.findIndex(item => item.key === payload)\n      if (index >= 0) tabs.splice(0, index)\n      state.activeKey = tabs[0].key\n\n      // 如果只剩一个则无法关闭\n      if (tabs?.length) tabs[0].closable = tabs?.length > 1\n    },\n    /** 关闭右侧 */\n    closeRight: (state, action) => {\n      const { tabs } = state\n      const { payload } = action\n\n      // 发现下标并从数组中删除\n      const index = tabs.findIndex(item => item.key === payload)\n      if (index >= 0) tabs.splice(index + 1, tabs.length - index - 1)\n      state.activeKey = tabs[tabs.length - 1].key\n\n      // 如果只剩一个则无法关闭\n      if (tabs?.length) tabs[0].closable = tabs?.length > 1\n    },\n    /** 关闭其他 */\n    closeOther: (state, action) => {\n      const { tabs } = state\n      const { payload } = action\n\n      // 发现下标并从数组中删除\n      const tab = tabs.find(item => item.key === payload)\n      if (tab) {\n        state.tabs = [tab]\n        state.activeKey = tab.key\n        state.isLock = true\n      }\n\n      // 如果只剩一个则无法关闭\n      tabs[0].closable = false\n    },\n    /** 关闭全部 */\n    closeAllTab: (state) => {\n      state.tabs = []\n    }\n  }\n})\n\nexport const {\n  toggleLock,\n  toggleMaximize,\n  setActiveKey,\n  setNav,\n  addTabs,\n  closeTabs,\n  closeTabGoNext,\n  closeLeft,\n  closeRight,\n  closeOther,\n  closeAllTab\n} = tabsSlice.actions\n\nexport default tabsSlice.reducer","import { createSlice } from '@reduxjs/toolkit'\n\nconst menuSlice = createSlice({\n  name: 'menu',\n  initialState: {\n    isPhone: false,\n    isCollapsed: false,\n    selectedKeys: 'dashboard', // 菜单选中值\n    openKeys: ['Dashboard'], // 菜单展开项\n  },\n  reducers: {\n    toggleCollapsed: (state, action) => {\n      state.isCollapsed = !!action.payload\n    },\n    togglePhone: (state, action) => {\n      state.isPhone = !!action.payload\n    },\n    setSelectedKeys: (state, action) => {\n      state.selectedKeys = action.payload\n    },\n    setOpenKeys: (state, action) => {\n      state.openKeys = action.payload\n    }\n  }\n})\n\nexport const {\n  toggleCollapsed,\n  togglePhone,\n  setSelectedKeys,\n  setOpenKeys\n} = menuSlice.actions\n\nexport default menuSlice.reducer","interface IOptions {\n  ArrowUp?: () => void;\n  ArrowDown?: () => void;\n  ArrowLeft?: () => void;\n  ArrowRight?: () => void;\n  Enter?: () => void;\n}\n\n/**\n * 键盘按键事件\n * @param options\n */\nexport function useKeyStroke(options: IOptions) {\n  /**\n   * 点击按键\n   * @param even - 按键事件\n   */\n  const onKeyDown = (even: KeyboardEvent) => {\n    switch (even.key) {\n      // 上\n      case 'ArrowUp':\n        options.ArrowUp?.()\n        break\n\n      // 下\n      case 'ArrowDown':\n        options.ArrowDown?.()\n        break\n\n      // 左\n      case 'ArrowLeft':\n        options.ArrowLeft?.()\n        break\n\n      // 右\n      case 'ArrowRight':\n        options.ArrowRight?.()\n        break\n\n      // 回车\n      case 'Enter':\n        options.Enter?.()\n        break\n\n      default:\n        break\n    }\n  }\n\n  return [onKeyDown] as const\n}\n","import type { ISideMenu } from '#/public'\nimport type { AppDispatch, RootState } from '@/stores'\nimport { Fragment } from 'react'\nimport { Icon } from '@iconify/react'\nimport { useNavigate } from 'react-router-dom'\nimport { setOpenKeys } from '@/stores/menu'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getMenuByKey, getOpenMenuByRouter } from '@/menus/utils/helper'\nimport { addTabs, setActiveKey } from '@/stores/tabs'\nimport { defaultMenus } from '@/menus'\n\ninterface IProps {\n  list: ISideMenu[]; // 列表\n  active: string; // 选中值\n  onCancel: () => void; // 关闭模态框\n  changActive: (value: string) => void; // 更改选中值\n}\n\nfunction SearchResult(props: IProps) {\n  const { list, active, onCancel, changActive } = props\n  const navigate = useNavigate()\n  const dispatch: AppDispatch = useDispatch()\n  const permissions = useSelector((state: RootState) => state.user.permissions)\n\n  /**\n   * 点击菜单跳转页面\n   * @param key - 唯一值\n   */\n  const onClick = (key: string) => {\n    navigate(key)\n    // 添加标签\n    const menuByKeyProps = { menus: defaultMenus, permissions, key }\n    const newTab = getMenuByKey(menuByKeyProps)\n    dispatch(addTabs(newTab))\n    dispatch(setActiveKey(key))\n    // 处理菜单展开\n    const openKeys = getOpenMenuByRouter(key)\n    dispatch(setOpenKeys(openKeys))\n    // 关闭\n    onCancel()\n  }\n\n  /**\n   * 鼠标进入事件\n   * @param key - 唯一值\n   */\n  const onMouseEnter = (key: string) => {\n    changActive(key)\n  }\n\n  return (\n    <>\n      {\n        !list?.length &&\n        <div\n          className=\"flex flex-col items-center pt-5 text-warm-gray-400\"\n        >\n          <Icon\n            className=\"text-40px\"\n            icon=\"mdi:archive-cancel-outline\"\n          />\n          <span className=\"mt-1\">暂无搜索结构</span>\n        </div>\n      }\n\n      {\n        list?.length > 0 &&\n        <div className=\"mt-5\">\n          {\n            list?.map(item => (\n            <div\n              key={item.key}\n              className={`\n                h-56px\n                mt-8px\n                px-14px\n                rounded-4px\n                cursor-pointer\n                flex\n                items-center\n                justify-between\n                shadow-md\n                border\n                border-light-500\n                ${active === item.key ? 'bg-blue-500 text-white' : ''}\n              `}\n              onClick={() => onClick(item.key)}\n              onMouseEnter={() => onMouseEnter(item.key)}\n            >\n            <div className=\"flex items-center\">\n              <Icon className=\"text-lg mr-1\" icon=\"gg:menu-boxed\" />\n                {\n                  item.nav && item.nav?.length > 0 &&\n                  item.nav.map((item, index) => (\n                    <Fragment key={item}>\n                      {\n                        index > 0 &&\n                        <span className='mx-5px'>&gt;</span>\n                      }\n                      <span>{ item }</span>\n                    </Fragment>\n                  ))\n                }\n                {\n                  !item.nav &&\n                  <span>{ item.label }</span>\n                }\n              </div>\n              <Icon className=\"icon text-20px p-2px mr-5px\" icon=\"ant-design:enter-outlined\" />\n            </div>\n          )) }\n        </div>\n      }\n    </>\n  )\n}\n\nexport default SearchResult","import { Icon } from '@iconify/react'\nimport styles from '../index.module.less'\n\nfunction SearchFooter() {\n  return (\n    <div className=\"flex items-center text-dark-50\">\n      <span className=\"mr-14px flex items-center\">\n        <Icon className={`${styles.icon} text-20px p-2px mr-5px`} icon=\"ant-design:enter-outlined\" />\n        <span>确认</span>\n      </span>\n      <span className=\"mr-14px flex items-center\">\n        <Icon className={`${styles.icon} text-20px p-2px mr-5px`} icon=\"mdi-arrow-up-thin\" />\n        <Icon className={`${styles.icon} text-20px p-2px mr-5px`} icon=\"mdi-arrow-down-thin\" />\n        <span>切换</span>\n      </span>\n      <span className=\"flex items-center\">\n        <Icon className={`${styles.icon} text-20px p-2px mr-5px`} icon=\"mdi:keyboard-esc\" />\n        <span>关闭</span>\n      </span>\n    </div>\n  )\n}\n\nexport default SearchFooter","import type { ISideMenu } from '#/public'\nimport type { AppDispatch, RootState } from '@/stores'\nimport type { InputProps, InputRef } from 'antd'\nimport { Ref, useImperativeHandle, useLayoutEffect } from 'react'\nimport { useEffect, useRef, useState } from 'react'\nimport { Modal, Input } from 'antd'\nimport { Icon } from '@iconify/react'\nimport { useDebounceFn } from 'ahooks'\nimport { defaultMenus } from '@/menus'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useNavigate } from 'react-router-dom'\nimport { useKeyStroke } from '@/hooks/useKeyStroke'\nimport { getMenuByKey, getOpenMenuByRouter, searchMenuValue } from '@/menus/utils/helper'\nimport { addTabs, setActiveKey } from '@/stores/tabs'\nimport { setOpenKeys } from '@/stores/menu'\nimport SearchResult from './SearchResult'\nimport SearchFooter from './SearchFooter'\n\nexport interface ISearchModal {\n  toggle: () => void;\n}\n\ninterface IProps {\n  modalRef: Ref<ISearchModal>;\n}\n\nfunction SearchModal(props: IProps) {\n  const navigate = useNavigate()\n  const inputRef = useRef<InputRef>(null)\n  const { modalRef } = props\n  const [value, setValue] = useState('') // 输入框值\n  const [active, setActive] = useState('') // 选中值\n  const [list, setList] = useState<ISideMenu[]>([])\n  const [isOpen, setOpen] = useState(false)\n  const dispatch: AppDispatch = useDispatch()\n  const permissions = useSelector((state: RootState) => state.user.permissions)\n\n  // 抛出外部方法\n  useImperativeHandle(\n    modalRef,\n    () => ({\n      toggle: () => {\n        setOpen(!isOpen)\n      }\n    })\n  )\n\n  // 聚焦输入框\n  useLayoutEffect(() => {\n    if (isOpen) {\n      // 转为宏任务防止聚焦失效\n      setTimeout(() => {\n        inputRef.current?.focus({\n          cursor: 'end'\n        })\n      }, 0)\n    }\n\n    // 退出时清空数据\n    return (() => {\n      setValue('')\n      setActive('')\n      setList([])\n    })\n  }, [isOpen])\n\n  /**\n   * 更改选中值\n   * @param value - 选中值\n   */\n  const changActive = (value: string) => {\n    setActive(value)\n  }\n\n  /** 关闭模态框 */\n  const onClose = () => {\n    setOpen(false)\n  }\n\n  /** 点击回车 */\n  const onPressEnter = () => {\n    if (active) {\n      navigate(active)\n      // 添加标签\n      const menuByKeyProps = { menus: defaultMenus, permissions, key: active }\n      const newTab = getMenuByKey(menuByKeyProps)\n      dispatch(addTabs(newTab))\n      dispatch(setActiveKey(active))\n      // 处理菜单展开\n      const openKeys = getOpenMenuByRouter(active)\n      dispatch(setOpenKeys(openKeys))\n      // 关闭\n      onClose()\n    }\n  }\n\n  /**\n   * 防抖处理搜索结果\n   * @param value - 搜索值\n   */\n  const debounceSearch = useDebounceFn((value: string) => {\n    const searchProps = { menus: defaultMenus, permissions, value }\n    const searchValue = searchMenuValue(searchProps)\n    if (searchValue?.length) {\n      setActive((searchValue as ISideMenu[])?.[0]?.key || '')\n      setList(searchValue as ISideMenu[])\n    } else {\n      setActive('')\n      setList([])\n    }\n  }, { wait: 200 })\n\n  /**\n   * 防抖处理值变化值变化\n   * @param event - 输入框参数\n   */\n  const onChange: InputProps['onChange'] = event => {\n    const { value } = event.target\n    setValue(value)\n    debounceSearch.run(value)\n  }\n\n  /** 键盘上事件 */\n  const onArrowUp = () => {\n    // 列表为空则退出\n    if (!list.length) return null\n    const index = list.findIndex(item => item.key === active)\n    // 最上层则不操作\n    if (index === 0) return null\n    const newActive = list[index - 1].key\n    setActive(newActive)\n  }\n\n  /** 键盘下事件 */\n  const onArrowDown = () => {\n    // 列表为空则退出\n    if (!list.length) return null\n    const len = list.length - 1\n    const index = list.findIndex(item => item.key === active)\n    // 最下层则不操作\n    if (index === len) return null\n    const newActive = list[index + 1].key\n    setActive(newActive)\n  }\n\n  // 监听按键\n  const [onKeyDown] = useKeyStroke({\n    ArrowUp: onArrowUp,\n    ArrowDown: onArrowDown,\n    Enter: onPressEnter,\n  })\n\n  // 当列表值变化时监听按键事件\n  useEffect(() => {\n    if (list.length) {\n      // 监听按键\n      window.addEventListener('keydown', onKeyDown)\n\n      return (() => {\n        // 退出清空监听\n        window.removeEventListener('keydown', onKeyDown)\n      })\n    }\n  }, [list, active, onKeyDown])\n\n  return (\n    <Modal\n      className=\"rounded-100px\"\n      open={isOpen}\n      closable={false}\n      onCancel={onClose}\n      footer={<SearchFooter />}\n    >\n      <Input\n        ref={inputRef}\n        value={value}\n        placeholder=\"请输入关键词搜索\"\n        allowClear={true}\n        prefix={<Icon\n          className=\"text-lg text-warm-gray-400\"\n          icon=\"ant-design:search-outlined\"\n        />}\n        onChange={onChange}\n        onPressEnter={onPressEnter}\n      />\n  \n      <SearchResult\n        list={list}\n        active={active}\n        onCancel={onClose}\n        changActive={changActive}\n      />\n    </Modal>\n  )\n}\n\nexport default SearchModal","import type { ISearchModal } from './components/SearchModal'\nimport { useRef } from 'react'\nimport { Tooltip } from 'antd'\nimport { Icon } from '@iconify/react'\nimport SearchModal from './components/SearchModal'\n\n/**\n * @description: 全局搜索菜单组件\n */\nfunction GlobalSearch() {\n  const modalRef = useRef<ISearchModal>(null)\n\n  /** 切换显示 */\n  const toggle = () => {\n    modalRef.current?.toggle()\n  }\n\n  return (\n    <>\n      <Tooltip title='搜索'>\n        <Icon\n          className=\"flex items-center justify-center text-lg mr-3 cursor-pointer\"\n          icon=\"uil-search\"\n          onClick={toggle}\n        />\n      </Tooltip>\n\n      <SearchModal\n        modalRef={modalRef}\n      />\n    </>\n  )\n}\n\nexport default GlobalSearch"],"names":["system","jsx","Icon","demo","content","defaultMenus","getOpenMenuByRouter","router","arr","splitPath","result","str","i","matchPath","path","pathArr","left","right","searchMenuValue","data","menus","permissions","value","currentPath","hasChildren","childrenData","childResult","_b","_a","hasPermission","nav","label","key","getMenuByKey","fatherNav","childProps","filterMenus","getFirstMenu","route","tabsSlice","createSlice","state","action","tabs","payload","item","index","target","nextPath","tab","toggleLock","toggleMaximize","setActiveKey","setNav","addTabs","closeTabs","closeTabGoNext","closeLeft","closeRight","closeOther","closeAllTab","tabsReducer","menuSlice","toggleCollapsed","togglePhone","setSelectedKeys","setOpenKeys","menuReducer","useKeyStroke","options","even","_c","_d","_e","SearchResult","props","list","active","onCancel","changActive","navigate","useNavigate","dispatch","useDispatch","useSelector","onClick","newTab","openKeys","onMouseEnter","jsxs","Fragment","SearchFooter","styles","SearchModal","inputRef","useRef","modalRef","setValue","useState","setActive","setList","isOpen","setOpen","useImperativeHandle","useLayoutEffect","onClose","onPressEnter","debounceSearch","useDebounceFn","searchValue","onChange","event","onArrowUp","newActive","onArrowDown","len","onKeyDown","useEffect","Modal","Input","GlobalSearch","Tooltip"],"mappings":"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"}