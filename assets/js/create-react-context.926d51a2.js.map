{"version":3,"file":"create-react-context.926d51a2.js","sources":["../../../node_modules/.pnpm/create-react-context@0.3.0_react@18.2.0/node_modules/create-react-context/lib/implementation.js","../../../node_modules/.pnpm/create-react-context@0.3.0_react@18.2.0/node_modules/create-react-context/lib/index.js"],"sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _gud = require('gud');\n\nvar _gud2 = _interopRequireDefault(_gud);\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MAX_SIGNED_31_BIT_INT = 1073741823;\n\n// Inlined Object.is polyfill.\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\nfunction objectIs(x, y) {\n  if (x === y) {\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\n\nfunction createEventEmitter(value) {\n  var handlers = [];\n  return {\n    on: function on(handler) {\n      handlers.push(handler);\n    },\n    off: function off(handler) {\n      handlers = handlers.filter(function (h) {\n        return h !== handler;\n      });\n    },\n    get: function get() {\n      return value;\n    },\n    set: function set(newValue, changedBits) {\n      value = newValue;\n      handlers.forEach(function (handler) {\n        return handler(value, changedBits);\n      });\n    }\n  };\n}\n\nfunction onlyChild(children) {\n  return Array.isArray(children) ? children[0] : children;\n}\n\nfunction createReactContext(defaultValue, calculateChangedBits) {\n  var _Provider$childContex, _Consumer$contextType;\n\n  var contextProp = '__create-react-context-' + (0, _gud2.default)() + '__';\n\n  var Provider = function (_Component) {\n    _inherits(Provider, _Component);\n\n    function Provider() {\n      var _temp, _this, _ret;\n\n      _classCallCheck(this, Provider);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.emitter = createEventEmitter(_this.props.value), _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    Provider.prototype.getChildContext = function getChildContext() {\n      var _ref;\n\n      return _ref = {}, _ref[contextProp] = this.emitter, _ref;\n    };\n\n    Provider.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n      if (this.props.value !== nextProps.value) {\n        var oldValue = this.props.value;\n        var newValue = nextProps.value;\n        var changedBits = void 0;\n\n        if (objectIs(oldValue, newValue)) {\n          changedBits = 0; // No change\n        } else {\n          changedBits = typeof calculateChangedBits === 'function' ? calculateChangedBits(oldValue, newValue) : MAX_SIGNED_31_BIT_INT;\n          if (process.env.NODE_ENV !== 'production') {\n            (0, _warning2.default)((changedBits & MAX_SIGNED_31_BIT_INT) === changedBits, 'calculateChangedBits: Expected the return value to be a ' + '31-bit integer. Instead received: %s', changedBits);\n          }\n\n          changedBits |= 0;\n\n          if (changedBits !== 0) {\n            this.emitter.set(nextProps.value, changedBits);\n          }\n        }\n      }\n    };\n\n    Provider.prototype.render = function render() {\n      return this.props.children;\n    };\n\n    return Provider;\n  }(_react.Component);\n\n  Provider.childContextTypes = (_Provider$childContex = {}, _Provider$childContex[contextProp] = _propTypes2.default.object.isRequired, _Provider$childContex);\n\n  var Consumer = function (_Component2) {\n    _inherits(Consumer, _Component2);\n\n    function Consumer() {\n      var _temp2, _this2, _ret2;\n\n      _classCallCheck(this, Consumer);\n\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, _Component2.call.apply(_Component2, [this].concat(args))), _this2), _this2.state = {\n        value: _this2.getValue()\n      }, _this2.onUpdate = function (newValue, changedBits) {\n        var observedBits = _this2.observedBits | 0;\n        if ((observedBits & changedBits) !== 0) {\n          _this2.setState({ value: _this2.getValue() });\n        }\n      }, _temp2), _possibleConstructorReturn(_this2, _ret2);\n    }\n\n    Consumer.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n      var observedBits = nextProps.observedBits;\n\n      this.observedBits = observedBits === undefined || observedBits === null ? MAX_SIGNED_31_BIT_INT // Subscribe to all changes by default\n      : observedBits;\n    };\n\n    Consumer.prototype.componentDidMount = function componentDidMount() {\n      if (this.context[contextProp]) {\n        this.context[contextProp].on(this.onUpdate);\n      }\n      var observedBits = this.props.observedBits;\n\n      this.observedBits = observedBits === undefined || observedBits === null ? MAX_SIGNED_31_BIT_INT // Subscribe to all changes by default\n      : observedBits;\n    };\n\n    Consumer.prototype.componentWillUnmount = function componentWillUnmount() {\n      if (this.context[contextProp]) {\n        this.context[contextProp].off(this.onUpdate);\n      }\n    };\n\n    Consumer.prototype.getValue = function getValue() {\n      if (this.context[contextProp]) {\n        return this.context[contextProp].get();\n      } else {\n        return defaultValue;\n      }\n    };\n\n    Consumer.prototype.render = function render() {\n      return onlyChild(this.props.children)(this.state.value);\n    };\n\n    return Consumer;\n  }(_react.Component);\n\n  Consumer.contextTypes = (_Consumer$contextType = {}, _Consumer$contextType[contextProp] = _propTypes2.default.object, _Consumer$contextType);\n\n\n  return {\n    Provider: Provider,\n    Consumer: Consumer\n  };\n}\n\nexports.default = createReactContext;\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _implementation = require('./implementation');\n\nvar _implementation2 = _interopRequireDefault(_implementation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _react2.default.createContext || _implementation2.default;\nmodule.exports = exports['default'];"],"names":["exports","_react","require$$0","_interopRequireDefault","_propTypes","require$$1","_propTypes2","_gud","require$$2","_gud2","_warning","require$$3","obj","_classCallCheck","instance","Constructor","_possibleConstructorReturn","self","call","_inherits","subClass","superClass","MAX_SIGNED_31_BIT_INT","objectIs","x","y","createEventEmitter","value","handlers","handler","h","newValue","changedBits","onlyChild","children","createReactContext","defaultValue","calculateChangedBits","_Provider$childContex","_Consumer$contextType","contextProp","Provider","_Component","_temp","_this","_ret","_len","args","_key","_ref","nextProps","oldValue","Consumer","_Component2","_temp2","_this2","_ret2","_len2","_key2","observedBits","module","_react2","_implementation","_implementation2"],"mappings":"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"}