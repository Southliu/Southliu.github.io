import{n as D,g as I,e as p,c as S}from"./@babel_runtime.c8088fcd.js";import{r as a,e as nt}from"./react.76efb1e3.js";import{c as ne}from"./classnames.82ff248b.js";import{R as we}from"./rc-resize-observer.438dc091.js";import{V as it,W as qe,a as Je,j as st}from"./rc-util.644b3d3a.js";import{r as lt}from"./react-dom.9f2c8c46.js";var ot=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],re=void 0;function ft(e,l){var v=e.prefixCls,s=e.invalidate,f=e.item,n=e.renderItem,u=e.responsive,R=e.responsiveDisabled,o=e.registerSize,E=e.itemKey,_=e.className,b=e.style,G=e.children,X=e.display,c=e.order,M=e.component,z=M===void 0?"div":M,$=D(e,ot),m=u&&!X;function U(N){o(E,N)}a.useEffect(function(){return function(){U(null)}},[]);var j=n&&f!==re?n(f):G,w;s||(w={opacity:m?0:1,height:m?0:re,overflowY:m?"hidden":re,order:u?c:re,pointerEvents:m?"none":re,position:m?"absolute":re});var K={};m&&(K["aria-hidden"]=!0);var h=a.createElement(z,I({className:ne(!s&&v,_),style:p(p({},w),b)},K,$,{ref:l}),j);return u&&(h=a.createElement(we,{onResize:function(B){var A=B.offsetWidth;U(A)},disabled:R},h)),h}var Ne=a.forwardRef(ft);Ne.displayName="Item";function ut(){var e=it({}),l=S(e,2),v=l[1],s=a.useRef([]),f=0,n=0;function u(R){var o=f;f+=1,s.current.length<o+1&&(s.current[o]=R);var E=s.current[o];function _(b){s.current[o]=typeof b=="function"?b(s.current[o]):b,qe.cancel(n),n=qe(function(){v({},!0)})}return[E,_]}return u}var dt=["component"],vt=["className"],ct=["className"],mt=function(l,v){var s=a.useContext(ge);if(!s){var f=l.component,n=f===void 0?"div":f,u=D(l,dt);return a.createElement(n,I({},u,{ref:v}))}var R=s.className,o=D(s,vt),E=l.className,_=D(l,ct);return a.createElement(ge.Provider,{value:null},a.createElement(Ne,I({ref:v,className:ne(R,E)},o,_)))},Qe=a.forwardRef(mt);Qe.displayName="RawItem";var yt=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],ge=a.createContext(null),Ze="responsive",et="invalidate";function St(e){return"+ ".concat(e.length," ...")}function Rt(e,l){var v=e.prefixCls,s=v===void 0?"rc-overflow":v,f=e.data,n=f===void 0?[]:f,u=e.renderItem,R=e.renderRawItem,o=e.itemKey,E=e.itemWidth,_=E===void 0?10:E,b=e.ssr,G=e.style,X=e.className,c=e.maxCount,M=e.renderRest,z=e.renderRawRest,$=e.suffix,m=e.component,U=m===void 0?"div":m,j=e.itemComponent,w=e.onVisibleChange,K=D(e,yt),h=ut(),N=b==="full",B=h(null),A=S(B,2),O=A[0],be=A[1],C=O||0,ze=h(new Map),ie=S(ze,2),se=ie[0],$e=ie[1],Pe=h(0),le=S(Pe,2),We=le[0],De=le[1],Me=h(0),oe=S(Me,2),k=oe[0],Ue=oe[1],Ke=h(0),fe=S(Ke,2),V=fe[0],Ae=fe[1],Oe=a.useState(null),ue=S(Oe,2),H=ue[0],de=ue[1],ke=a.useState(null),ve=S(ke,2),F=ve[0],Ve=ve[1],x=a.useMemo(function(){return F===null&&N?Number.MAX_SAFE_INTEGER:F||0},[F,O]),Fe=a.useState(!1),ce=S(Fe,2),Te=ce[0],Le=ce[1],Y="".concat(s,"-item"),me=Math.max(We,k),q=c===Ze,y=n.length&&q,ye=c===et,Ge=y||typeof c=="number"&&n.length>c,g=a.useMemo(function(){var t=n;return y?O===null&&N?t=n:t=n.slice(0,Math.min(n.length,C/_)):typeof c=="number"&&(t=n.slice(0,c)),t},[n,_,O,c,y]),J=a.useMemo(function(){return y?n.slice(x+1):n.slice(g.length)},[n,g,y,x]),T=a.useCallback(function(t,r){var i;return typeof o=="function"?o(t):(i=o&&(t==null?void 0:t[o]))!==null&&i!==void 0?i:r},[o]),Xe=a.useCallback(u||function(t){return t},[u]);function L(t,r,i){F===t&&(r===void 0||r===H)||(Ve(t),i||(Le(t<n.length-1),w==null||w(t)),r!==void 0&&de(r))}function je(t,r){be(r.clientWidth)}function Se(t,r){$e(function(i){var d=new Map(i);return r===null?d.delete(t):d.set(t,r),d})}function Be(t,r){Ue(r),De(k)}function He(t,r){Ae(r)}function Q(t){return se.get(T(g[t],t))}Je(function(){if(C&&me&&g){var t=V,r=g.length,i=r-1;if(!r){L(0,null);return}for(var d=0;d<r;d+=1){var W=Q(d);if(N&&(W=W||0),W===void 0){L(d-1,void 0,!0);break}if(t+=W,i===0&&t<=C||d===i-1&&t+Q(i)<=C){L(i,null);break}else if(t+me>C){L(d-1,t-W-V+k);break}}$&&Q(0)+V>C&&de(null)}},[C,se,k,V,T,g]);var Re=Te&&!!J.length,he={};H!==null&&y&&(he={position:"absolute",left:H,top:0});var P={prefixCls:Y,responsive:y,component:j,invalidate:ye},Ye=R?function(t,r){var i=T(t,r);return a.createElement(ge.Provider,{key:i,value:p(p({},P),{},{order:r,item:t,itemKey:i,registerSize:Se,display:r<=x})},R(t,r))}:function(t,r){var i=T(t,r);return a.createElement(Ne,I({},P,{order:r,key:i,item:t,renderItem:Xe,itemKey:i,registerSize:Se,display:r<=x}))},Z,Ee={order:Re?x:Number.MAX_SAFE_INTEGER,className:"".concat(Y,"-rest"),registerSize:Be,display:Re};if(z)z&&(Z=a.createElement(ge.Provider,{value:p(p({},P),Ee)},z(J)));else{var ee=M||St;Z=a.createElement(Ne,I({},P,Ee),typeof ee=="function"?ee(J):ee)}var te=a.createElement(U,I({className:ne(!ye&&s,X),style:G,ref:l},K),g.map(Ye),Ge?Z:null,$&&a.createElement(Ne,I({},P,{responsive:q,responsiveDisabled:!y,order:x,className:"".concat(Y,"-suffix"),registerSize:He,display:!0,style:he}),$));return q&&(te=a.createElement(we,{onResize:je,disabled:!y},te)),te}var xe=a.forwardRef(Rt);xe.displayName="Overflow";xe.Item=Qe;xe.RESPONSIVE=Ze;xe.INVALIDATE=et;var ht=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],ae=void 0;function Et(e,l){var v=e.prefixCls,s=e.invalidate,f=e.item,n=e.renderItem,u=e.responsive,R=e.responsiveDisabled,o=e.registerSize,E=e.itemKey,_=e.className,b=e.style,G=e.children,X=e.display,c=e.order,M=e.component,z=M===void 0?"div":M,$=D(e,ht),m=u&&!X;function U(N){o(E,N)}a.useEffect(function(){return function(){U(null)}},[]);var j=n&&f!==ae?n(f):G,w;s||(w={opacity:m?0:1,height:m?0:ae,overflowY:m?"hidden":ae,order:u?c:ae,pointerEvents:m?"none":ae,position:m?"absolute":ae});var K={};m&&(K["aria-hidden"]=!0);var h=a.createElement(z,I({className:ne(!s&&v,_),style:p(p({},w),b)},K,$,{ref:l}),j);return u&&(h=a.createElement(we,{onResize:function(B){var A=B.offsetWidth;U(A)},disabled:R},h)),h}var Ce=a.forwardRef(Et);Ce.displayName="Item";function _t(e){if(typeof MessageChannel>"u")qe(e);else{var l=new MessageChannel;l.port1.onmessage=function(){return e()},l.port2.postMessage(void 0)}}function Nt(){var e=a.useRef(null),l=function(s){e.current||(e.current=[],_t(function(){lt.unstable_batchedUpdates(function(){e.current.forEach(function(f){f()}),e.current=null})})),e.current.push(s)};return l}function _e(e,l){var v=a.useState(l),s=S(v,2),f=s[0],n=s[1],u=st(function(R){e(function(){n(R)})});return[f,u]}var Ie=nt.createContext(null),Ct=["component"],gt=["className"],It=["className"],wt=function(l,v){var s=a.useContext(Ie);if(!s){var f=l.component,n=f===void 0?"div":f,u=D(l,Ct);return a.createElement(n,I({},u,{ref:v}))}var R=s.className,o=D(s,gt),E=l.className,_=D(l,It);return a.createElement(Ie.Provider,{value:null},a.createElement(Ce,I({ref:v,className:ne(R,E)},o,_)))},tt=a.forwardRef(wt);tt.displayName="RawItem";var xt=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],rt="responsive",at="invalidate";function pt(e){return"+ ".concat(e.length," ...")}function bt(e,l){var v=e.prefixCls,s=v===void 0?"rc-overflow":v,f=e.data,n=f===void 0?[]:f,u=e.renderItem,R=e.renderRawItem,o=e.itemKey,E=e.itemWidth,_=E===void 0?10:E,b=e.ssr,G=e.style,X=e.className,c=e.maxCount,M=e.renderRest,z=e.renderRawRest,$=e.suffix,m=e.component,U=m===void 0?"div":m,j=e.itemComponent,w=e.onVisibleChange,K=D(e,xt),h=b==="full",N=Nt(),B=_e(N,null),A=S(B,2),O=A[0],be=A[1],C=O||0,ze=_e(N,new Map),ie=S(ze,2),se=ie[0],$e=ie[1],Pe=_e(N,0),le=S(Pe,2),We=le[0],De=le[1],Me=_e(N,0),oe=S(Me,2),k=oe[0],Ue=oe[1],Ke=_e(N,0),fe=S(Ke,2),V=fe[0],Ae=fe[1],Oe=a.useState(null),ue=S(Oe,2),H=ue[0],de=ue[1],ke=a.useState(null),ve=S(ke,2),F=ve[0],Ve=ve[1],x=a.useMemo(function(){return F===null&&h?Number.MAX_SAFE_INTEGER:F||0},[F,O]),Fe=a.useState(!1),ce=S(Fe,2),Te=ce[0],Le=ce[1],Y="".concat(s,"-item"),me=Math.max(We,k),q=c===rt,y=n.length&&q,ye=c===at,Ge=y||typeof c=="number"&&n.length>c,g=a.useMemo(function(){var t=n;return y?O===null&&h?t=n:t=n.slice(0,Math.min(n.length,C/_)):typeof c=="number"&&(t=n.slice(0,c)),t},[n,_,O,c,y]),J=a.useMemo(function(){return y?n.slice(x+1):n.slice(g.length)},[n,g,y,x]),T=a.useCallback(function(t,r){var i;return typeof o=="function"?o(t):(i=o&&(t==null?void 0:t[o]))!==null&&i!==void 0?i:r},[o]),Xe=a.useCallback(u||function(t){return t},[u]);function L(t,r,i){F===t&&(r===void 0||r===H)||(Ve(t),i||(Le(t<n.length-1),w==null||w(t)),r!==void 0&&de(r))}function je(t,r){be(r.clientWidth)}function Se(t,r){$e(function(i){var d=new Map(i);return r===null?d.delete(t):d.set(t,r),d})}function Be(t,r){Ue(r),De(k)}function He(t,r){Ae(r)}function Q(t){return se.get(T(g[t],t))}Je(function(){if(C&&typeof me=="number"&&g){var t=V,r=g.length,i=r-1;if(!r){L(0,null);return}for(var d=0;d<r;d+=1){var W=Q(d);if(h&&(W=W||0),W===void 0){L(d-1,void 0,!0);break}if(t+=W,i===0&&t<=C||d===i-1&&t+Q(i)<=C){L(i,null);break}else if(t+me>C){L(d-1,t-W-V+k);break}}$&&Q(0)+V>C&&de(null)}},[C,se,k,V,T,g]);var Re=Te&&!!J.length,he={};H!==null&&y&&(he={position:"absolute",left:H,top:0});var P={prefixCls:Y,responsive:y,component:j,invalidate:ye},Ye=R?function(t,r){var i=T(t,r);return a.createElement(Ie.Provider,{key:i,value:p(p({},P),{},{order:r,item:t,itemKey:i,registerSize:Se,display:r<=x})},R(t,r))}:function(t,r){var i=T(t,r);return a.createElement(Ce,I({},P,{order:r,key:i,item:t,renderItem:Xe,itemKey:i,registerSize:Se,display:r<=x}))},Z,Ee={order:Re?x:Number.MAX_SAFE_INTEGER,className:"".concat(Y,"-rest"),registerSize:Be,display:Re};if(z)z&&(Z=a.createElement(Ie.Provider,{value:p(p({},P),Ee)},z(J)));else{var ee=M||pt;Z=a.createElement(Ce,I({},P,Ee),typeof ee=="function"?ee(J):ee)}var te=a.createElement(U,I({className:ne(!ye&&s,X),style:G,ref:l},K),g.map(Ye),Ge?Z:null,$&&a.createElement(Ce,I({},P,{responsive:q,responsiveDisabled:!y,order:x,className:"".concat(Y,"-suffix"),registerSize:He,display:!0,style:he}),$));return q&&(te=a.createElement(we,{onResize:je,disabled:!y},te)),te}var pe=a.forwardRef(bt);pe.displayName="Overflow";pe.Item=tt;pe.RESPONSIVE=rt;pe.INVALIDATE=at;export{pe as F,xe as a};
