import{f as d,d as te,g as J,b as Q}from"./@babel_runtime.3e487d10.js";import{r as a}from"./react.bfbbfd99.js";import{P as de}from"./@rc-component_portal.ad6f78d5.js";import{c as F}from"./classnames.aa374d53.js";import{C as U}from"./rc-motion.f98b02b6.js";import{A as ue,K as Y}from"./rc-util.9c7b455f.js";var fe=function(t){var u=t.prefixCls,s=t.className,c=t.style,o=t.children,i=t.containerRef;return a.createElement(a.Fragment,null,a.createElement("div",{className:F("".concat(u,"-content"),s),style:d({},c),"aria-modal":"true",role:"dialog",ref:i},o))},Z=a.createContext(null);function ee(e){return typeof e=="string"&&String(Number(e))===e?(ue(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var ae={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function me(e){var t,u,s,c,o=e.prefixCls,i=e.open,f=e.placement,S=e.inline,b=e.push,x=e.forceRender,E=e.autoFocus,p=e.keyboard,I=e.rootClassName,D=e.rootStyle,g=e.zIndex,P=e.className,K=e.style,h=e.motion,R=e.width,w=e.height,M=e.children,$=e.contentWrapperStyle,O=e.mask,N=e.maskClosable,z=e.maskMotion,T=e.maskClassName,V=e.maskStyle,_=e.afterOpenChange,C=e.onClose,j=a.useRef(),W=a.useRef(),B=a.useRef(),ne=function(l){var y=l.keyCode,k=l.shiftKey;switch(y){case Y.TAB:{if(y===Y.TAB){if(!k&&document.activeElement===B.current){var L;(L=W.current)===null||L===void 0||L.focus({preventScroll:!0})}else if(k&&document.activeElement===W.current){var X;(X=B.current)===null||X===void 0||X.focus({preventScroll:!0})}}break}case Y.ESC:{C&&p&&C(l);break}}};a.useEffect(function(){if(i&&E){var n;(n=j.current)===null||n===void 0||n.focus({preventScroll:!0})}},[i,E]);var re=a.useState(!1),H=te(re,2),le=H[0],q=H[1],r=a.useContext(Z),A;b===!1?A={distance:0}:b===!0?A={}:A=b||{};var m=(t=(u=(s=A)===null||s===void 0?void 0:s.distance)!==null&&u!==void 0?u:r==null?void 0:r.pushDistance)!==null&&t!==void 0?t:180,oe=a.useMemo(function(){return{pushDistance:m,push:function(){q(!0)},pull:function(){q(!1)}}},[m]);a.useEffect(function(){if(i){var n;r==null||(n=r.push)===null||n===void 0||n.call(r)}else{var l;r==null||(l=r.pull)===null||l===void 0||l.call(r)}},[i]),a.useEffect(function(){return function(){var n;r==null||(n=r.pull)===null||n===void 0||n.call(r)}},[]);var ie=O&&a.createElement(U,J({key:"mask"},z,{visible:i}),function(n,l){var y=n.className,k=n.style;return a.createElement("div",{className:F("".concat(o,"-mask"),y,T),style:d(d({},k),V),onClick:N?C:void 0,ref:l})}),se=typeof h=="function"?h(f):h,v={};if(le&&m)switch(f){case"top":v.transform="translateY(".concat(m,"px)");break;case"bottom":v.transform="translateY(".concat(-m,"px)");break;case"left":v.transform="translateX(".concat(m,"px)");break;default:v.transform="translateX(".concat(-m,"px)");break}f==="left"||f==="right"?v.width=ee(R):v.height=ee(w);var ce=a.createElement(U,J({key:"panel"},se,{visible:i,forceRender:x,onVisibleChanged:function(l){_==null||_(l)},removeOnLeave:!1,leavedClassName:"".concat(o,"-content-wrapper-hidden")}),function(n,l){var y=n.className,k=n.style;return a.createElement("div",{className:F("".concat(o,"-content-wrapper"),y),style:d(d(d({},v),k),$)},a.createElement(fe,{containerRef:l,prefixCls:o,className:P,style:K},M))}),G=d({},D);return g&&(G.zIndex=g),a.createElement(Z.Provider,{value:oe},a.createElement("div",{className:F(o,"".concat(o,"-").concat(f),I,(c={},Q(c,"".concat(o,"-open"),i),Q(c,"".concat(o,"-inline"),S),c)),style:G,tabIndex:-1,ref:j,onKeyDown:ne},ie,a.createElement("div",{tabIndex:0,ref:W,style:ae,"aria-hidden":"true","data-sentinel":"start"}),ce,a.createElement("div",{tabIndex:0,ref:B,style:ae,"aria-hidden":"true","data-sentinel":"end"})))}var ge=function(t){var u=t.open,s=u===void 0?!1:u,c=t.prefixCls,o=c===void 0?"rc-drawer":c,i=t.placement,f=i===void 0?"right":i,S=t.autoFocus,b=S===void 0?!0:S,x=t.keyboard,E=x===void 0?!0:x,p=t.width,I=p===void 0?378:p,D=t.mask,g=D===void 0?!0:D,P=t.maskClosable,K=P===void 0?!0:P,h=t.getContainer,R=t.forceRender,w=t.afterOpenChange,M=t.destroyOnClose,$=a.useState(!1),O=te($,2),N=O[0],z=O[1],T=function(C){z(C),w==null||w(C)};if(!R&&!N&&!s&&M)return null;var V=d(d({},t),{},{open:s,prefixCls:o,placement:f,autoFocus:b,keyboard:E,width:I,mask:g,maskClosable:K,inline:h===!1,afterOpenChange:T});return a.createElement(de,{open:s||R||N,autoDestroy:!1,getContainer:h,autoLock:g&&(s||N)},a.createElement(me,V))};export{ge as D};
