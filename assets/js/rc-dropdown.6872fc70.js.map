{"version":3,"file":"rc-dropdown.6872fc70.js","sources":["../../../node_modules/.pnpm/rc-dropdown@4.0.1_biqbaboplfbrettd7655fr4n2y/node_modules/rc-dropdown/es/placements.js","../../../node_modules/.pnpm/rc-dropdown@4.0.1_biqbaboplfbrettd7655fr4n2y/node_modules/rc-dropdown/es/hooks/useAccessibility.js","../../../node_modules/.pnpm/rc-dropdown@4.0.1_biqbaboplfbrettd7655fr4n2y/node_modules/rc-dropdown/es/Dropdown.js"],"sourcesContent":["var autoAdjustOverflow = {\n  adjustX: 1,\n  adjustY: 1\n};\nvar targetOffset = [0, 0];\nvar placements = {\n  topLeft: {\n    points: ['bl', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -4],\n    targetOffset: targetOffset\n  },\n  topCenter: {\n    points: ['bc', 'tc'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -4],\n    targetOffset: targetOffset\n  },\n  topRight: {\n    points: ['br', 'tr'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -4],\n    targetOffset: targetOffset\n  },\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 4],\n    targetOffset: targetOffset\n  },\n  bottomCenter: {\n    points: ['tc', 'bc'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 4],\n    targetOffset: targetOffset\n  },\n  bottomRight: {\n    points: ['tr', 'br'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 4],\n    targetOffset: targetOffset\n  }\n};\nexport default placements;","import * as React from 'react';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport raf from \"rc-util/es/raf\";\nimport { getFocusNodeList } from \"rc-util/es/Dom/focus\";\nvar ESC = KeyCode.ESC,\n    TAB = KeyCode.TAB;\nexport default function useAccessibility(_ref) {\n  var visible = _ref.visible,\n      setTriggerVisible = _ref.setTriggerVisible,\n      triggerRef = _ref.triggerRef,\n      onVisibleChange = _ref.onVisibleChange,\n      autoFocus = _ref.autoFocus;\n  var focusMenuRef = React.useRef(false);\n\n  var handleCloseMenuAndReturnFocus = function handleCloseMenuAndReturnFocus() {\n    if (visible && triggerRef.current) {\n      var _triggerRef$current, _triggerRef$current$t, _triggerRef$current$t2, _triggerRef$current$t3;\n\n      (_triggerRef$current = triggerRef.current) === null || _triggerRef$current === void 0 ? void 0 : (_triggerRef$current$t = _triggerRef$current.triggerRef) === null || _triggerRef$current$t === void 0 ? void 0 : (_triggerRef$current$t2 = _triggerRef$current$t.current) === null || _triggerRef$current$t2 === void 0 ? void 0 : (_triggerRef$current$t3 = _triggerRef$current$t2.focus) === null || _triggerRef$current$t3 === void 0 ? void 0 : _triggerRef$current$t3.call(_triggerRef$current$t2);\n      setTriggerVisible(false);\n\n      if (typeof onVisibleChange === 'function') {\n        onVisibleChange(false);\n      }\n    }\n  };\n\n  var focusMenu = function focusMenu() {\n    var _triggerRef$current2, _triggerRef$current2$, _triggerRef$current2$2, _triggerRef$current2$3;\n\n    var elements = getFocusNodeList((_triggerRef$current2 = triggerRef.current) === null || _triggerRef$current2 === void 0 ? void 0 : (_triggerRef$current2$ = _triggerRef$current2.popupRef) === null || _triggerRef$current2$ === void 0 ? void 0 : (_triggerRef$current2$2 = _triggerRef$current2$.current) === null || _triggerRef$current2$2 === void 0 ? void 0 : (_triggerRef$current2$3 = _triggerRef$current2$2.getElement) === null || _triggerRef$current2$3 === void 0 ? void 0 : _triggerRef$current2$3.call(_triggerRef$current2$2));\n    var firstElement = elements[0];\n\n    if (firstElement === null || firstElement === void 0 ? void 0 : firstElement.focus) {\n      firstElement.focus();\n      focusMenuRef.current = true;\n      return true;\n    }\n\n    return false;\n  };\n\n  var handleKeyDown = function handleKeyDown(event) {\n    switch (event.keyCode) {\n      case ESC:\n        handleCloseMenuAndReturnFocus();\n        break;\n\n      case TAB:\n        {\n          var focusResult = false;\n\n          if (!focusMenuRef.current) {\n            focusResult = focusMenu();\n          }\n\n          if (focusResult) {\n            event.preventDefault();\n          } else {\n            handleCloseMenuAndReturnFocus();\n          }\n\n          break;\n        }\n    }\n  };\n\n  React.useEffect(function () {\n    if (visible) {\n      window.addEventListener('keydown', handleKeyDown);\n\n      if (autoFocus) {\n        // FIXME: hack with raf\n        raf(focusMenu, 3);\n      }\n\n      return function () {\n        window.removeEventListener('keydown', handleKeyDown);\n        focusMenuRef.current = false;\n      };\n    }\n\n    return function () {\n      focusMenuRef.current = false;\n    };\n  }, [visible]); // eslint-disable-line react-hooks/exhaustive-deps\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"arrow\", \"prefixCls\", \"transitionName\", \"animation\", \"align\", \"placement\", \"placements\", \"getPopupContainer\", \"showAction\", \"hideAction\", \"overlayClassName\", \"overlayStyle\", \"visible\", \"trigger\", \"autoFocus\"];\nimport * as React from 'react';\nimport Trigger from 'rc-trigger';\nimport classNames from 'classnames';\nimport Placements from './placements';\nimport useAccessibility from './hooks/useAccessibility';\n\nfunction Dropdown(props, ref) {\n  var _props$arrow = props.arrow,\n      arrow = _props$arrow === void 0 ? false : _props$arrow,\n      _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? 'rc-dropdown' : _props$prefixCls,\n      transitionName = props.transitionName,\n      animation = props.animation,\n      align = props.align,\n      _props$placement = props.placement,\n      placement = _props$placement === void 0 ? 'bottomLeft' : _props$placement,\n      _props$placements = props.placements,\n      placements = _props$placements === void 0 ? Placements : _props$placements,\n      getPopupContainer = props.getPopupContainer,\n      showAction = props.showAction,\n      hideAction = props.hideAction,\n      overlayClassName = props.overlayClassName,\n      overlayStyle = props.overlayStyle,\n      visible = props.visible,\n      _props$trigger = props.trigger,\n      trigger = _props$trigger === void 0 ? ['hover'] : _props$trigger,\n      autoFocus = props.autoFocus,\n      otherProps = _objectWithoutProperties(props, _excluded);\n\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      triggerVisible = _React$useState2[0],\n      setTriggerVisible = _React$useState2[1];\n\n  var mergedVisible = 'visible' in props ? visible : triggerVisible;\n  var triggerRef = React.useRef(null);\n  React.useImperativeHandle(ref, function () {\n    return triggerRef.current;\n  });\n  useAccessibility({\n    visible: mergedVisible,\n    setTriggerVisible: setTriggerVisible,\n    triggerRef: triggerRef,\n    onVisibleChange: props.onVisibleChange,\n    autoFocus: autoFocus\n  });\n\n  var getOverlayElement = function getOverlayElement() {\n    var overlay = props.overlay;\n    var overlayElement;\n\n    if (typeof overlay === 'function') {\n      overlayElement = overlay();\n    } else {\n      overlayElement = overlay;\n    }\n\n    return overlayElement;\n  };\n\n  var onClick = function onClick(e) {\n    var onOverlayClick = props.onOverlayClick;\n    setTriggerVisible(false);\n\n    if (onOverlayClick) {\n      onOverlayClick(e);\n    }\n  };\n\n  var onVisibleChange = function onVisibleChange(newVisible) {\n    var onVisibleChangeProp = props.onVisibleChange;\n    setTriggerVisible(newVisible);\n\n    if (typeof onVisibleChangeProp === 'function') {\n      onVisibleChangeProp(newVisible);\n    }\n  };\n\n  var getMenuElement = function getMenuElement() {\n    var overlayElement = getOverlayElement();\n    return /*#__PURE__*/React.createElement(React.Fragment, null, arrow && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-arrow\")\n    }), overlayElement);\n  };\n\n  var getMenuElementOrLambda = function getMenuElementOrLambda() {\n    var overlay = props.overlay;\n\n    if (typeof overlay === 'function') {\n      return getMenuElement;\n    }\n\n    return getMenuElement();\n  };\n\n  var getMinOverlayWidthMatchTrigger = function getMinOverlayWidthMatchTrigger() {\n    var minOverlayWidthMatchTrigger = props.minOverlayWidthMatchTrigger,\n        alignPoint = props.alignPoint;\n\n    if ('minOverlayWidthMatchTrigger' in props) {\n      return minOverlayWidthMatchTrigger;\n    }\n\n    return !alignPoint;\n  };\n\n  var getOpenClassName = function getOpenClassName() {\n    var openClassName = props.openClassName;\n\n    if (openClassName !== undefined) {\n      return openClassName;\n    }\n\n    return \"\".concat(prefixCls, \"-open\");\n  };\n\n  var renderChildren = function renderChildren() {\n    var children = props.children;\n    var childrenProps = children.props ? children.props : {};\n    var childClassName = classNames(childrenProps.className, getOpenClassName());\n    return mergedVisible && children ? /*#__PURE__*/React.cloneElement(children, {\n      className: childClassName\n    }) : children;\n  };\n\n  var triggerHideAction = hideAction;\n\n  if (!triggerHideAction && trigger.indexOf('contextMenu') !== -1) {\n    triggerHideAction = ['click'];\n  }\n\n  return /*#__PURE__*/React.createElement(Trigger, _objectSpread(_objectSpread({\n    builtinPlacements: placements\n  }, otherProps), {}, {\n    prefixCls: prefixCls,\n    ref: triggerRef,\n    popupClassName: classNames(overlayClassName, _defineProperty({}, \"\".concat(prefixCls, \"-show-arrow\"), arrow)),\n    popupStyle: overlayStyle,\n    action: trigger,\n    showAction: showAction,\n    hideAction: triggerHideAction || [],\n    popupPlacement: placement,\n    popupAlign: align,\n    popupTransitionName: transitionName,\n    popupAnimation: animation,\n    popupVisible: mergedVisible,\n    stretch: getMinOverlayWidthMatchTrigger() ? 'minWidth' : '',\n    popup: getMenuElementOrLambda(),\n    onPopupVisibleChange: onVisibleChange,\n    onPopupClick: onClick,\n    getPopupContainer: getPopupContainer\n  }), renderChildren());\n}\n\nexport default /*#__PURE__*/React.forwardRef(Dropdown);"],"names":["autoAdjustOverflow","targetOffset","placements","ESC","KeyCode","TAB","useAccessibility","_ref","visible","setTriggerVisible","triggerRef","onVisibleChange","autoFocus","focusMenuRef","React.useRef","handleCloseMenuAndReturnFocus","_triggerRef$current","_triggerRef$current$t","_triggerRef$current$t2","_triggerRef$current$t3","focusMenu","_triggerRef$current2","_triggerRef$current2$","_triggerRef$current2$2","_triggerRef$current2$3","elements","getFocusNodeList","firstElement","handleKeyDown","event","focusResult","React.useEffect","raf","_excluded","Dropdown","props","ref","_props$arrow","arrow","_props$prefixCls","prefixCls","transitionName","animation","align","_props$placement","placement","_props$placements","Placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","_props$trigger","trigger","otherProps","_objectWithoutProperties","_React$useState","React.useState","_React$useState2","_slicedToArray","triggerVisible","mergedVisible","React.useImperativeHandle","getOverlayElement","overlay","overlayElement","onClick","e","onOverlayClick","newVisible","onVisibleChangeProp","getMenuElement","React.createElement","React.Fragment","getMenuElementOrLambda","getMinOverlayWidthMatchTrigger","minOverlayWidthMatchTrigger","alignPoint","getOpenClassName","openClassName","renderChildren","children","childrenProps","childClassName","classNames","React.cloneElement","triggerHideAction","Trigger","_objectSpread","_defineProperty","Dropdown$1","React.forwardRef"],"mappings":"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"}