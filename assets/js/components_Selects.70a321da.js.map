{"version":3,"file":"components_Selects.70a321da.js","sources":["../../../src/components/Selects/components/Loading.tsx","../../../src/components/Selects/ApiTreeSelect.tsx","../../../src/components/Selects/ApiSelect.tsx"],"sourcesContent":["import { Spin } from \"antd\"\n\nfunction Loading() {\n  return (\n    <div className=\"absolute left-50% top-50% -translate-x-1/2 -translate-y-1/2 text-center\">\n      <Spin spinning={true} />\n    </div>\n  )\n}\n\nexport default Loading","import type { IApi } from '#/form'\nimport type { TreeSelectProps } from 'antd'\nimport { TreeSelect } from 'antd'\nimport { useState } from 'react'\nimport { MAX_TAG_COUNT, PLEASE_SELECT } from '@/utils/config'\nimport Loading from './components/Loading'\n\ninterface IProps extends TreeSelectProps {\n  api: IApi;\n  params?: object;\n}\n\n/**\n * @description: 根据API获取数据下拉树形组件\n */\nfunction ApiTreeSelect(props: IProps) {\n  const [isLoading, setLoading] = useState(false)\n  const [options, setOptions] = useState<TreeSelectProps['treeData']>([])\n\n  // 清除自定义属性\n  const params: Partial<IProps> = { ...props }\n  delete params.api\n  delete params.params\n\n  /** 获取接口数据 */\n  const getApiData = async () => {\n    try {\n      setLoading(true)\n      const data = await props.api?.(props?.params)\n      setOptions(data || [])\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  /**\n   * 展开下拉回调\n   * @param open - 是否展开\n   */\n  const onDropdownVisibleChange = (open: boolean) => {\n    if (open) getApiData()\n\n    props.onDropdownVisibleChange?.(open)\n  }\n\n  return (\n    <TreeSelect\n      allowClear={true}\n      maxTagCount={MAX_TAG_COUNT}\n      placeholder={PLEASE_SELECT}\n      {...params}\n      loading={isLoading}\n      treeData={options}\n      notFoundContent={isLoading && <Loading />}\n      onDropdownVisibleChange={onDropdownVisibleChange}\n    />\n  )\n}\n\nexport default ApiTreeSelect","import type { IApi } from '#/form'\nimport type { SelectProps } from 'antd'\nimport type { DefaultOptionType } from 'antd/es/select'\nimport { Select } from 'antd'\nimport { useState } from 'react'\nimport { MAX_TAG_COUNT, PLEASE_SELECT } from '@/utils/config'\nimport Loading from './components/Loading'\n\ninterface IProps extends SelectProps {\n  api: IApi;\n  params?: object;\n}\n\n/**\n * @description: 根据API获取数据下拉组件\n */\nfunction ApiSelect(props: IProps) {\n  const [isLoading, setLoading] = useState(false)\n  const [options, setOptions] = useState<DefaultOptionType[]>([])\n\n  // 清除自定义属性\n  const params: Partial<IProps> = { ...props }\n  delete params.api\n  delete params.params\n\n  /** 获取接口数据 */\n  const getApiData = async () => {\n    try {\n      setLoading(true)\n      const data = await props.api?.(props?.params)\n      setOptions(data || [])\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  /**\n   * 展开下拉回调\n   * @param open - 是否展开\n   */\n  const onDropdownVisibleChange = (open: boolean) => {\n    if (open) getApiData()\n\n    props.onDropdownVisibleChange?.(open)\n  }\n\n  return (\n    <Select\n      allowClear={true}\n      maxTagCount={MAX_TAG_COUNT}\n      placeholder={PLEASE_SELECT}\n      optionFilterProp='label'\n      {...params}\n      loading={isLoading}\n      options={options}\n      notFoundContent={isLoading && <Loading />}\n      onDropdownVisibleChange={onDropdownVisibleChange}\n    />\n  )\n}\n\nexport default ApiSelect"],"names":["Loading","jsx","Spin","ApiTreeSelect","props","isLoading","setLoading","useState","options","setOptions","params","getApiData","data","_a","TreeSelect","MAX_TAG_COUNT","PLEASE_SELECT","open","ApiSelect","Select"],"mappings":"8MAEA,SAASA,GAAU,CAEf,OAAAC,EAAC,OAAI,UAAU,0EACb,WAACC,EAAK,CAAA,SAAU,EAAM,CAAA,CACxB,CAAA,CAEJ,CCOA,SAASC,EAAcC,EAAe,CACpC,KAAM,CAACC,EAAWC,CAAU,EAAIC,WAAS,EAAK,EACxC,CAACC,EAASC,CAAU,EAAIF,EAAA,SAAsC,CAAE,CAAA,EAGhEG,EAA0B,CAAE,GAAGN,GACrC,OAAOM,EAAO,IACd,OAAOA,EAAO,OAGd,MAAMC,EAAa,SAAY,OACzB,GAAA,CACFL,EAAW,EAAI,EACf,MAAMM,EAAO,OAAMC,EAAAT,EAAM,MAAN,YAAAS,EAAA,KAAAT,EAAYA,GAAA,YAAAA,EAAO,SAC3BK,EAAAG,GAAQ,CAAA,CAAE,CAAA,QACrB,CACAN,EAAW,EAAK,CAClB,CAAA,EAcA,OAAAL,EAACa,EAAA,CACC,WAAY,GACZ,YAAaC,EACb,YAAaC,EACZ,GAAGN,EACJ,QAASL,EACT,SAAUG,EACV,gBAAiBH,GAAaJ,EAACD,EAAQ,CAAA,CAAA,EACvC,wBAf6BiB,GAAkB,OAC7CA,GAAiBN,KAErBE,EAAAT,EAAM,0BAAN,MAAAS,EAAA,KAAAT,EAAgCa,EAAI,CAYlC,CAAA,CAGN,CCzCA,SAASC,EAAUd,EAAe,CAChC,KAAM,CAACC,EAAWC,CAAU,EAAIC,WAAS,EAAK,EACxC,CAACC,EAASC,CAAU,EAAIF,EAAA,SAA8B,CAAE,CAAA,EAGxDG,EAA0B,CAAE,GAAGN,GACrC,OAAOM,EAAO,IACd,OAAOA,EAAO,OAGd,MAAMC,EAAa,SAAY,OACzB,GAAA,CACFL,EAAW,EAAI,EACf,MAAMM,EAAO,OAAMC,EAAAT,EAAM,MAAN,YAAAS,EAAA,KAAAT,EAAYA,GAAA,YAAAA,EAAO,SAC3BK,EAAAG,GAAQ,CAAA,CAAE,CAAA,QACrB,CACAN,EAAW,EAAK,CAClB,CAAA,EAcA,OAAAL,EAACkB,EAAA,CACC,WAAY,GACZ,YAAaJ,EACb,YAAaC,EACb,iBAAiB,QAChB,GAAGN,EACJ,QAASL,EACT,QAAAG,EACA,gBAAiBH,GAAaJ,EAACD,EAAQ,CAAA,CAAA,EACvC,wBAhB6BiB,GAAkB,OAC7CA,GAAiBN,KAErBE,EAAAT,EAAM,0BAAN,MAAAS,EAAA,KAAAT,EAAgCa,EAAI,CAalC,CAAA,CAGN"}