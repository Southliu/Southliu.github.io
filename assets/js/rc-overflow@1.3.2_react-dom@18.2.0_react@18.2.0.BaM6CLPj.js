import{_ as e,a as t,b as r,c as n}from"./@babel_runtime@7.24.7.DKf39_Qr.js";import{r as a,e as i}from"./react@18.2.0.CwGjMYfB.js";import{c as o}from"./classnames@2.5.1.CxW7iW8f.js";import{R as s}from"./rc-resize-observer@1.4.0_react-dom@18.2.0_react@18.2.0.Cnr_3ciu.js";import{q as l,d as u,u as c}from"./rc-util@5.43.0_react-dom@18.2.0_react@18.2.0.lgqfUkNr.js";import{r as m}from"./react-dom@18.2.0_react@18.2.0.BN8LbORn.js";var f=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],d=void 0;function v(n,i){var l=n.prefixCls,u=n.invalidate,c=n.item,m=n.renderItem,v=n.responsive,p=n.responsiveDisabled,y=n.registerSize,h=n.itemKey,b=n.className,E=n.style,g=n.children,N=n.display,R=n.order,C=n.component,I=void 0===C?"div":C,w=e(n,f),x=v&&!N;function S(e){y(h,e)}a.useEffect((function(){return function(){S(null)}}),[]);var M,_=m&&c!==d?m(c):g;u||(M={opacity:x?0:1,height:x?0:d,overflowY:x?"hidden":d,order:v?R:d,pointerEvents:x?"none":d,position:x?"absolute":d});var z={};x&&(z["aria-hidden"]=!0);var j=a.createElement(I,t({className:o(!u&&l,b),style:r(r({},M),E)},z,w,{ref:i}),_);return v&&(j=a.createElement(s,{onResize:function(e){S(e.offsetWidth)},disabled:p},j)),j}var p=a.forwardRef(v);function y(){var e=a.useRef(null);return function(t){e.current||(e.current=[],function(e){if("undefined"==typeof MessageChannel)l(e);else{var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(void 0)}}((function(){m.unstable_batchedUpdates((function(){e.current.forEach((function(e){e()})),e.current=null}))}))),e.current.push(t)}}function h(e,t){var r=a.useState(t),i=n(r,2),o=i[0],s=i[1];return[o,u((function(t){e((function(){s(t)}))}))]}p.displayName="Item";var b=i.createContext(null),E=["component"],g=["className"],N=["className"],R=function(r,n){var i=a.useContext(b);if(!i){var s=r.component,l=void 0===s?"div":s,u=e(r,E);return a.createElement(l,t({},u,{ref:n}))}var c=i.className,m=e(i,g),f=r.className,d=e(r,N);return a.createElement(b.Provider,{value:null},a.createElement(p,t({ref:n,className:o(c,f)},m,d)))},C=a.forwardRef(R);C.displayName="RawItem";var I=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],w="responsive",x="invalidate";function S(e){return"+ ".concat(e.length," ...")}function M(i,l){var u=i.prefixCls,m=void 0===u?"rc-overflow":u,f=i.data,d=void 0===f?[]:f,v=i.renderItem,E=i.renderRawItem,g=i.itemKey,N=i.itemWidth,R=void 0===N?10:N,C=i.ssr,M=i.style,_=i.className,z=i.maxCount,j=i.renderRest,k=i.renderRawRest,A=i.suffix,K=i.component,D=void 0===K?"div":K,P=i.itemComponent,V=i.onVisibleChange,W=e(i,I),F="full"===C,T=y(),G=h(T,null),O=n(G,2),X=O[0],q=O[1],B=X||0,L=h(T,new Map),U=n(L,2),Y=U[0],H=U[1],J=h(T,0),Q=n(J,2),Z=Q[0],$=Q[1],ee=h(T,0),te=n(ee,2),re=te[0],ne=te[1],ae=h(T,0),ie=n(ae,2),oe=ie[0],se=ie[1],le=a.useState(null),ue=n(le,2),ce=ue[0],me=ue[1],fe=a.useState(null),de=n(fe,2),ve=de[0],pe=de[1],ye=a.useMemo((function(){return null===ve&&F?Number.MAX_SAFE_INTEGER:ve||0}),[ve,X]),he=a.useState(!1),be=n(he,2),Ee=be[0],ge=be[1],Ne="".concat(m,"-item"),Re=Math.max(Z,re),Ce=z===w,Ie=d.length&&Ce,we=z===x,xe=Ie||"number"==typeof z&&d.length>z,Se=a.useMemo((function(){var e=d;return Ie?e=null===X&&F?d:d.slice(0,Math.min(d.length,B/R)):"number"==typeof z&&(e=d.slice(0,z)),e}),[d,R,X,z,Ie]),Me=a.useMemo((function(){return Ie?d.slice(ye+1):d.slice(Se.length)}),[d,Se,Ie,ye]),_e=a.useCallback((function(e,t){var r;return"function"==typeof g?g(e):null!==(r=g&&(null==e?void 0:e[g]))&&void 0!==r?r:t}),[g]),ze=a.useCallback(v||function(e){return e},[v]);function je(e,t,r){(ve!==e||void 0!==t&&t!==ce)&&(pe(e),r||(ge(e<d.length-1),null==V||V(e)),void 0!==t&&me(t))}function ke(e,t){H((function(r){var n=new Map(r);return null===t?n.delete(e):n.set(e,t),n}))}function Ae(e){return Y.get(_e(Se[e],e))}c((function(){if(B&&"number"==typeof Re&&Se){var e=oe,t=Se.length,r=t-1;if(!t)return void je(0,null);for(var n=0;n<t;n+=1){var a=Ae(n);if(F&&(a=a||0),void 0===a){je(n-1,void 0,!0);break}if(e+=a,0===r&&e<=B||n===r-1&&e+Ae(r)<=B){je(r,null);break}if(e+Re>B){je(n-1,e-a-oe+re);break}}A&&Ae(0)+oe>B&&me(null)}}),[B,Y,re,oe,_e,Se]);var Ke=Ee&&!!Me.length,De={};null!==ce&&Ie&&(De={position:"absolute",left:ce,top:0});var Pe,Ve={prefixCls:Ne,responsive:Ie,component:P,invalidate:we},We=E?function(e,t){var n=_e(e,t);return a.createElement(b.Provider,{key:n,value:r(r({},Ve),{},{order:t,item:e,itemKey:n,registerSize:ke,display:t<=ye})},E(e,t))}:function(e,r){var n=_e(e,r);return a.createElement(p,t({},Ve,{order:r,key:n,item:e,renderItem:ze,itemKey:n,registerSize:ke,display:r<=ye}))},Fe={order:Ke?ye:Number.MAX_SAFE_INTEGER,className:"".concat(Ne,"-rest"),registerSize:function(e,t){ne(t),$(re)},display:Ke};if(k)k&&(Pe=a.createElement(b.Provider,{value:r(r({},Ve),Fe)},k(Me)));else{var Te=j||S;Pe=a.createElement(p,t({},Ve,Fe),"function"==typeof Te?Te(Me):Te)}var Ge=a.createElement(D,t({className:o(!we&&m,_),style:M,ref:l},W),Se.map(We),xe?Pe:null,A&&a.createElement(p,t({},Ve,{responsive:Ce,responsiveDisabled:!Ie,order:ye,className:"".concat(Ne,"-suffix"),registerSize:function(e,t){se(t)},display:!0,style:De}),A));return Ce&&(Ge=a.createElement(s,{onResize:function(e,t){q(t.clientWidth)},disabled:!Ie},Ge)),Ge}var _=a.forwardRef(M);_.displayName="Overflow",_.Item=C,_.RESPONSIVE=w,_.INVALIDATE=x;export{_ as F};
