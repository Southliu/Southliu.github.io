/**
 * @remix-run/router v1.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P.apply(this,arguments)}var h;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(h||(h={}));const v="popstate";function I(e){e===void 0&&(e={});function t(i,o){let{pathname:f="/",search:s="",hash:a=""}=S(i.location.hash.substr(1));return m("",{pathname:f,search:s,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(i,o){let f=i.document.querySelector("base"),s="";if(f&&f.getAttribute("href")){let a=i.location.href,d=a.indexOf("#");s=d===-1?a:a.slice(0,d)}return s+"#"+(typeof o=="string"?o:A(o))}function n(i,o){x(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return j(t,r,n,e)}function x(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function E(){return Math.random().toString(36).substr(2,8)}function b(e){return{usr:e.state,key:e.key}}function m(e,t,r,n){return r===void 0&&(r=null),P({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?S(t):t,{state:r,key:t&&t.key||n||E()})}function A(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function S(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function j(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,f=i.history,s=h.Pop,a=null;function d(){s=h.Pop,a&&a({action:s,location:l.location})}function O(c,y){s=h.Push;let u=m(l.location,c,y);r&&r(u,c);let g=b(u),p=l.createHref(u);try{f.pushState(g,"",p)}catch{i.location.assign(p)}o&&a&&a({action:s,location:u})}function w(c,y){s=h.Replace;let u=m(l.location,c,y);r&&r(u,c);let g=b(u),p=l.createHref(u);f.replaceState(g,"",p),o&&a&&a({action:s,location:u})}let l={get action(){return s},get location(){return e(i,f)},listen(c){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(v,d),a=c,()=>{i.removeEventListener(v,d),a=null}},createHref(c){return t(i,c)},push:O,replace:w,go(c){return f.go(c)}};return l}var H;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(H||(H={}));export{I as c};
