import{r as t}from"./react.a7da97a2.js";import{c as e}from"./classnames.71976509.js";import{e as r,d as o,c as s,f as a,h as c}from"./@babel_runtime.d775819b.js";import{c as n}from"./rc-util.b2252098.js";var i={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},l=0,u=n();const f=function(e){var o=t.useState(),s=r(o,2),a=s[0],c=s[1];return t.useEffect((function(){var t;c("rc_progress_".concat((u?(t=l,l+=1):t="TEST_OR_SSR",t)))}),[]),e||a};var p=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function d(t){return+t.replace("%","")}function m(t){var e=null!=t?t:[];return Array.isArray(e)?e:[e]}var k=100,y=function(t,e,r,o,s,a,c,n,i,l){var u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,f=r/100*360*((360-a)/360),p=0===a?0:{bottom:0,top:180,left:90,right:-90}[c],d=(100-o)/100*e;return"round"===i&&100!==o&&(d+=l/2)>=e&&(d=e-.01),{stroke:"string"==typeof n?n:void 0,strokeDasharray:"".concat(e,"px ").concat(t),strokeDashoffset:d+u,transform:"rotate(".concat(s+f+p,"deg)"),transformOrigin:"0 0",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},h=function(r){var n,l,u,h,v,g=o(o({},i),r),D=g.id,b=g.prefixCls,x=g.steps,C=g.strokeWidth,E=g.trailWidth,j=g.gapDegree,W=void 0===j?0:j,N=g.gapPosition,w=g.trailColor,L=g.strokeLinecap,_=g.style,O=g.className,P=g.strokeColor,R=g.percent,S=s(g,p),A=f(D),M="".concat(A,"-gradient"),T=50-C/2,B=2*Math.PI*T,G=W>0?90+W/2:-90,I=B*((360-W)/360),q="object"===a(x)?x:{count:x,space:2},z=q.count,F=q.space,H=y(B,I,0,100,G,W,N,w,L,C),J=m(R),K=m(P),Q=K.find((function(t){return t&&"object"===a(t)})),U=(n=t.useRef([]),l=t.useRef(null),t.useEffect((function(){var t=Date.now(),e=!1;n.current.forEach((function(r){if(r){e=!0;var o=r.style;o.transitionDuration=".3s, .3s, .3s, .06s",l.current&&t-l.current<100&&(o.transitionDuration="0s, 0s")}})),e&&(l.current=Date.now())})),n.current);return t.createElement("svg",c({className:e("".concat(b,"-circle"),O),viewBox:"".concat(-50," ").concat(-50," ").concat(k," ").concat(k),style:_,id:D,role:"presentation"},S),Q&&t.createElement("defs",null,t.createElement("linearGradient",{id:M,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},Object.keys(Q).sort((function(t,e){return d(t)-d(e)})).map((function(e,r){return t.createElement("stop",{key:r,offset:e,stopColor:Q[e]})})))),!z&&t.createElement("circle",{className:"".concat(b,"-circle-trail"),r:T,cx:0,cy:0,stroke:w,strokeLinecap:L,strokeWidth:E||C,style:H}),z?(u=Math.round(z*(J[0]/100)),h=100/z,v=0,new Array(z).fill(null).map((function(e,r){var o=r<=u-1?K[0]:w,s=o&&"object"===a(o)?"url(#".concat(M,")"):void 0,c=y(B,I,v,h,G,W,N,o,"butt",C,F);return v+=100*(I-c.strokeDashoffset+F)/I,t.createElement("circle",{key:r,className:"".concat(b,"-circle-path"),r:T,cx:0,cy:0,stroke:s,strokeWidth:C,opacity:1,style:c,ref:function(t){U[r]=t}})}))):function(){var e=0;return J.map((function(r,o){var s=K[o]||K[K.length-1],c=s&&"object"===a(s)?"url(#".concat(M,")"):void 0,n=y(B,I,e,r,G,W,N,s,L,C);return e+=r,t.createElement("circle",{key:o,className:"".concat(b,"-circle-path"),r:T,cx:0,cy:0,stroke:c,strokeLinecap:L,strokeWidth:C,opacity:0===r?0:1,style:n,ref:function(t){U[o]=t}})})).reverse()}())};export{h as C};
