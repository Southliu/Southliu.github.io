import{b as ze,d as re,a as q,c as W,k as ae,_ as st}from"./@babel_runtime@7.19.0-16d3a89d.js";import{r as o}from"./react@18.2.0-9cdefec6.js";import{c as xe}from"./classnames@2.3.2-d75d9a59.js";import{s as vt}from"./shallowequal@1.1.0-be60d069.js";import{K as te,d as dt}from"./rc-util@5.24.4_react-dom@18.2.0_react@18.2.0-c033d194.js";import{j as B,F as ft,b as mt}from"./@ant-design_icons@4.7.0_react-dom@18.2.0_react@18.2.0-0d73ff6d.js";var ve=o.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0});function Le(e,c,r){return(e-c)/(r-c)}function Pe(e,c,r,f){var u=Le(c,r,f),l={};switch(e){case"rtl":l.right="".concat(u*100,"%"),l.transform="translateX(50%)";break;case"btt":l.bottom="".concat(u*100,"%"),l.transform="translateY(50%)";break;case"ttb":l.top="".concat(u*100,"%"),l.transform="translateY(-50%)";break;default:l.left="".concat(u*100,"%"),l.transform="translateX(-50%)";break}return l}function he(e,c){return Array.isArray(e)?e[c]:e}var gt=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange"],ht=o.forwardRef(function(e,c){var r,f,u=e.prefixCls,l=e.value,s=e.valueIndex,b=e.onStartMove,S=e.style,k=e.render,M=e.dragging,h=e.onOffsetChange,g=ze(e,gt),n=o.useContext(ve),a=n.min,v=n.max,i=n.direction,m=n.disabled,t=n.range,C=n.tabIndex,P=n.ariaLabelForHandle,R=n.ariaLabelledByForHandle,T=n.ariaValueTextFormatterForHandle,x="".concat(u,"-handle"),F=function(Y){m||b(Y,s)},_=function(Y){if(!m){var D=null;switch(Y.which||Y.keyCode){case te.LEFT:D=i==="ltr"||i==="btt"?-1:1;break;case te.RIGHT:D=i==="ltr"||i==="btt"?1:-1;break;case te.UP:D=i!=="ttb"?1:-1;break;case te.DOWN:D=i!=="ttb"?-1:1;break;case te.HOME:D="min";break;case te.END:D="max";break;case te.PAGE_UP:D=2;break;case te.PAGE_DOWN:D=-2;break}D!==null&&(Y.preventDefault(),h(D,s))}},E=Pe(i,l,a,v),X=B("div",{ref:c,className:xe(x,(r={},re(r,"".concat(x,"-").concat(s+1),t),re(r,"".concat(x,"-dragging"),M),r)),style:q(q({},E),S),onMouseDown:F,onTouchStart:F,onKeyDown:_,tabIndex:m?null:he(C,s),role:"slider","aria-valuemin":a,"aria-valuemax":v,"aria-valuenow":l,"aria-disabled":m,"aria-label":he(P,s),"aria-labelledby":he(R,s),"aria-valuetext":(f=he(T,s))===null||f===void 0?void 0:f(l),...g});return k&&(X=k(X,{index:s,prefixCls:u,value:l,dragging:M})),X}),bt=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","draggingIndex"],Ct=o.forwardRef(function(e,c){var r=e.prefixCls,f=e.style,u=e.onStartMove,l=e.onOffsetChange,s=e.values,b=e.handleRender,S=e.draggingIndex,k=ze(e,bt),M=o.useRef({});return o.useImperativeHandle(c,function(){return{focus:function(g){var n;(n=M.current[g])===null||n===void 0||n.focus()}}}),B(ft,{children:s.map(function(h,g){return B(ht,{ref:function(a){a?M.current[g]=a:delete M.current[g]},dragging:S===g,prefixCls:r,style:he(f,g),value:h,valueIndex:g,onStartMove:u,onOffsetChange:l,render:b,...k},g)})})});function qe(e){var c="touches"in e?e.touches[0]:e;return{pageX:c.pageX,pageY:c.pageY}}function yt(e,c,r,f,u,l,s,b,S){var k=o.useState(null),M=W(k,2),h=M[0],g=M[1],n=o.useState(-1),a=W(n,2),v=a[0],i=a[1],m=o.useState(r),t=W(m,2),C=t[0],P=t[1],R=o.useState(r),T=W(R,2),x=T[0],F=T[1],_=o.useRef(null),E=o.useRef(null);o.useEffect(function(){v===-1&&P(r)},[r,v]),o.useEffect(function(){return function(){document.removeEventListener("mousemove",_.current),document.removeEventListener("mouseup",E.current),document.removeEventListener("touchmove",_.current),document.removeEventListener("touchend",E.current)}},[]);var X=function(L,N){C.some(function(j,J){return j!==L[J]})&&(N!==void 0&&g(N),P(L),s(L))},A=function(L,N){if(L===-1){var j=x[0],J=x[x.length-1],be=f-j,Ce=u-J,K=N*(u-f);K=Math.max(K,be),K=Math.min(K,Ce);var z=l(j+K);K=z-j;var ne=x.map(function(de){return de+K});X(ne)}else{var Q=(u-f)*N,V=ae(C);V[L]=x[L];var ue=S(V,Q,L,"dist");X(ue.values,ue.value)}},Y=o.useRef(A);Y.current=A;var D=function(L,N){L.stopPropagation();var j=r[N];i(N),g(j),F(r);var J=qe(L),be=J.pageX,Ce=J.pageY,K=function(Q){Q.preventDefault();var V=qe(Q),ue=V.pageX,de=V.pageY,ye=ue-be,Se=de-Ce,Z=e.current.getBoundingClientRect(),ie=Z.width,oe=Z.height,H;switch(c){case"btt":H=-Se/oe;break;case"ttb":H=Se/oe;break;case"rtl":H=-ye/ie;break;default:H=ye/ie}Y.current(N,H)},z=function ne(Q){Q.preventDefault(),document.removeEventListener("mouseup",ne),document.removeEventListener("mousemove",K),document.removeEventListener("touchend",ne),document.removeEventListener("touchmove",K),_.current=null,E.current=null,i(-1),b()};document.addEventListener("mouseup",z),document.addEventListener("mousemove",K),document.addEventListener("touchend",z),document.addEventListener("touchmove",K),_.current=K,E.current=z},U=o.useMemo(function(){var I=ae(r).sort(function(N,j){return N-j}),L=ae(C).sort(function(N,j){return N-j});return I.every(function(N,j){return N===L[j]})?C:r},[r,C]);return[v,h,U,D]}function St(e){var c=e.prefixCls,r=e.style,f=e.start,u=e.end,l=e.index,s=e.onStartMove,b=o.useContext(ve),S=b.direction,k=b.min,M=b.max,h=b.disabled,g=b.range,n="".concat(c,"-track"),a=Le(f,k,M),v=Le(u,k,M),i=function(C){!h&&s&&s(C,-1)},m={};switch(S){case"rtl":m.right="".concat(a*100,"%"),m.width="".concat(v*100-a*100,"%");break;case"btt":m.bottom="".concat(a*100,"%"),m.height="".concat(v*100-a*100,"%");break;case"ttb":m.top="".concat(a*100,"%"),m.height="".concat(v*100-a*100,"%");break;default:m.left="".concat(a*100,"%"),m.width="".concat(v*100-a*100,"%")}return B("div",{className:xe(n,g&&"".concat(n,"-").concat(l+1)),style:q(q({},m),r),onMouseDown:i,onTouchStart:i})}function Mt(e){var c=e.prefixCls,r=e.style,f=e.values,u=e.startPoint,l=e.onStartMove,s=o.useContext(ve),b=s.included,S=s.range,k=s.min,M=o.useMemo(function(){if(!S){if(f.length===0)return[];var h=u!=null?u:k,g=f[0];return[{start:Math.min(h,g),end:Math.max(h,g)}]}for(var n=[],a=0;a<f.length-1;a+=1)n.push({start:f[a],end:f[a+1]});return n},[f,S,u,k]);return b?M.map(function(h,g){var n=h.start,a=h.end;return B(St,{index:g,prefixCls:c,style:he(r,g),start:n,end:a,onStartMove:l},g)}):null}function kt(e){var c=e.prefixCls,r=e.style,f=e.children,u=e.value,l=e.onClick,s=o.useContext(ve),b=s.min,S=s.max,k=s.direction,M=s.includedStart,h=s.includedEnd,g=s.included,n="".concat(c,"-text"),a=Pe(k,u,b,S);return B("span",{className:xe(n,re({},"".concat(n,"-active"),g&&M<=u&&u<=h)),style:q(q({},a),r),onMouseDown:function(i){i.stopPropagation()},onClick:function(){l(u)},children:f})}function xt(e){var c=e.prefixCls,r=e.marks,f=e.onClick,u="".concat(c,"-mark");return r.length?B("div",{className:u,children:r.map(function(l){var s=l.value,b=l.style,S=l.label;return B(kt,{prefixCls:u,style:b,value:s,onClick:f,children:S},s)})}):null}function Rt(e){var c=e.prefixCls,r=e.value,f=e.style,u=e.activeStyle,l=o.useContext(ve),s=l.min,b=l.max,S=l.direction,k=l.included,M=l.includedStart,h=l.includedEnd,g="".concat(c,"-dot"),n=k&&M<=r&&r<=h,a=q(q({},Pe(S,r,s,b)),typeof f=="function"?f(r):f);return n&&(a=q(q({},a),typeof u=="function"?u(r):u)),B("span",{className:xe(g,re({},"".concat(g,"-active"),n)),style:a})}function Et(e){var c=e.prefixCls,r=e.marks,f=e.dots,u=e.style,l=e.activeStyle,s=o.useContext(ve),b=s.min,S=s.max,k=s.step,M=o.useMemo(function(){var h=new Set;if(r.forEach(function(n){h.add(n.value)}),f&&k!==null)for(var g=b;g<=S;)h.add(g),g+=k;return Array.from(h)},[b,S,k,f,r]);return B("div",{className:"".concat(c,"-step"),children:M.map(function(h){return B(Rt,{prefixCls:c,value:h,style:u,activeStyle:l},h)})})}function $t(e,c,r,f,u,l){var s=o.useCallback(function(n){var a=isFinite(n)?n:e;return a=Math.min(c,n),a=Math.max(e,a),a},[e,c]),b=o.useCallback(function(n){if(r!==null){var a=e+Math.round((s(n)-e)/r)*r,v=function(C){return(String(C).split(".")[1]||"").length},i=Math.max(v(r),v(c),v(e)),m=Number(a.toFixed(i));return e<=m&&m<=c?m:null}return null},[r,e,c,s]),S=o.useCallback(function(n){var a=s(n),v=f.map(function(t){return t.value});r!==null&&v.push(b(n)),v.push(e,c);var i=v[0],m=c-e;return v.forEach(function(t){var C=Math.abs(a-t);C<=m&&(i=t,m=C)}),i},[e,c,f,r,s,b]),k=function n(a,v,i){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof v=="number"){var t,C=a[i],P=C+v,R=[];f.forEach(function(E){R.push(E.value)}),R.push(e,c),R.push(b(C));var T=v>0?1:-1;m==="unit"?R.push(b(C+T*r)):R.push(b(P)),R=R.filter(function(E){return E!==null}).filter(function(E){return v<0?E<=C:E>=C}),m==="unit"&&(R=R.filter(function(E){return E!==C}));var x=m==="unit"?C:P;t=R[0];var F=Math.abs(t-x);if(R.forEach(function(E){var X=Math.abs(E-x);X<F&&(t=E,F=X)}),t===void 0)return v<0?e:c;if(m==="dist")return t;if(Math.abs(v)>1){var _=ae(a);return _[i]=t,n(_,v-T,i,m)}return t}else{if(v==="min")return e;if(v==="max")return c}},M=function(a,v,i){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",t=a[i],C=k(a,v,i,m);return{value:C,changed:C!==t}},h=function(a){return l===null&&a===0||typeof l=="number"&&a<l},g=function(a,v,i){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",t=a.map(S),C=t[i],P=k(t,v,i,m);if(t[i]=P,u===!1){var R=l||0;i>0&&t[i-1]!==C&&(t[i]=Math.max(t[i],t[i-1]+R)),i<t.length-1&&t[i+1]!==C&&(t[i]=Math.min(t[i],t[i+1]-R))}else if(typeof l=="number"||l===null){for(var T=i+1;T<t.length;T+=1)for(var x=!0;h(t[T]-t[T-1])&&x;){var F=M(t,1,T);t[T]=F.value,x=F.changed}for(var _=i;_>0;_-=1)for(var E=!0;h(t[_]-t[_-1])&&E;){var X=M(t,-1,_-1);t[_-1]=X.value,E=X.changed}for(var A=t.length-1;A>0;A-=1)for(var Y=!0;h(t[A]-t[A-1])&&Y;){var D=M(t,-1,A-1);t[A-1]=D.value,Y=D.changed}for(var U=0;U<t.length-1;U+=1)for(var I=!0;h(t[U+1]-t[U])&&I;){var L=M(t,1,U+1);t[U+1]=L.value,I=L.changed}}return{value:t[i],values:t}};return[S,g]}var Ht=o.forwardRef(function(e,c){var r,f=e.prefixCls,u=f===void 0?"rc-slider":f,l=e.className,s=e.style,b=e.disabled,S=b===void 0?!1:b,k=e.autoFocus,M=e.onFocus,h=e.onBlur,g=e.min,n=g===void 0?0:g,a=e.max,v=a===void 0?100:a,i=e.step,m=i===void 0?1:i,t=e.value,C=e.defaultValue,P=e.range,R=e.count,T=e.onChange,x=e.onBeforeChange,F=e.onAfterChange,_=e.allowCross,E=_===void 0?!0:_,X=e.pushable,A=X===void 0?!1:X,Y=e.draggableTrack,D=e.reverse,U=e.vertical,I=e.included,L=I===void 0?!0:I,N=e.startPoint,j=e.trackStyle,J=e.handleStyle,be=e.railStyle,Ce=e.dotStyle,K=e.activeDotStyle,z=e.marks,ne=e.dots,Q=e.handleRender,V=e.tabIndex,ue=V===void 0?0:V,de=e.ariaLabelForHandle,ye=e.ariaLabelledByForHandle,Se=e.ariaValueTextFormatterForHandle,Z=o.useRef(),ie=o.useRef(),oe=o.useMemo(function(){return U?D?"ttb":"btt":D?"rtl":"ltr"},[D,U]),H=o.useMemo(function(){return isFinite(n)?n:0},[n]),fe=o.useMemo(function(){return isFinite(v)?v:100},[v]),le=o.useMemo(function(){return m!==null&&m<=0?1:m},[m]),Je=o.useMemo(function(){return A===!0?le:A>=0?A:!1},[A,le]),Re=o.useMemo(function(){var w=Object.keys(z||{});return w.map(function(y){var d=z[y],O={value:Number(y)};return d&&st(d)==="object"&&!o.isValidElement(d)&&("label"in d||"style"in d)?(O.style=d.style,O.label=d.label):O.label=d,O}).filter(function(y){var d=y.label;return d||typeof d=="number"}).sort(function(y,d){return y.value-d.value})},[z]),Qe=$t(H,fe,le,Re,E,Je),He=W(Qe,2),Ee=He[0],Oe=He[1],Ve=dt(C,{value:t}),Te=W(Ve,2),p=Te[0],Ze=Te[1],G=o.useMemo(function(){var w=p==null?[]:Array.isArray(p)?p:[p],y=W(w,1),d=y[0],O=d===void 0?H:d,$=p===null?[]:[O];if(P){if($=ae(w),R||p===void 0){var ge=R>=0?R+1:2;for($=$.slice(0,ge);$.length<ge;){var se;$.push((se=$[$.length-1])!==null&&se!==void 0?se:H)}}$.sort(function(ee,Me){return ee-Me})}return $.forEach(function(ee,Me){$[Me]=Ee(ee)}),$},[p,P,H,R,Ee]),$e=o.useRef(G);$e.current=G;var ce=function(y){return P?y:y[0]},we=function(y){var d=ae(y).sort(function(O,$){return O-$});T&&!vt(d,$e.current)&&T(ce(d)),Ze(d)},Ne=function(y){if(!S){var d=0,O=fe-H;G.forEach(function(ge,se){var ee=Math.abs(y-ge);ee<=O&&(O=ee,d=se)});var $=ae(G);$[d]=y,P&&!G.length&&R===void 0&&$.push(y),x==null||x(ce($)),we($),F==null||F(ce($))}},pe=function(y){y.preventDefault();var d=ie.current.getBoundingClientRect(),O=d.width,$=d.height,ge=d.left,se=d.top,ee=d.bottom,Me=d.right,Ge=y.clientX,We=y.clientY,ke;switch(oe){case"btt":ke=(ee-We)/$;break;case"ttb":ke=(We-se)/$;break;case"rtl":ke=(Me-Ge)/O;break;default:ke=(Ge-ge)/O}var ct=H+ke*(fe-H);Ne(Ee(ct))},et=o.useState(null),Be=W(et,2),_e=Be[0],Ae=Be[1],tt=function(y,d){if(!S){var O=Oe(G,y,d);x==null||x(ce(G)),we(O.values),F==null||F(ce(O.values)),Ae(O.value)}};o.useEffect(function(){if(_e!==null){var w=G.indexOf(_e);w>=0&&Z.current.focus(w)}Ae(null)},[_e]);var rt=o.useMemo(function(){return Y&&le===null?!1:Y},[Y,le]),at=function(){F==null||F(ce($e.current))},nt=yt(ie,oe,G,H,fe,Ee,we,at,Oe),Fe=W(nt,4),Xe=Fe[0],ut=Fe[1],De=Fe[2],it=Fe[3],Ye=function(y,d){it(y,d),x==null||x(ce($e.current))},je=Xe!==-1;o.useEffect(function(){if(!je){var w=G.lastIndexOf(ut);Z.current.focus(w)}},[je]);var me=o.useMemo(function(){return ae(De).sort(function(w,y){return w-y})},[De]),ot=o.useMemo(function(){return P?[me[0],me[me.length-1]]:[H,me[0]]},[me,P,H]),Ke=W(ot,2),Ue=Ke[0],Ie=Ke[1];o.useImperativeHandle(c,function(){return{focus:function(){Z.current.focus(0)},blur:function(){var y=document,d=y.activeElement;ie.current.contains(d)&&(d==null||d.blur())}}}),o.useEffect(function(){k&&Z.current.focus(0)},[]);var lt=o.useMemo(function(){return{min:H,max:fe,direction:oe,disabled:S,step:le,included:L,includedStart:Ue,includedEnd:Ie,range:P,tabIndex:ue,ariaLabelForHandle:de,ariaLabelledByForHandle:ye,ariaValueTextFormatterForHandle:Se}},[H,fe,oe,S,le,L,Ue,Ie,P,ue,de,ye,Se]);return B(ve.Provider,{value:lt,children:mt("div",{ref:ie,className:xe(u,l,(r={},re(r,"".concat(u,"-disabled"),S),re(r,"".concat(u,"-vertical"),U),re(r,"".concat(u,"-horizontal"),!U),re(r,"".concat(u,"-with-marks"),Re.length),r)),style:s,onMouseDown:pe,children:[B("div",{className:"".concat(u,"-rail"),style:be}),B(Mt,{prefixCls:u,style:j,values:me,startPoint:N,onStartMove:rt?Ye:null}),B(Et,{prefixCls:u,marks:Re,dots:ne,style:Ce,activeStyle:K}),B(Ct,{ref:Z,prefixCls:u,style:J,values:De,draggingIndex:Xe,onStartMove:Ye,onOffsetChange:tt,onFocus:M,onBlur:h,handleRender:Q}),B(xt,{prefixCls:u,marks:Re,onClick:Ne})]})})});export{Ht as S};
