import{c as Fn}from"./react-dom@18.2.0_react@18.2.0-9dcc96ec.js";import{H as kn}from"./react-router-dom@6.4.3_biqbaboplfbrettd7655fr4n2y-626ef501.js";import{r as l,R as q}from"./react@18.2.0-52f219d3.js";import{n as ct}from"./nprogress@0.2.0-701519fb.js";import{I as R}from"./@iconify_react@3.2.2_react@18.2.0-56e0de16.js";import{j as s,b as x,F as K}from"./@ant-design_cssinjs@1.0.2_biqbaboplfbrettd7655fr4n2y-bf6e9dad.js";import{c as Ie,a as Sn}from"./@reduxjs_toolkit@1.9.0_k4ae6lp43ej6mezo3ztvx6pykq-51f91baa.js";import{u as Z,a as v,P as En}from"./react-redux@8.0.5_cn3ejhfta5lq2dae4xucvtkwvu-c17f531b.js";import{u as ne,a as De,b as Dn,c as vn}from"./react-router@6.4.3_react@18.2.0-3e800edc.js";import"./hoist-non-react-statics@3.3.2-45eb0518.js";import"./react-is@18.2.0-8137d776.js";import{B as J,m as U,S as St,T as Et,a as Dt,D as vt,b as Bt,I as re,c as Bn,A as Nn,C as Nt,R as An,d as Pn,e as Tn,f as $n,U as In,F as V,g as Rn,h as Ln,M as Re,i as At,j as _n,P as Mn,k as de,l as zn,n as On,o as Kn,p as Pt,q as Ze,r as Hn,s as jn,z as Un,t as Vn}from"./antd@5.0.2_biqbaboplfbrettd7655fr4n2y-3d317f9d.js";import{a as Tt}from"./axios@0.27.2-039bacb1.js";import{a as $t,U as Yn}from"./crypto-js@4.1.1-399bf918.js";import{r as me,K as Gn}from"./react-activation@0.12.2_react@18.2.0-a63fa06c.js";import{d as j}from"./dayjs@1.11.6-ed0e2233.js";import{u as Qe,a as Wn}from"./ahooks@3.7.2_react@18.2.0-6828f094.js";import"./@wangeditor_editor@5.1.23-ae9fde5d.js";import{c as qn,u as Jn}from"./@wangeditor_editor-for-react@1.0.6_g2n2jaet4p6hcjvgwca4efbhfm-6daa0789.js";import{S as Zn,P as Qn,B as Xn,G as es,J as It,K as ts,N as ns,O as ss,T as os,V as rs,c as as,W as is,X as ut}from"./@ant-design_icons@4.8.0_biqbaboplfbrettd7655fr4n2y-57973138.js";import{u as ls,i as cs,a as us,b as ds,c as ms,d as ps,e as hs,f as fs,g as gs,h as ys,j as xs,k as bs,l as Cs,m as ws,n as Fs,o as ks,p as Ss,q as Es,r as Ds,s as vs,t as Bs,v as Ns,w as Be}from"./echarts@5.4.0-89366f14.js";import{R as As}from"./react-resizable@3.0.4_biqbaboplfbrettd7655fr4n2y-3dce84ba.js";import{F as Ps}from"./react-window@1.8.8_biqbaboplfbrettd7655fr4n2y-202670a4.js";import{A as Ts}from"./react-virtualized-auto-sizer@1.0.7_biqbaboplfbrettd7655fr4n2y-005ef42c.js";import{c as $s}from"./react-draggable@4.4.5_biqbaboplfbrettd7655fr4n2y-47e90e7f.js";import"./@babel_runtime@7.20.1-5f192e20.js";import"./scheduler@0.23.0-65b5f0cc.js";import"./@remix-run_router@1.0.3-a37d51dc.js";import"./rc-util@5.24.6_biqbaboplfbrettd7655fr4n2y-e98ccc02.js";import"./react-is@16.13.1-140c6955.js";import"./@emotion_hash@0.8.0-b8f6374b.js";import"./@emotion_unitless@0.7.5-1bd516b4.js";import"./stylis@4.1.3-2a3770a4.js";import"./immer@9.0.16-794b725b.js";import"./redux@4.2.0-97063c68.js";import"./redux-thunk@2.4.2_redux@4.2.0-b59b9d2c.js";import"./use-sync-external-store@1.2.0_react@18.2.0-1deef343.js";import"./classnames@2.3.2-d75d9a59.js";import"./rc-resize-observer@1.2.0_biqbaboplfbrettd7655fr4n2y-50de0980.js";import"./resize-observer-polyfill@1.5.1-1e2b0dc8.js";import"./rc-motion@2.6.2_biqbaboplfbrettd7655fr4n2y-948a0f38.js";import"./rc-trigger@5.3.4_biqbaboplfbrettd7655fr4n2y-a29aed73.js";import"./rc-align@4.0.12_biqbaboplfbrettd7655fr4n2y-b28fcdcb.js";import"./dom-align@1.12.4-7970bd81.js";import"./lodash@4.17.21-29628d20.js";import"./rc-picker@3.1.2_hk4it2saoa6yurflmehlixyvbq-92f8a369.js";import"./shallowequal@1.1.0-be60d069.js";import"./rc-tabs@12.4.1_biqbaboplfbrettd7655fr4n2y-eb88ccc2.js";import"./rc-menu@9.8.0_biqbaboplfbrettd7655fr4n2y-e768b97f.js";import"./rc-overflow@1.2.8_biqbaboplfbrettd7655fr4n2y-4406ad70.js";import"./rc-dropdown@4.0.1_biqbaboplfbrettd7655fr4n2y-35c9ec5b.js";import"./rc-select@14.1.14_biqbaboplfbrettd7655fr4n2y-20f909ab.js";import"./rc-virtual-list@3.4.11_biqbaboplfbrettd7655fr4n2y-a1f30739.js";import"./rc-tree@5.7.1_biqbaboplfbrettd7655fr4n2y-1d20759e.js";import"./rc-drawer@6.0.1_biqbaboplfbrettd7655fr4n2y-77ae626c.js";import"./@rc-component_portal@1.0.3_biqbaboplfbrettd7655fr4n2y-3f88a938.js";import"./rc-field-form@1.27.3_biqbaboplfbrettd7655fr4n2y-39928db0.js";import"./async-validator@4.2.5-f1555ba6.js";import"./scroll-into-view-if-needed@2.2.29-43a47374.js";import"./compute-scroll-into-view@1.0.17-4f947f73.js";import"./rc-dialog@9.0.2_biqbaboplfbrettd7655fr4n2y-ad489e37.js";import"./rc-input-number@7.3.11_biqbaboplfbrettd7655fr4n2y-c68b2ea2.js";import"./rc-notification@5.0.0-alpha.9_biqbaboplfbrettd7655fr4n2y-9a684d4e.js";import"./rc-rate@2.9.2_biqbaboplfbrettd7655fr4n2y-48c5199e.js";import"./rc-slider@10.0.1_biqbaboplfbrettd7655fr4n2y-0c4bc5c3.js";import"./@ctrl_tinycolor@3.4.1-87b86e7f.js";import"./rc-switch@4.0.0_biqbaboplfbrettd7655fr4n2y-71c9e2af.js";import"./rc-table@7.26.0_biqbaboplfbrettd7655fr4n2y-93310289.js";import"./rc-pagination@3.2.0_biqbaboplfbrettd7655fr4n2y-c5389fb6.js";import"./rc-checkbox@2.3.2_biqbaboplfbrettd7655fr4n2y-fdea3e62.js";import"./rc-input@0.1.4_biqbaboplfbrettd7655fr4n2y-39eb39e5.js";import"./rc-textarea@0.4.7_biqbaboplfbrettd7655fr4n2y-7d844e1f.js";import"./@ant-design_colors@6.0.0-41e78357.js";import"./rc-tree-select@5.5.5_biqbaboplfbrettd7655fr4n2y-dc3c114b.js";import"./rc-upload@4.3.4_biqbaboplfbrettd7655fr4n2y-b24eacf9.js";import"./rc-progress@3.4.1_biqbaboplfbrettd7655fr4n2y-235208f9.js";import"./rc-tooltip@5.2.2_biqbaboplfbrettd7655fr4n2y-56b5d047.js";import"./szfe-tools@0.0.0-beta.7-ae4d7de5.js";import"./create-react-context@0.3.0_react@18.2.0-9e303391.js";import"./prop-types@15.8.1-20765e74.js";import"./gud@1.0.0-6c1a0023.js";import"./warning@4.0.3-84a434bd.js";import"./react-node-key@0.4.0_react@18.2.0-98ddd705.js";import"./@ant-design_icons-svg@4.2.1-c289f888.js";import"./zrender@5.4.0-eaf71f4d.js";import"./tslib@2.3.0-6fdb4d67.js";import"./memoize-one@5.2.1-b0f16465.js";import"./clsx@1.2.1-6d4a173a.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Is(e){const t=[];for(let n=0;n<e.length;n++)e[n].path!=="login"&&t.push(e[n]);return t}const Rs=[{label:"\u7CFB\u7EDF\u7BA1\u7406",key:"system",icon:s(R,{icon:"ion:settings-outline"}),children:[{label:"\u7528\u6237\u7BA1\u7406",key:"/system/user",rule:"/authority/user"},{label:"\u83DC\u5355\u7BA1\u7406",key:"/system/menu",rule:"/authority/menu"}]}],Ls=[{label:"\u7EC4\u4EF6",key:"demo",icon:s(R,{icon:"fluent:box-20-regular"}),children:[{label:"\u526A\u5207\u677F",key:"/demo/copy",rule:"/demo/copy"},{label:"\u6C34\u5370",key:"/demo/watermark",rule:"/demo/watermark"},{label:"\u865A\u62DF\u6EDA\u52A8",key:"/demo/virtualScroll",rule:"/demo/virtualScroll"},{label:"\u5BCC\u6587\u672C",key:"/demo/editor",rule:"/demo/editor"},{label:"\u5C42\u7EA71",key:"/demo/level1",children:[{label:"\u5C42\u7EA72",key:"/demo/level1/level2",children:[{label:"\u5C42\u7EA73",key:"/demo/level1/level2/level3",rule:"/demo/watermark"}]}]}]}],_s=[{label:"\u5185\u5BB9\u7BA1\u7406",key:"content",icon:s(R,{icon:"majesticons:article-search-line"}),children:[{label:"\u6587\u7AE0\u7BA1\u7406",key:"/content/article",rule:"/content/article"}]}],X=[{label:"\u4EEA\u8868\u76D8",key:"dashboard",icon:s(R,{icon:"la:tachometer-alt"}),children:[{label:"\u6570\u636E\u603B\u89C8",key:"/dashboard",rule:"/dashboard"}]},...Ls,...Rs,..._s];function Le(e){const t=ge(e),n=[];if(t.length>0&&n.push(t[0]),t.length>2){let o="/"+t[0];for(let r=1;r<t.length-1;r++)o+="/"+t[r],n.push(o)}return n}function Ms(e,t){const n=[],o=ge(e);let r=0;const i=o.length;for(let a=0;a<t.length;a++){const{path:c}=t[a];if((c==null?void 0:c[r])===o[r]&&(n.push(t[a].label),r<i-1&&r++),r===i)return n}return n}function ge(e){if(!e||typeof e!="string")return[];const t=(e==null?void 0:e.split("/"))||[];return(t==null?void 0:t[0])===""&&t.shift(),t}function Rt(e){var a,c;const{menus:t,permissions:n,value:o}=e;let{currentPath:r,result:i}=e;if(!(t!=null&&t.length)||!o)return[];r||(r=[]),i||(i=[]);for(let u=0;u<t.length;u++)if(xe(t[u])){r.push({label:t[u].label,path:ge(t[u].key)});const m={menus:t[u].children,permissions:n,value:o,currentPath:r,result:i},d=Rt(m);d.length?i.concat(d):r.pop()}else if(((c=(a=t[u])==null?void 0:a.label)==null?void 0:c.includes(o))&&_e(t[u],n)){r.push({label:t[u].label,path:ge(t[u].key)});const m=Ms(t[u].key,r),{label:d,key:p}=t[u];i.push({label:d,key:p,nav:m})}return i}function ae(e){var a;const{menus:t,permissions:n,key:o}=e;let{fatherNav:r,result:i}=e;if(!(t!=null&&t.length))return i;r||(r=[]),i!=null&&i.key||(i={key:"",label:"",nav:[]});for(let c=0;c<t.length;c++){if(!o||i.key)return i;if(xe(t[c])){r.push(t[c].label);const u={menus:t[c].children,permissions:n,key:o,fatherNav:r,result:i},m=ae(u);m!=null&&m.key?i=m:r.pop()}else if(((a=t[c])==null?void 0:a.key)===o&&_e(t[c],n)){r.push(t[c].label);const{label:u,key:m}=t[c];m&&(i={label:u,key:m,nav:r})}}return i}function Lt(e,t){const n=[];for(let o=0;o<e.length;o++){if(xe(e[o])){const r=Lt(e[o].children,t);e[o].children=r!=null&&r.length?r:void 0}(_e(e[o],t)||xe(e[o]))&&n.push(e[o])}return n}function ye(e,t,n=""){if(n)return n;for(let o=0;o<e.length;o++){if(xe(e[o])&&!n){const r=ye(e[o].children,t,n);if(r)return n=r,n}_e(e[o],t)&&!xe(e[o])&&(n=e[o].key)}return n}function _e(e,t){return t==null?void 0:t.includes((e==null?void 0:e.rule)||"")}function xe(e){var t;return Boolean((t=e.children)==null?void 0:t.length)}const _t=Ie({name:"tabs",initialState:{isLock:!1,isMaximize:!1,activeKey:"",nav:[],tabs:[]},reducers:{toggleLock:(e,t)=>{e.isLock=!!t.payload},toggleMaximize:(e,t)=>{e.isMaximize=!!t.payload},setActiveKey:(e,t)=>{e.activeKey=t.payload},setNav:(e,t)=>{e.nav=t.payload},addTabs:(e,t)=>{const{tabs:n}=e,{payload:o}=t;n.find(i=>i.key===o.key)||n.push(o),n!=null&&n.length&&(n[0].closable=(n==null?void 0:n.length)>1)},closeTabs:(e,t)=>{var i;const{tabs:n}=e,{payload:o}=t,r=n.findIndex(a=>a.key===o);if(r>=0&&n.splice(r,1),o===e.activeKey){let a="";r===0?a=((i=n==null?void 0:n[r])==null?void 0:i.key)||"":a=n[r-1].key,e.activeKey=a,e.isLock=!0}n!=null&&n.length&&(n[0].closable=(n==null?void 0:n.length)>1)},closeTabGoNext:(e,t)=>{const{tabs:n}=e,{payload:o}=t,{key:r,nextPath:i}=o,a=n.findIndex(c=>c.key===r);a>=0&&n.splice(a,1),r===e.activeKey&&(e.activeKey=i,e.isLock=!0),n!=null&&n.length&&(n[0].closable=(n==null?void 0:n.length)>1)},closeLeft:(e,t)=>{const{tabs:n}=e,{payload:o}=t,r=n.findIndex(i=>i.key===o);r>=0&&n.splice(0,r),e.activeKey=n[0].key,n!=null&&n.length&&(n[0].closable=(n==null?void 0:n.length)>1)},closeRight:(e,t)=>{const{tabs:n}=e,{payload:o}=t,r=n.findIndex(i=>i.key===o);r>=0&&n.splice(r+1,n.length-r-1),e.activeKey=n[n.length-1].key,n!=null&&n.length&&(n[0].closable=(n==null?void 0:n.length)>1)},closeOther:(e,t)=>{const{tabs:n}=e,{payload:o}=t,r=n.find(i=>i.key===o);r&&(e.tabs=[r],e.activeKey=r.key,e.isLock=!0),n[0].closable=!1},closeAllTab:e=>{e.tabs=[]}}}),{toggleLock:zs,toggleMaximize:Os,setActiveKey:ie,setNav:Fe,addTabs:pe,closeTabs:Mt,closeTabGoNext:Ks,closeLeft:Hs,closeRight:js,closeOther:Us,closeAllTab:Vs}=_t.actions,Ys=_t.reducer,Gs="_animation_1tk4a_1",Ws="_shake_1tk4a_1",zt={animation:Gs,shake:Ws};function Xe(){const e=ne(),t=Z(),n=v(r=>r.user.permissions),o=()=>{const r=ye(X,n);e(r);const a=ae({menus:X,permissions:n,key:r});a!=null&&a.key&&(t(ie(a.key)),t(pe(a)))};return x("div",{className:"absolute left-50% top-50% -translate-x-1/2 -translate-y-1/2 text-center",children:[s("h1",{className:`${zt.animation} w-full text-6rem font-bold`,children:"403"}),s("p",{className:"w-full text-20px font-bold mt-15px text-dark-700",children:"\u5F88\u62B1\u6B49\uFF0C\u60A8\u7684\u8BBF\u95EE\u8BF7\u6C42\u88AB\u7981\u6B62!"}),s(J,{className:"mt-25px margin-auto",onClick:o,children:"\u8FD4\u56DE\u9996\u9875"})]})}const qs="/assets/png/welcome-49086098.png";function Js(){return s("div",{className:"flex justify-center",children:s("img",{src:qs,alt:"Image",className:"w-980px h-full container"})})}function Zs(){const e=ne(),t=Z(),n=v(r=>r.user.permissions),o=()=>{const r=ye(X,n);e(r);const a=ae({menus:X,permissions:n,key:r});a!=null&&a.key&&(t(ie(a.key)),t(pe(a)))};return x("div",{className:"absolute left-50% top-50% -translate-x-1/2 -translate-y-1/2 text-center",children:[s("h1",{className:`${zt.animation} w-full text-6rem font-bold`,children:"404"}),s("p",{className:"w-full text-20px font-bold mt-15px text-dark-700",children:"\u5F53\u524D\u9875\u9762\u65E0\u6CD5\u8BBF\u95EE\uFF0C\u53EF\u80FD\u6CA1\u6743\u9650\u6216\u5DF2\u5220\u9664"}),s(J,{className:"mt-25px margin-auto",onClick:o,children:"\u8FD4\u56DE\u9996\u9875"})]})}const dt="\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF",je="admin_token",Ot="__Vite_Admin_Secret__",Ce="theme_key",ke="\u8BF7\u8F93\u5165",oe="\u8BF7\u9009\u62E9",Kt="responsive",le=[{required:!0,message:ke}],Ve=[{required:!0,message:oe}],Qs="https://www.fastmock.site/mock/bdd0efa89c5ddba1b003043010702b77/v1",mt=`${Qs}/authority/file/upload-file`,Se="\u65B0\u589E",et=(e,t)=>`\u7F16\u8F91${t!=null?t:""}${e?`(${e})`:""}`,Xs={pattern:/^(?=.*\d)(?=.*[a-zA-Z])[\da-zA-Z~!@#$%^&*+\.\_\-*]{6,30}$/,message:"\u5BC6\u7801\u4E3A6-30\u4F4D\u5FC5\u987B\u5305\u542B\u5B57\u6BCD\u548C\u6570\u5B57!"};function eo(e,t=Ot){const n=JSON.stringify(e);return $t.exports.encrypt(n,t).toString()}function to(e,t=Ot){const o=$t.exports.decrypt(e,t).toString(Yn);return o?JSON.parse(o):null}const no=60*60*24*2;function so(e,t,n=no){const o=n!==null?new Date().getTime()+n*1e3:null,i=eo({value:t,expire:o});localStorage.setItem(e,i)}function oo(e){const t=localStorage.getItem(e);if(t){let n=null;try{n=to(t)}catch{U.error({content:"\u6570\u636E\u89E3\u5BC6\u5931\u8D25",key:"decryption"})}if(n){const{value:o,expire:r}=n;if(r===null||r>=Date.now())return o}return Ht(e),null}return null}function Ht(e){localStorage.removeItem(e)}function Me(){return[()=>oo(je)||"",o=>{so(je,o)},()=>{Ht(je)}]}const ro="https://www.fastmock.site/mock/bdd0efa89c5ddba1b003043010702b77/v1",we=[],ao=Tt.CancelToken,io=ao.source(),L=Tt.create({baseURL:ro,timeout:180*1e3}),be=(e,t)=>{console.error("\u9519\u8BEF\u4FE1\u606F:",e),U.error({content:t||e||"\u670D\u52A1\u5668\u9519\u8BEF",key:"error"})};L.interceptors.request.use(e=>{const[t]=Me(),n=t()||"";(e==null?void 0:e.headers)&&n&&(e.headers.Authorization=`Bearer ${n}`);const o=JSON.stringify(e.url)+JSON.stringify(e.data)+"&"+e.method;return we.includes(o)?io.cancel():we.push(o),e},e=>(be(e,"\u670D\u52A1\u5668\u9519\u8BEF"),Promise.reject(e)));L.interceptors.response.use(e=>{const t=e.data,n=JSON.stringify(e.config.url)+JSON.stringify(e.config.data)+"&"+e.config.method,o=we.findIndex(r=>r===n);return we.splice(o,1),(t==null?void 0:t.code)===0?(be(t==null?void 0:t.message,"\u6743\u9650\u4E0D\u8DB3\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55"),Promise.reject(e)):(t==null?void 0:t.code)===601||(t==null?void 0:t.code)!==200?(be(t==null?void 0:t.message),Promise.reject(e)):Promise.resolve(e)},e=>(we.length=0,be(e,"\u670D\u52A1\u5668\u9519\u8BEF"),Promise.reject(e)));function lo(e){return L.get("/dashboard",{params:e})}const co=[{label:"\u65E5\u671F",name:"pay_date",component:"RangePicker",componentProps:{allowClear:!1}},{label:"\u6E38\u620FID",name:"game_ids",wrapperCol:200,component:"GameSelect"},{label:"\u5408\u4F5C\u516C\u53F8",name:"partners",wrapperCol:200,component:"PartnerSelect"},{label:"\u5168\u670D\u5145\u503C",name:"all_pay",wrapperCol:15,component:"Checkbox"}];function se(e){const t=dt+e?`${e} - ${dt}`:"";l.exports.useEffect(()=>{document.title=t},[t]),me.exports.useActivate(()=>{document.title=t})}const ue="YYYY-MM-DD",Ue="YYYY-MM-DD hh:mm:ss",uo=[{label:"\u5F00\u542F",value:1},{label:"\u5173\u95ED",value:0}],tt=[{label:"\u663E\u793A",value:1},{label:"\u9690\u85CF",value:0}],jt=[{value:"authority",label:"\u6743\u9650\u7CFB\u7EDF"},{value:"platform",label:"\u8FD0\u8425\u7CFB\u7EDF"},{value:"stat",label:"\u7EDF\u8BA1\u7CFB\u7EDF"},{value:"ad",label:"\u6295\u653E\u7CFB\u7EDF"},{value:"cs",label:"\u5BA2\u670D\u7CFB\u7EDF"},{value:"log",label:"\u65E5\u5FD7\u7CFB\u7EDF"}],mo=[{value:"create",label:"\u521B\u5EFA"},{value:"update",label:"\u66F4\u65B0"},{value:"delete",label:"\u5220\u9664"},{value:"detail",label:"\u8BE6\u60C5"},{value:"export",label:"\u5BFC\u51FA"},{value:"status",label:"\u72B6\u6001"}];function Ut(e){switch(e){case"Switch":case"Checkbox":case"CheckboxGroup":return"checked";case"Upload":return"fileList";default:return"value"}}function po(e){switch(e){case"Select":return{allowClear:!0,placeholder:oe};case"InputNumber":return{placeholder:ke};case"Checkbox":return{};case"CheckboxGroup":return{};case"DatePicker":return{placeholder:oe,format:ue};case"RangePicker":return{placeholder:[oe,oe],format:[ue,ue]};case"TimePicker":return{placeholder:oe,format:Ue};case"TimeRangePicker":return{placeholder:[oe,oe],format:[Ue,Ue]};default:return{allowClear:!0,placeholder:ke}}}function ho(e){return`${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,",")}function fo(e,t){for(let n=0;n<(t==null?void 0:t.length);n++)if(t[n].value===e)return t[n].label;return""}function go(e,t){var r;if(!e||!t)return"";(e==null?void 0:e[0])==="?"&&(e=e.substring(1,e.length));const n=e.split("&"),o=[];for(let i=0;i<n.length;i++){const a=(r=n[i])==null?void 0:r.split("=");(a==null?void 0:a.length)===2&&o.push([a[0],a[1]])}for(let i=0;i<o.length;i++)if(o[i][0]===t)return o[i][1];return""}function Vt(e,t){if(e.length===0)return[];const n=[];for(let o=0;o<e.length;o++){const r=e[o],i=t(r),a=r.children?Vt(r.children,t):void 0;n.push({...i,children:a})}return n}function yo(e){return new Promise((t,n)=>{L.get("/authority/common/games",{params:e}).then(o=>{var i;const r=Vt((i=o==null?void 0:o.data)==null?void 0:i.data,a=>{const{id:c,name:u}=a;return{value:c,label:`${c}:${u}`}});t(r)}).catch(()=>n([]))})}function Yt(){return s("div",{className:"absolute left-50% top-50% -translate-x-1/2 -translate-y-1/2 text-center",children:s(St,{spinning:!0})})}function Gt(e){const[t,n]=l.exports.useState(!1),[o,r]=l.exports.useState([]),i={...e};delete i.api,delete i.params;const a=async()=>{var u;try{n(!0);const m=await((u=e.api)==null?void 0:u.call(e,e==null?void 0:e.params));r(m||[])}finally{n(!1)}};return s(Et,{allowClear:!0,maxTagCount:Kt,placeholder:oe,...i,loading:t,treeData:o,notFoundContent:t&&s(Yt,{}),onDropdownVisibleChange:u=>{var m;u&&a(),(m=e.onDropdownVisibleChange)==null||m.call(e,u)}})}function xo(e){return s(K,{children:s(Gt,{...e,multiple:!0,api:yo})})}function bo(e){return new Promise((t,n)=>{L.get("/platform/partner",{params:e}).then(o=>{var i;const r=[];(i=o==null?void 0:o.data)==null||i.data.forEach(a=>{r.push({label:a.name,value:a.id})}),t(r)}).catch(()=>n([]))})}function Wt(e){const[t,n]=l.exports.useState(!1),[o,r]=l.exports.useState([]),i={...e};delete i.api,delete i.params;const a=async()=>{var u;try{n(!0);const m=await((u=e.api)==null?void 0:u.call(e,e==null?void 0:e.params));r(m||[])}finally{n(!1)}};return s(Dt,{allowClear:!0,maxTagCount:Kt,placeholder:oe,optionFilterProp:"label",...i,loading:t,options:o,notFoundContent:t&&s(Yt,{}),onDropdownVisibleChange:u=>{var m;u&&a(),(m=e.onDropdownVisibleChange)==null||m.call(e,u)}})}function Co(e){return s(Wt,{...e,api:bo,mode:"multiple"})}function wo(){Ge("GameSelect",xo),Ge("PartnerSelect",Co)}function Fo(e,t=ue){return j.isDayjs(e)?e.format(t):e}function qt(e){return j.isDayjs(e)?e:j(e)}function ko(e,t=ue){if(!!e)return(e==null?void 0:e.length)>1&&j.isDayjs(e==null?void 0:e[0])&&j.isDayjs(e==null?void 0:e[1])?[e[0].format(t),e[1].format(t)]:e}function Jt(e){if(!!e)return(e==null?void 0:e.length)>1&&!j.isDayjs(e==null?void 0:e[0])&&j.isDayjs(e==null?void 0:e[1])?[j(e[0]),e[1]]:(e==null?void 0:e.length)>1&&j.isDayjs(e==null?void 0:e[0])&&!j.isDayjs(e==null?void 0:e[1])?[e[0],j(e[1])]:(e==null?void 0:e.length)>1&&!j.isDayjs(e==null?void 0:e[0])&&!j.isDayjs(e==null?void 0:e[1])?[j(e[0]),j(e[1])]:e}function pt(e,t){var n;for(let o=0;o<e.length;o++)if(e[o].name===t)return((n=e[o].componentProps)==null?void 0:n.format)||ue;return ue}function Zt(e,t){var n;for(const o in e){if(((n=e[o])==null?void 0:n.length)===2&&j.isDayjs(e[o][0])&&j.isDayjs(e[o][1])){const r=pt(t,o);e[o]=ko(e[o],r)}if((e==null?void 0:e[o])&&j.isDayjs(e[o])){const r=pt(t,o);e[o]=Fo(e[o],r)}}return e}function So(e){const{value:t}=e,n={...e};return t&&(n.value=qt(t)),s(vt,{...n})}const{RangePicker:Eo}=vt;function Do(e){const{value:t}=e,n={...e};return t&&(n.value=Jt(t)),s(Eo,{...n})}function vo(e){const{value:t}=e,n={...e};return t&&(n.value=qt(t)),s(Bt,{...n})}const{RangePicker:Bo}=Bt;function No(e){const{value:t}=e,n={...e};return t&&(n.value=Jt(t)),s(Bo,{...n})}const Ao=new Array(5).fill(0).map((e,t)=>t+1);function Po(e){const{strength:t}=e;return s("div",{className:"flex items-center",children:Ao.map(n=>s("div",{className:`
              w-19%
              h-5px
              mt-5px
              mr-1%
              rounded-10px
              bg-light-900
              ${n<=t&&t>3?"!bg-green-400":""}
              ${n<=t&&t===3?"!bg-yellow-400":""}
              ${n<=t&&t<3?"!bg-red-400":""}
            `},n))})}function Ye(e){const{value:t}=e,[n,o]=l.exports.useState(0),r=Qe(i=>{if(!i)return;let a=0;/\d/.test(i)&&a++,/[a-z]/.test(i)&&a++,/[A-Z]/.test(i)&&a++,i.length>10&&a++,/[\.\~\@\#\$\^\&\*]/.test(i)&&a++,o(a)},{wait:500});return l.exports.useEffect(()=>{r.run(t)},[r,t]),x(K,{children:[s(re.Password,{value:t,allowClear:!0,placeholder:ke,autoComplete:"password",...e,onChange:i=>{var a;(a=e.onChange)==null||a.call(e,i),r.run(i.target.value)}}),!!n&&s(Po,{strength:n})]})}function Qt(e){const{value:t,height:n,className:o,onChange:r}=e,[i,a]=l.exports.useState(null),[c,u]=l.exports.useState(t),m={},d={placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9...",MENU_CONF:{uploadImage:{server:mt},uploadVideo:{server:mt}}};return l.exports.useEffect(()=>{u(t||"")},[t]),l.exports.useEffect(()=>()=>{i!==null&&(i.destroy(),a(null))},[i]),x("div",{className:o,style:{border:"1px solid #ccc",zIndex:100},children:[s(qn,{editor:i,defaultConfig:m,mode:"default",style:{borderBottom:"1px solid #ccc"}}),s(Jn,{defaultConfig:d,value:c,onCreated:a,onChange:h=>{u(h.getHtml()),r(h.getHtml())},mode:"default",style:{height:n||300,overflowY:"hidden"}})]})}const z=new Map;z.set("Input",re);z.set("InputNumber",Bn);z.set("InputPassword",re.Password);z.set("AutoComplete",Nn);z.set("Select",Dt);z.set("TreeSelect",Et);z.set("Checkbox",Nt);z.set("CheckboxGroup",Nt.Group);z.set("RadioGroup",An.Group);z.set("Switch",Pn);z.set("Rate",Tn);z.set("Slider",$n);z.set("Upload",In);z.set("DatePicker",So);z.set("RangePicker",Do);z.set("TimePicker",vo);z.set("TimeRangePicker",No);z.set("ApiSelect",Wt);z.set("ApiTreeSelect",Gt);z.set("PasswordStrength",Ye);z.set("Editor",Qt);wo();function Xt(e){const{component:t,componentProps:n}=e;if(t==="customize"){const{render:r}=e;if(!r)return s(K,{});Ge("customize",r)}const o=z.get(t);return o?s(o,{...po(t),...n}):s(K,{})}function Ge(e,t){z.set(e,t)}function To(e){const{list:t,data:n,formRef:o,isLoading:r,isSearch:i,isCreate:a,children:c,labelCol:u,wrapperCol:m,handleFinish:d}=e,[p]=V.useForm();l.exports.useImperativeHandle(o,()=>({getFieldValue:g=>p.getFieldValue(g),getFieldsValue:()=>p.getFieldsValue(),handleReset:()=>{p.resetFields()},handleSubmit:()=>{p.submit()}}));const h=()=>{var g;(g=e.onCreate)==null||g.call(e)};return s("div",{id:"searches",className:"py-3",children:x(V,{name:"basic",layout:"inline",form:p,labelCol:u||{span:8},wrapperCol:m||{span:16},initialValues:n,onFinish:g=>{if(d){const F=Zt(g,t);d==null||d(F)}},onFinishFailed:g=>{console.warn("\u641C\u7D22\u9519\u8BEF:",g)},autoComplete:"off",children:[t==null?void 0:t.map(g=>s(V.Item,{label:g.label,name:g.name,className:"!mb-5px",labelCol:{style:{width:g.labelCol}},wrapperCol:{style:{width:g.wrapperCol}},rules:g.rules,valuePropName:Ut(g.component),children:Xt(g)},`${g.name}`)),i!==!1&&s(V.Item,{children:s(J,{type:"primary",htmlType:"submit",className:"!mb-5px",loading:r,icon:s(Zn,{}),children:"\u641C\u7D22"})}),a!==!1&&s(V.Item,{children:s(J,{type:"primary",className:"!mb-5px",icon:s(Qn,{}),onClick:h,children:"\u65B0\u589E"})}),c]})})}const ze=l.exports.memo(To);function ve(e){const{isPermission:t,children:n}=e;return x("div",{className:"min-w-980px h-full p-10px box-border overflow-auto",children:[t!==!1&&s("div",{id:"content",className:`
            relative
            box-border
            px-5
            pt-5
            pb-2
          `,children:n}),t===!1&&s(Xe,{})]})}ls([cs,us,ds,ms,ps,hs,fs,gs,ys,xs,bs,Cs,ws,Fs,ks,Ss,Es,Ds,vs,Bs,Ns]);function en(e){let{width:t,height:n}=e;const{className:o,option:r}=e,i=l.exports.useRef(null),[a,c]=l.exports.useState(!1),[u,m]=l.exports.useState(null);t||(t="100%"),n||(n="100%"),l.exports.useEffect(()=>{u||m(()=>setTimeout(()=>{c(!0)},100))},[]),l.exports.useEffect(()=>()=>{u&&(clearTimeout(u),m(()=>null))},[u]);const d=()=>{var h;i.current&&Be!==null&&Be!==void 0&&((h=Be)==null||h.dispose(i.current))},p=l.exports.useCallback(()=>{a&&(d(),Be.init(i.current).setOption(r))},[a,r]);return l.exports.useEffect(()=>{r&&a&&p()},[p,a,r]),l.exports.useEffect(()=>(p(),window.addEventListener("resize",()=>p(),!1),()=>{window.removeEventListener("resize",()=>p()),d()}),[p]),s(K,{children:a&&s("div",{ref:i,className:`echarts ${o}`,style:{height:n,width:t}})})}const $o={title:{text:"\u6709\u6548\u5145\u503C\u5360\u6BD4",left:30,top:5},xAxis:{type:"category",boundaryGap:!1,data:["07-11","07-12","07-13","07-14","07-15","07-16","07-17"]},yAxis:{type:"value"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},series:[{name:"\u5145\u503C\u6570",type:"line",areaStyle:{color:"#1890ff",opacity:.2},emphasis:{focus:"series"},data:[120,140,120,190,150,111,160]},{name:"\u7528\u6237\u6570\u6570",type:"line",areaStyle:{color:"#1890ff",opacity:.3},emphasis:{focus:"series"},data:[90,122,90,140,123,280,200]}]};function Io(){return s("div",{className:"w-60% border border-gray-200 rounded-10px",children:s(en,{className:"w-full mt-10px",width:"100%",height:"500px",option:$o})})}const Ro={title:{text:"\u5F53\u65E5\u5145\u503C\u6392\u884C",left:30,top:5},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",data:["\u5B64\u72EC\u7684\u9738\u6C14","\u51CC\u4E91\u9F50\u5929","\u590F\u81F3\u672A\u81F3","\u53F6\u7483\u6EAA","\u826F\u8FB0\u7F8E\u666F\u5948\u4F55\u5929","\u51F9\u51F8\u66FC","\u516D\u6708\u79BB\u522B","\u79BB\u6B4C","\u7EC8\u6781\u6218\u72AF","\u6C34\u6D17\u6674\u7A7A","\u5B89\u57CE\u5982\u6CAB","\u6E23\u6E23\u7070"]},series:[{name:"\u5145\u503C\u6570",type:"bar",data:[96285,102352,111235,112356,123984,138205,142059,152362,162231,164324,178291,192830]}]};function Lo(){return s("div",{className:"w-38% border border-gray-200 rounded-10px",children:s(en,{className:"w-full mt-10px",width:"100%",height:"500px",option:Ro})})}function ht(e){const{prefix:t,start:n,end:o}=e,[r,i]=l.exports.useState(n),[a,c]=l.exports.useState(null);return l.exports.useEffect(()=>{const u=o-n,m=2*60,d=Math.floor(u/m)||1;c(setInterval(()=>{i(p=>p+d)}))},[o,n]),l.exports.useEffect(()=>{r>=o&&(a&&(clearInterval(a),c(null)),i(o))},[o,r,a]),l.exports.useEffect(()=>()=>{a&&(clearInterval(a),c(null))},[a]),x("span",{children:[t,ho(r)]})}const _o=[{title:"\u7528\u6237\u6570",num:14966,all:16236,icon:"icon-park:peoples"},{title:"\u5145\u503C\u6570",num:4286,all:6142,icon:"icon-park:paper-money"},{title:"\u8BA2\u5355\u6570",num:5649,all:5232,icon:"icon-park:transaction-order"},{title:"\u6E38\u620F\u6570",num:619,all:2132,icon:"icon-park:game-handle"}];function Mo(){return s(Rn,{gutter:16,children:_o.map(e=>s(Ln,{span:6,children:x("div",{className:`
                border
                border-gray-200
                px-30px
                py-20px
                box-border
                rounded-10px
              `,children:[s("div",{className:"text-20px font-bold",children:e.title}),x("div",{className:"flex items-center justify-between text-35px mb-15px",children:[s(ht,{className:"font-bold",start:0,end:e.num}),s(R,{icon:e.icon})]}),x("div",{className:"flex align-center justify-between",children:[s("span",{children:"\u603B\u6570\uFF1A"}),s(ht,{start:0,end:e.all})]})]})},e.title))})}const ft={pay_date:["2022-10-19","2022-10-29"]};function zo(){se("\u6570\u636E\u5C55\u89C8");const[e,t]=l.exports.useState(!1),n=l.exports.useCallback(async o=>{o.all_pay=o.all_pay?1:void 0;const r={...o};try{t(!0),await lo(r)}finally{t(!1)}},[]);return l.exports.useEffect(()=>{n(ft)},[n]),s(ve,{isPermission:!0,children:x(K,{children:[s(ze,{list:co,data:ft,isLoading:e,isCreate:!1,handleFinish:n}),s("div",{className:"py-10px",children:s(Mo,{})}),x("div",{className:"flex justify-between",children:[s(Io,{}),s(Lo,{})]})]})})}const tn=Ie({name:"public",initialState:{theme:"light",isFullscreen:!1,isRefresh:!1},reducers:{setThemeValue:(e,t)=>{e.theme=t.payload},setFullscreen:(e,t)=>{e.isFullscreen=t.payload},setRefresh:(e,t)=>{e.isRefresh=t.payload}}}),{setThemeValue:We,setFullscreen:gt,setRefresh:yt}=tn.actions,Oo=tn.reducer;function Ko(e){return L.post("/login",e)}function Ho(e){return L.post("/update-password",e)}const nn=Ie({name:"user",initialState:{permissions:[],userInfo:{id:0,username:"",email:"",phone:""}},reducers:{setUserInfo:(e,t)=>{e.userInfo=t.payload},setPermissions:(e,t)=>{e.permissions=t.payload},clearInfo:e=>{e.userInfo={id:0,username:"",email:"",phone:""}}}}),{setUserInfo:sn,setPermissions:qe,clearInfo:jo}=nn.actions,Uo=nn.reducer,on=e=>{const t=[];for(let n=0;n<e.length;n++){const{id:o,operation:r}=e[n];t.push(`/${o}`);for(let i=0;i<r.length;i++)t.push(`/${o}/${r[i]}`)}return t},G=(e,t)=>!t||t.length===0?!1:t.includes(e),rn="/assets/svg/logo-63a26457.svg";function an(){se("\u767B\u5F55");const e=ne(),t=Z(),[n,o]=Me(),[r,i]=l.exports.useState(!1),a=v(d=>d.user.permissions),c=localStorage.getItem(Ce)||"light";return l.exports.useEffect(()=>{c||localStorage.setItem(Ce,"light"),c==="dark"&&(document.body.className="theme-dark"),t(We(c==="dark"?"dark":"light"))},[c]),l.exports.useEffect(()=>{if(n()){const d=ye(X,a);e(d)}},[]),s(K,{children:s("div",{className:`
        ${c==="dark"?"bg-black text-white":"bg-light-400"}
        w-screen
        h-screen
        relative
      `,children:x("div",{className:`
          w-300px
          h-290px
          p-30px
          rounded-5px
          ${c==="dark"?"bg-black bg-dark-200":"bg-white"}
          box-border
          absolute
          left-1/2
          top-1/2
          -translate-x-1/2
          -translate-y-1/2
        `,children:[x("div",{className:"pb-30px pt-10px flex items-center justify-center",children:[s("img",{className:"mr-2 object-contain",width:"30",height:"30",src:rn,alt:"LOGO"}),s("span",{className:"text-xl font-bold tracking-2px",children:"\u7CFB\u7EDF\u767B\u5F55"})]}),x(V,{name:"horizontal_login",autoComplete:"on",onFinish:async d=>{try{i(!0);const{data:p}=await Ko(d),{data:{token:h,user:b,permissions:y}}=p;if(!(y!=null&&y.length)||!h)return U.error({content:"\u7528\u6237\u6682\u65E0\u6743\u9650\u767B\u5F55",key:"permissions"});const g=on(y),F=ye(X,g);o(h),t(sn(b)),t(qe(g)),e(F)}finally{i(!1)}},onFinishFailed:d=>{console.error("\u9519\u8BEF\u4FE1\u606F:",d)},initialValues:{username:"admin",password:"admin123456"},children:[s(V.Item,{name:"username",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}],children:s(re,{"allow-clear":"true",placeholder:"\u7528\u6237\u540D","data-test":"username",autoComplete:"username",addonBefore:s(Xn,{className:"change"})})}),s(V.Item,{name:"password",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801"},Xs],children:s(re.Password,{placeholder:"\u5BC6\u7801",autoComplete:"current-password",addonBefore:s(es,{className:"change"})})}),s(V.Item,{children:s(J,{type:"primary",htmlType:"submit",className:"w-full mt-5px rounded-5px tracking-2px",loading:r,children:"\u767B\u5F55"})})]})]})})})}function Vo(e){return x(K,{children:[s(re,{...e,placeholder:"\u8BF7\u8F93\u5165"}),s("div",{className:"mb-5px text-red",children:"\u6CE8\uFF1A\u6807\u9898\u4E0D\u80FD\u542B\u6709\u654F\u611F\u4FE1\u606F!"})]})}const Yo=[{label:"\u7528\u6237\u540D",name:"username",component:"Input"},{label:"\u6807\u9898",name:"title",component:"Input"}],Go=e=>[{title:"ID",dataIndex:"id",width:400,fixed:"left"},{title:"\u7528\u6237\u540D",dataIndex:"username",width:400,fixed:"left"},{title:"\u6807\u9898",dataIndex:"title",width:400},{title:"\u5185\u5BB9",dataIndex:"content",width:400},{title:"\u64CD\u4F5C",dataIndex:"operate",width:200,fixed:"right",render:(t,n)=>e(t,n)}],Wo=[{label:"\u7528\u6237\u540D",name:"username",rules:le,component:"Input"},{label:"\u5D4C\u5957\u6570\u636E",name:["user","name","test"],rules:le,component:"Input"},{label:"\u6807\u9898",name:"title",rules:le,component:"customize",render:Vo},{label:"\u5185\u5BB9",name:"content",component:"Editor"}];function nt(e){const{isLoading:t}=e,n={...e};return delete n.isLoading,s(J,{type:"primary",...n,loading:!!t,children:"\u7F16\u8F91"})}const{confirm:qo}=Re;function st(e){const{isLoading:t,handleDelete:n}=e,o={...e};return delete o.isLoading,delete o.handleDelete,s(J,{danger:!0,type:"primary",...o,loading:!!t,onClick:()=>{qo({title:"\u63D0\u793A",icon:s(It,{}),content:"\u786E\u5B9A\u8981\u5220\u9664\u5417?",okText:"\u786E\u8BA4",okType:"danger",cancelText:"\u53D6\u6D88",onOk(){n()}})},children:"\u5220\u9664"})}function Jo(e){return L.get("/content/article/index",{params:e})}function Zo(e){return L.get(`/content/article/${e}`)}function Qo(e){return L.post("/content/article",e)}function Xo(e,t){return L.put(`/content/article/${e}`,t)}function er(e){return L.delete(`/content/article/${e}`)}function tr(){const e=window.innerHeight,t=document.getElementById("header"),n=t==null?void 0:t.offsetHeight,o=document.getElementById("searches"),r=o==null?void 0:o.offsetHeight,i=document.getElementById("pagination"),a=i==null?void 0:i.offsetHeight;let c=e||0;return n&&c>0&&(c-=n),r&&c>0&&(c-=r),a&&c>0&&(c-=a),c>0?c-65:450}function ln(e){switch(e){case"large":return 54;case"middle":return 46;default:return 38}}function xt(e){for(let t=0;t<e.length;t++){const n=e[t];n.ellipsis===void 0&&(n.ellipsis=!0)}return e}function bt(e){const{onResize:t,width:n,...o}=e;return n?s(As,{width:n,height:0,handle:s("span",{className:"react-resizable-handle",onClick:r=>{r.stopPropagation()}}),onResize:t,draggableOpts:{enableUserSelectHack:!1},children:s("th",{...o})}):s("th",{...o})}function nr(e,t){switch(t.type){case"changeScroll":let n=t.curScrollTop||0,o=t.scrollHeight||0;const r=t.tableScrollY||0;return o<=0&&(o=0),o!==0&&r===e.tableScrollY&&(o=e.scrollHeight),e.scrollHeight&&n>e.scrollHeight&&(n=e.scrollHeight),{...e,curScrollTop:n,scrollHeight:o,tableScrollY:r};case"reset":return{...e,curScrollTop:0,scrollHeight:0};default:throw new Error("\u8868\u683C\uFF1A\u672A\u77E5\u9519\u8BEF\u7C7B\u578B!")}}function Ct(e){return typeof e=="number"&&isFinite(e)}const cn=l.exports.createContext({dispatch:void 0,renderLen:1,start:0,offsetStart:0,rowHeight:46,totalLen:0});function sr(e){const{children:t,...n}=e,{renderLen:o,start:r,offsetStart:i}=l.exports.useContext(cn);let a=null;if(t&&t!==null){const c=t==null?void 0:t[1];Array.isArray(c)&&c.length?a=[t==null?void 0:t[0],c.slice(r,r+o).map(u=>Array.isArray(u)?u[0]:u)]:a=t}return s("tbody",{...n,style:{transform:`translateY(-${i}px)`},children:a})}const un={rowHeight:38,curScrollTop:0,scrollHeight:0,tableScrollY:0};let Je=0;function or(e){var w,D,N,A,S,E;const{style:t,children:n,...o}=e,{width:r,...i}=t,[a,c]=l.exports.useReducer(nr,un),u=l.exports.useRef(null),m=l.exports.useRef(null),[d,p]=l.exports.useState((A=(N=(D=(w=n==null?void 0:n[1])==null?void 0:w.props)==null?void 0:D.data)==null?void 0:N.length)!=null?A:0);l.exports.useEffect(()=>{var f,B,T,Q,P,k;Ct((T=(B=(f=n==null?void 0:n[1])==null?void 0:f.props)==null?void 0:B.data)==null?void 0:T.length)&&p((k=(P=(Q=n==null?void 0:n[1])==null?void 0:Q.props)==null?void 0:P.data)==null?void 0:k.length)},[n]);const h=l.exports.useMemo(()=>{let f="auto";return a.rowHeight&&d&&(f=a.rowHeight*d),f},[a.rowHeight,d]);let b=0;typeof Je=="string"?b=(E=(S=u.current)==null?void 0:S.parentNode)==null?void 0:E.offsetHeight:b=Je,Ct(h)&&h<b&&(b=h),b<=0&&(b=0);const y=l.exports.useMemo(()=>{let f=1;if(a.rowHeight&&d&&b)if(b<=0)f=0;else{const B=(b/a.rowHeight|0)+5;f=B>d?d:B}return f},[a.rowHeight,d,b]);let g=a.rowHeight?a.curScrollTop/a.rowHeight|0:0,F=a.rowHeight?a.curScrollTop%a.rowHeight:0;a.curScrollTop&&a.rowHeight&&a.curScrollTop>a.rowHeight?g>d-y?F=0:g>1&&(g=g-1,F+=a.rowHeight):g=0,l.exports.useEffect(()=>{var B;const f=(B=u.current)==null?void 0:B.parentNode;f&&(f.scrollTop=0),c({type:"reset"})},[d]);const C=Wn(f=>{var T,Q,P;const B=(Q=(T=f==null?void 0:f.target)==null?void 0:T.scrollTop)!=null?Q:0;if(B!==a.curScrollTop){const k=((P=f==null?void 0:f.target)==null?void 0:P.scrollHeight)-b;c({type:"changeScroll",curScrollTop:B,scrollHeight:k,tableScrollY:b})}},{wait:60});return l.exports.useEffect(()=>{var B;const f=(B=u==null?void 0:u.current)==null?void 0:B.parentNode;return f&&f.addEventListener("scroll",T=>C.run(T)),()=>{f.removeEventListener("scroll",T=>C.run(T))}},[u,a.curScrollTop,b,a.scrollHeight,C]),s("div",{className:"virtualTable",ref:u,style:{width:"100%",position:"relative",height:h,boxSizing:"border-box",paddingTop:a.curScrollTop},children:s(cn.Provider,{value:{dispatch:c,rowHeight:a.rowHeight,start:g,offsetStart:F,renderLen:y,totalLen:d},children:s("table",{...o,ref:m,style:{...i,width:r,position:"relative"},children:n})})})}function rr(e){const{height:t,size:n}=e;return Je=t,un.rowHeight=ln(n),{table:or,body:{wrapper:sr}}}function ar(e){const{loading:t,isZebra:n,isBordered:o,isVirtual:r,scrollX:i,scrollY:a,rowClassName:c,size:u}=e,[m,d]=l.exports.useState(xt(e.columns));l.exports.useEffect(()=>{d(xt(e.columns))},[e.columns]);const p=tr(),h=D=>(N,{size:A})=>{const S=[...m];S[D]={...S[D],width:A.width},d(S)},b=m.map((D,N)=>({...D,onHeaderCell:A=>({width:A.width,onResize:h(N)})})),y=rr({height:p,size:u||"small"}),g=l.exports.useMemo(()=>({header:{cell:bt},body:{wrapper:y.body.wrapper},table:y.table}),[y]),F=r===!0?g:{header:{cell:bt}},C={...e.scroll,x:i!=null?i:"max-content",y:a||p||void 0};return x("div",{id:"table",className:`
        overflow-auto
        ${o!==!1?"bordered":""}
        ${n!==!1?"zebra":""}
      `,children:[!p&&s(At,{}),p&&s(_n,{size:"small",rowKey:"id",pagination:!1,loading:t,...e,rowClassName:(D,N,A)=>{const S=typeof c=="string"?c:c==null?void 0:c(D,N,A),E=`!h-${ln(u)}px`;return`${S||""} ${E}`},style:{borderRadius:10,borderRight:"1px solid rgba(0, 0, 0, .05)",borderBottom:"1px solid rgba(0, 0, 0, .05)",overflow:"auto",...e.style},bordered:o!==!1,scroll:C,components:F,columns:b})]})}const Oe=l.exports.memo(ar);function ir(e){return s("div",{id:"pagination",className:`
        w-full
        flex
        items-center
        justify-end
        min-h-40px
        box-border
        z-999
      `,children:s(Mn,{showSizeChanger:!0,showQuickJumper:!0,size:"small",showTotal:n=>`\u5171 ${n||0} \u6761\u6570\u636E`,...e})})}const ot=l.exports.memo(ir),Ne={page:1,pageSize:20};function lr(){se("\u6587\u7AE0\u7BA1\u7406");const e=ne(),t=l.exports.useRef(null),[n,o]=l.exports.useState(!1),[r,i]=l.exports.useState(Ne.page),[a,c]=l.exports.useState(Ne.pageSize),[u,m]=l.exports.useState(0),[d,p]=l.exports.useState([]),h=v(E=>E.user.permissions),b="/content/article",y={page:G(`${b}/index`,h),create:G(`${b}/create`,h),update:G(`${b}/update`,h),delete:G(`${b}/delete`,h)},g=E=>{i(1),F({page:1,pageSize:a,...E})},F=l.exports.useCallback(async E=>{try{o(!0);const{data:{data:f}}=await Jo(E),{items:B,total:T}=f;m(T),p(B)}finally{o(!1)}},[]);l.exports.useEffect(()=>{y.page&&F({...Ne})},[F,y.page]);const C=()=>{e("/content/article/option?type=create")},w=E=>{e(`/content/article/option?type=update&id=${E}`)},D=()=>{var B;const f={...((B=t.current)==null?void 0:B.getFieldsValue())||{},page:r,pageSize:a};F(f)},N=async E=>{try{o(!0);const{data:f}=await er(E);(f==null?void 0:f.code)===200&&(U.success((f==null?void 0:f.message)||"\u5220\u9664\u6210\u529F"),D())}finally{o(!1)}},A=(E,f)=>{var T;i(E),c(f);const B=(T=t.current)==null?void 0:T.getFieldsValue();F({...B,page:E,pageSize:f})},S=(E,f)=>x(K,{children:[y.update===!0&&s(nt,{className:"mr-5px",isLoading:n,onClick:()=>w(f.id)}),y.delete===!0&&s(st,{className:"mr-5px",isLoading:n,handleDelete:()=>N(f.id)})]});return s(ve,{isPermission:y.page,children:x(K,{children:[s(ze,{formRef:t,list:Yo,data:Ne,isLoading:n,isCreate:y.create,onCreate:C,handleFinish:g}),s(Oe,{loading:n,columns:Go(S),dataSource:d}),s(ot,{disabled:n,current:r,pageSize:a,total:u,onChange:A})]})})}const dn=Ie({name:"menu",initialState:{isPhone:!1,isCollapsed:!1,selectedKeys:"dashboard",openKeys:["Dashboard"]},reducers:{toggleCollapsed:(e,t)=>{e.isCollapsed=!!t.payload},togglePhone:(e,t)=>{e.isPhone=!!t.payload},setSelectedKeys:(e,t)=>{e.selectedKeys=t.payload},setOpenKeys:(e,t)=>{e.openKeys=t.payload}}}),{toggleCollapsed:rt,togglePhone:cr,setSelectedKeys:mn,setOpenKeys:Ee}=dn.actions,ur=dn.reducer;function at(e){const{list:t,data:n,children:o,labelCol:r,wrapperCol:i,formRef:a,handleFinish:c}=e,[u]=V.useForm();return l.exports.useImperativeHandle(a,()=>({getFieldValue:p=>u.getFieldValue(p)||{},getFieldsValue:()=>u.getFieldsValue()||{},handleReset:()=>{u.resetFields()},handleSubmit:()=>{u.submit()}})),l.exports.useEffect(()=>{u.resetFields(),u.setFieldsValue(e.data)},[u,e.data]),s("div",{children:x(V,{name:"basic",form:u,labelCol:r||{span:6},wrapperCol:i||{span:15},initialValues:n,onFinish:p=>{if(c){const h=Zt(p,t);c==null||c(h)}},onFinishFailed:p=>{console.warn("\u8868\u5355\u9519\u8BEF:",p)},autoComplete:"off",children:[t==null?void 0:t.map(p=>s(V.Item,{label:p.label,name:p.name,rules:p.hidden?[]:p.rules,className:p.hidden?"!hidden":"",valuePropName:Ut(p.component),children:Xt(p)},`${p.name}`)),o]})})}function dr(e){const{goBack:t,handleSubmit:n,isLoading:o,children:r}=e;return x("div",{className:`
      bg
      fixed
      flex
      justify-end
      left-0
      right-0
      bottom-0
      py-5px
      px-30px
      box-border
      shadow
      shadow-gray-500
    `,children:[r,s(J,{className:"mr-10px",danger:!0,onClick:t,children:"\u8FD4\u56DE"}),s(J,{loading:!!o,type:"primary",onClick:n,children:"\u63D0\u4EA4"})]})}const wt={content:"<h4>\u521D\u59CB\u5316\u5185\u5BB9</h4>"},Ae="/content/article";function mr(){const{refresh:e}=me.exports.useAliveController(),{pathname:t,search:n}=De(),o=t+n,r=go(n,"id"),i=l.exports.useRef(null),a=Z(),[c,u]=l.exports.useState(!1),[m,d]=l.exports.useState(""),[p,h]=l.exports.useState(wt),b=v(P=>P.user.permissions),y=v(P=>P.menu.isCollapsed),g=v(P=>P.menu.isPhone),F="\u6587\u7AE0\u7BA1\u7406",C=`${Se}${F}`,w=`${et(r,F)}`;se(r?w:C);const D="/content/article",N={create:G(`${D}/create`,b),update:G(`${D}/update`,b)};l.exports.useEffect(()=>{const P=Le(Ae);!g&&!y&&(a(Ee(P)),a(mn(Ae)))},[]);const A=l.exports.useCallback((P=t)=>{if(P==="/")return;const k=r?w:C,H={label:k,key:o,nav:["\u5185\u5BB9\u7BA1\u7406","\u6587\u7AE0\u7BA1\u7406",k]};a(ie(H.key)),a(Fe(H.nav)),a(pe(H))},[r,t,n]);l.exports.useEffect(()=>{A()},[A]),me.exports.useActivate(()=>{A()}),l.exports.useEffect(()=>{r?E(r):S()},[]);const S=()=>{d(""),h(wt)},E=async P=>{try{d(P),u(!0);const{data:{data:k}}=await Zo(P);h(k)}finally{u(!1)}},f=()=>{var P;(P=i.current)==null||P.handleSubmit()},B=()=>{var P;(P=i.current)==null||P.handleReset(),a(Ks({key:o,nextPath:Ae}))},T=()=>{e(Ae),B()},Q=async P=>{var k;try{u(!0);const H=()=>m?Xo(m,P):Qo(P),{data:_}=await H();U.success((_==null?void 0:_.message)||"\u64CD\u4F5C\u6210\u529F"),(k=i.current)==null||k.handleReset(),T()}finally{u(!1)}};return s(ve,{isPermission:r?N.update:N.creae,children:x(K,{children:[s("div",{className:"mb-50px",children:s(St,{spinning:c,children:s(at,{formRef:i,list:Wo,data:p,labelCol:{span:5},handleFinish:Q})})}),s(dr,{isLoading:c,goBack:B,handleSubmit:f})]})})}function pn(){const e=l.exports.useRef(null),t=l.exports.useCallback(o=>new Promise((r,i)=>{var a;try{let c=o;if(c||(c=(a=e.current)==null?void 0:a.value),!c){i("\u590D\u5236\u7684\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A");return}if(typeof c!="string"&&typeof c!="number"){i("\u590D\u5236\u7684\u5185\u5BB9\u5FC5\u987B\u662F\u5B57\u7B26\u4E32\u6216\u6570\u5B57");return}navigator.clipboard.writeText(c.toString()).then(()=>{r(c)}).catch(u=>{i(u)})}catch(c){i(c)}}),[]),n=l.exports.useCallback(()=>navigator.clipboard.readText(),[]);return[e,t,n]}const{Search:pr}=re;function hr(e){const[,t]=pn();return s(pr,{...e,placeholder:"\u8BF7\u8F93\u5165",enterButton:"\u590D\u5236",onSearch:o=>{if(!o)return U.warning({content:"\u8BF7\u8F93\u5165\u590D\u5236\u5185\u5BB9",key:"copy"});try{t(o),U.success({content:"\u590D\u5236\u6210\u529F",key:"copy"})}catch{U.warning({content:"\u590D\u5236\u5931\u8D25",key:"copy"})}}})}function fr(e){const{text:t,value:n}=e,[,o]=pn();return s(J,{...e,icon:s(R,{icon:"ant-design:copy-outlined"}),onClick:()=>{try{o(n),U.success({content:"\u590D\u5236\u6210\u529F",key:"copy"})}catch{U.warning({content:"\u590D\u5236\u5931\u8D25",key:"copy"})}},children:t})}function gr(){return se("\u526A\u5207\u677F"),x("div",{className:"max-w-350px m-30px",children:[s("h1",{children:"\u526A\u5207\u677F\uFF1A"}),s(hr,{className:"w-350px"}),x("div",{className:"flex items-center mt-50px",children:[s("span",{className:"text-lg",children:"\u5C06\u201Cadmin\u201D\u4F20\u5165\u590D\u5236\u6309\u94AE\u4E2D\uFF1A"}),s(fr,{text:"\u590D\u5236",value:"admin"})]})]})}function yr(){se("\u5BCC\u6587\u672C");const[e,t]=l.exports.useState("<p>hello</p>");return s("div",{className:"m-30px",children:s(Qt,{value:e,onChange:n=>t(n)})})}function xr(){const e=v(n=>n.public.theme),t=({index:n,style:o})=>x("div",{className:`
        text-center
        ${n%2?"bg-#f8f8f0":""}
        ${e==="dark"&&n%2?"!bg-#141414":""}
      `,style:o,children:["Row ",n+1]});return s(Ts,{children:({height:n,width:o})=>s(Ps,{height:n,itemCount:1e4,itemSize:35,width:o,children:t})})}function br(){const e=[{title:"ID",dataIndex:"id",width:200},{title:"\u540D\u79F0",dataIndex:"name",width:200},{title:"\u7535\u8BDD",dataIndex:"phone",width:200},{title:"\u6570\u91CF",dataIndex:"number",width:200}],t=new Array(0).fill({});for(let n=0;n<1e4;n++){const o=n+1;t.push({id:o,name:"name"+o,phone:o*13,number:o*3})}return s(Oe,{isVirtual:!0,columns:e,dataSource:t,scrollY:500})}function Cr(){return se("\u865A\u62DF\u6EDA\u52A8"),x("div",{className:"flex px-30px h-full",children:[x("div",{className:"flex flex-col mr-30px",children:[s("h2",{children:"\u865A\u62DF\u6EDA\u52A8\u5217\u8868(10000\u6761)\uFF1A"}),s("div",{className:"h-500px w-300px border border-cool-gray-100",children:s(xr,{})})]}),x("div",{children:[s("h2",{children:"\u865A\u62DF\u6EDA\u52A8\u8868\u683C(10000\u6761)\uFF1A"}),s(br,{})]})]})}function wr(){return[n=>{const{content:o,height:r,width:i,rotate:a,color:c,fontSize:u,opacity:m}=n;if(document.getElementById("south_watermark")!==null)return;const d=Math.floor(document.body.clientWidth/i)*2;let p="";for(let F=0;F<d;F++){const C=`
        display: inline-block;
        line-height: ${r}px;
        width: ${i}px;
        text-align: center;
        transform:rotate( ${a}deg);
        color: ${c};
        font-size: ${u}px;
        opacity: ${m};
        `;p+=`
        <span style="${C}">
          ${o}
        </span>
      `}const h=document.createElement("div");h.innerHTML=p;const b=Math.floor(document.body.clientHeight/r)*2||4;let y="";for(let F=0;F<b;F++)y+=`<div style="white-space: nowrap;">${h.innerHTML}</div>`;const g=document.createElement("div");g.innerHTML=y,g.id="south_watermark",g.style.position="fixed",g.style.top="0px",g.style.left="-100px",g.style.zIndex="999999",g.style.pointerEvents="none",g.style.userSelect="none",document.body.appendChild(g)},()=>{if(document.getElementById("south_watermark")!==null&&document.getElementById("south_watermark")!==null){const n=document.getElementById("south_watermark");document.body.removeChild(n)}}]}function Fr(){se("\u6C34\u5370");const[e,t]=wr();return x("div",{className:"p-30px",children:[s(J,{onClick:()=>{e({content:"\u8FD9\u662F\u6C34\u5370",height:300,width:350,rotate:-20,color:"#000",fontSize:30,opacity:.07})},children:"\u6253\u5F00\u6C34\u5370"}),s(J,{danger:!0,onClick:()=>{t()},children:"\u9690\u85CF\u6C34\u5370"})]})}function kr(){return se("\u4E09\u5C42\u7ED3\u6784"),s("div",{className:"m-30px",children:"\u4E09\u5C42\u7ED3\u6784"})}const Sr=[{label:"\u72B6\u6001",name:"status",component:"Select",componentProps:{options:tt}},{label:"\u6A21\u5757",name:"module",wrapperCol:170,component:"Select",componentProps:{options:jt}},{label:"\u63A7\u5236\u5668",name:"controller",component:"Input"}],Er=e=>[{title:"ID",dataIndex:"id",width:200},{title:"\u540D\u79F0",dataIndex:"name",width:200},{title:"\u72B6\u6001",dataIndex:"status",width:200,render:t=>s("span",{children:fo(t,tt)})},{title:"\u6A21\u5757",dataIndex:"module",width:200},{title:"\u63A7\u5236\u5668",dataIndex:"controller",width:200},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"created_at",width:200},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updated_at",width:200},{title:"\u64CD\u4F5C",dataIndex:"operate",width:200,fixed:"right",render:(t,n)=>e(t,n)}],Dr=e=>[{label:"\u540D\u79F0",name:"name",rules:le,component:"Input"},{label:"\u72B6\u6001",name:"status",rules:Ve,component:"Select",componentProps:{options:tt}},{label:"\u6A21\u5757",name:"module",rules:Ve,component:"Select",componentProps:{options:jt}},{label:"\u63A7\u5236\u5668",name:"controller",rules:le,component:"Input"},{label:"\u521B\u5EFA\u83DC\u5355",name:"actions",hidden:!!e,component:"CheckboxGroup",componentProps:{options:mo}}];function vr(e){return L.get("/authority/menu/index",{params:e})}function Br(e){return L.get(`/authority/menu/${e}`)}function Nr(e){return L.post("/authority/menu",e)}function Ar(e,t){return L.put(`/authority/menu/${e}`,t)}function Pr(e){return L.delete(`/authority/menu/${e}`)}function Tr(e){return L.get("/authority/menu/tree",{params:e})}function $r(e){return L.put("/authority/menu/authorize/save",e)}function it(e){const{width:t,children:n,wrapClassName:o,onCancel:r}=e,[i,a]=l.exports.useState(!0),[c,u]=l.exports.useState(!1),[m,d]=l.exports.useState({left:0,top:0,bottom:0,right:0}),p=l.exports.useRef(null),h=(w,D)=>{var E;const{clientWidth:N,clientHeight:A}=window.document.documentElement,S=(E=p.current)==null?void 0:E.getBoundingClientRect();!S||d({left:-S.left+D.x,right:N-(S.right-D.x),top:-S.top+D.y,bottom:A-(S.bottom-D.y)})},b=()=>{i&&a(!1)},y=()=>{u(w=>(w||d({left:0,top:0,bottom:0,right:0}),!w))},g=()=>x("div",{className:"flex items-center justify-end absolute right-15px",children:[s(de,{className:"hover:text-#404040",placement:"bottom",title:c?"\u9000\u51FA\u6700\u5927\u5316":"\u6700\u5927\u5316",children:s("div",{className:"p-10px mt-3px cursor-pointer",onClick:y,children:s(R,{className:"text-lg",icon:c?"ant-design:fullscreen-exit-outlined":"ant-design:fullscreen-outlined"})})}),s(de,{placement:"bottom",title:"\u5173\u95ED",children:s("div",{className:"p-10px mt-3px cursor-pointer",onClick:w=>r==null?void 0:r(w),children:s(R,{className:"text-lg",icon:"ant-design:close-outlined"})})})]}),F=x("div",{className:"w-full cursor-move flex items-center justify-between",onMouseOver:b,onMouseOut:()=>a(!0),children:[s("span",{children:e.title||""}),g()]});return s(Re,{destroyOnClose:!0,closable:!1,maskClosable:!1,modalRender:w=>s($s.exports,{disabled:i,onStart:h,bounds:c?void 0:m,position:c?{x:0,y:0}:void 0,children:s("div",{ref:p,children:w})}),...e,title:F,wrapClassName:c?"full-modal":o||"",width:c?"100%":t||520,children:n})}const Pe={page:1,pageSize:20},Ft={status:1};function Ir(){se("\u83DC\u5355\u7BA1\u7406");const e=l.exports.useRef(null),t=l.exports.useRef(null),[n,o]=l.exports.useState(!1),[r,i]=l.exports.useState(!1),[a,c]=l.exports.useState(!1),[u,m]=l.exports.useState(Se),[d,p]=l.exports.useState(""),[h,b]=l.exports.useState(Ft),[y,g]=l.exports.useState(Pe.page),[F,C]=l.exports.useState(Pe.pageSize),[w,D]=l.exports.useState(0),[N,A]=l.exports.useState([]),S=v(M=>M.user.permissions),E="/authority/menu",f={page:G(`${E}/index`,S),create:G(`${E}/create`,S),update:G(`${E}/update`,S),delete:G(`${E}/delete`,S)},B=M=>{g(1),T({page:1,pageSize:F,...M})},T=l.exports.useCallback(async M=>{try{i(!0);const{data:{data:O}}=await vr(M),{items:ee,total:he}=O;D(he),A(ee)}finally{i(!1)}},[]);l.exports.useEffect(()=>{f.page&&T({...Pe})},[T,f.page]);const Q=()=>{o(!0),m(Se),p(""),b(Ft)},P=async M=>{try{o(!0),m(et(M)),p(M),c(!0);const{data:{data:O}}=await Br(M);b(O)}finally{c(!1)}},k=()=>{var M;(M=t.current)==null||M.handleSubmit()},H=()=>{o(!1)},_=()=>{var ee;const O={...((ee=e.current)==null?void 0:ee.getFieldsValue())||{},page:y,pageSize:F};T(O)},te=async M=>{try{c(!0);const O=()=>d?Ar(d,M):Nr(M),{data:ee}=await O();U.success((ee==null?void 0:ee.message)||"\u64CD\u4F5C\u6210\u529F"),o(!1),_()}finally{c(!1)}},Ke=async M=>{try{i(!0);const{data:O}=await Pr(M);(O==null?void 0:O.code)===200&&(U.success((O==null?void 0:O.message)||"\u5220\u9664\u6210\u529F"),_())}finally{i(!1)}},ce=l.exports.useCallback((M,O)=>{var he;g(M),C(O);const ee=(he=e.current)==null?void 0:he.getFieldsValue();T({...ee,page:M,pageSize:O})},[T]),He=(M,O)=>x(K,{children:[f.update===!0&&s(nt,{className:"mr-5px",isLoading:r,onClick:()=>P(O.id)}),f.delete===!0&&s(st,{className:"mr-5px",isLoading:r,handleDelete:()=>Ke(O.id)})]});return s(ve,{isPermission:f.page,children:x(K,{children:[s(ze,{formRef:e,list:Sr,data:Pe,isLoading:r,isCreate:f.create,onCreate:Q,handleFinish:B}),s(Oe,{loading:r,columns:Er(He),dataSource:N}),s(ot,{disabled:r,current:y,pageSize:F,total:w,onChange:ce}),s(it,{width:600,title:u,open:n,confirmLoading:a,onOk:k,onCancel:H,children:s(at,{formRef:t,list:Dr(d),data:h,labelCol:{span:4},wrapperCol:{span:19},handleFinish:te})})]})})}const Rr=[{label:"\u5E74\u9F84",name:"age",component:"InputNumber"},{label:"\u540D\u5B57",name:"keyword",component:"Input"}],Lr=e=>[{title:"ID",dataIndex:"id",width:400,fixed:"left"},{title:"\u7528\u6237\u540D",dataIndex:"username",width:400,fixed:"left"},{title:"\u59D3\u540D",dataIndex:"real_name",width:400},{title:"\u89D2\u8272",dataIndex:"roles_name",width:400},{title:"\u624B\u673A\u53F7",dataIndex:"phone",width:400},{title:"\u72B6\u6001",dataIndex:"status",width:200,render:t=>s("span",{children:t?"\u5F00\u542F":"\u5173\u95ED"})},{title:"\u64CD\u4F5C",dataIndex:"operate",width:200,fixed:"right",render:(t,n)=>e(t,n)}],_r=[{label:"\u7528\u6237\u540D",name:"username",rules:le,component:"Input"},{label:"\u59D3\u540D",name:"real_name",rules:le,component:"Input"},{label:"\u89D2\u8272",name:"roles_name",rules:le,component:"Input"},{label:"\u72B6\u6001",name:"status",rules:Ve,component:"Select",componentProps:{options:uo}}];function Mr(e){return L.get("/authority/user/index",{params:e})}function zr(e){return L.get(`/authority/user/${e}`)}function Or(e){return L.post("/authority/user",e)}function Kr(e,t){return L.put(`/authority/user/${e}`,t)}function Hr(e){return L.delete(`/authority/user/${e}`)}function jr(e){const{title:t,isVisible:n,treeData:o,checkedKeys:r,onClose:i,onSubmit:a}=e,[c,u]=l.exports.useState(r);return s(zn,{visible:n,title:t||"\u6743\u9650\u914D\u7F6E",placement:"right",extra:s(J,{type:"primary",onClick:()=>{a(c)},children:"\u63D0\u4EA4"}),onClose:i,children:s(On,{checkable:!0,checkedKeys:c,treeData:o,onCheck:h=>{u(h)}})})}const Te={page:1,pageSize:20},kt={status:1};function Ur(){se("\u7528\u6237\u7BA1\u7406");const e=l.exports.useRef(null),t=l.exports.useRef(null),[n,o]=l.exports.useState(!1),[r,i]=l.exports.useState(!1),[a,c]=l.exports.useState(!1),[u,m]=l.exports.useState(Se),[d,p]=l.exports.useState(""),[h,b]=l.exports.useState(kt),[y,g]=l.exports.useState(Te.page),[F,C]=l.exports.useState(Te.pageSize),[w,D]=l.exports.useState(0),[N,A]=l.exports.useState([]),[S,E]=l.exports.useState(""),[f,B]=l.exports.useState(!1),[T,Q]=l.exports.useState([]),[P,k]=l.exports.useState([]),H=v($=>$.user.permissions),_="/authority/user",te={page:G(`${_}/index`,H),create:G(`${_}/create`,H),update:G(`${_}/update`,H),delete:G(`${_}/delete`,H),permission:G(`${_}/authority`,H)},Ke=$=>{g(1),ce({page:1,pageSize:F,...$})},ce=l.exports.useCallback(async $=>{try{o(!0);const{data:{data:I}}=await Mr($),{items:W,total:fe}=I;D(fe),A(W)}finally{o(!1)}},[]);l.exports.useEffect(()=>{te.page&&ce({...Te})},[ce,te.page]);const He=async $=>{try{o(!0);const I={userId:$},{data:W}=await Tr(I),{data:{defaultCheckedKeys:fe,treeData:wn}}=W;E($),k(wn),Q(Object.values(fe)),B(!0)}finally{o(!1)}},M=()=>{B(!1)},O=async $=>{try{o(!0);const I={menuIds:$,userId:S},{data:W}=await $r(I);U.success(W.message||"\u6388\u6743\u6210\u529F"),B(!1)}finally{o(!1)}},ee=()=>{c(!0),m(Se),p(""),b(kt)},he=async $=>{try{c(!0),m(et($)),p($),i(!0);const{data:{data:I}}=await zr($);b(I)}finally{i(!1)}},fn=()=>{var $;($=t.current)==null||$.handleSubmit()},gn=()=>{c(!1)},lt=()=>{var W;const I={...((W=e.current)==null?void 0:W.getFieldsValue())||{},page:y,pageSize:F};ce(I)},yn=async $=>{try{i(!0);const I=()=>d?Kr(d,$):Or($),{data:W}=await I();U.success((W==null?void 0:W.message)||"\u64CD\u4F5C\u6210\u529F"),c(!1),lt()}finally{i(!1)}},xn=async $=>{try{o(!0);const{data:I}=await Hr($);(I==null?void 0:I.code)===200&&(U.success((I==null?void 0:I.message)||"\u5220\u9664\u6210\u529F"),lt())}finally{o(!1)}},bn=($,I)=>{var fe;g($),C(I);const W=(fe=e.current)==null?void 0:fe.getFieldsValue();ce({...W,page:$,pageSize:I})},Cn=($,I)=>x(K,{children:[te.permission===!0&&s(J,{className:"mr-2",loading:n,onClick:()=>He(I.id),children:"\u6743\u9650"}),te.update===!0&&s(nt,{className:"mr-5px",isLoading:n,onClick:()=>he(I.id)}),te.delete===!0&&s(st,{className:"mr-5px",isLoading:n,handleDelete:()=>xn(I.id)})]});return s(ve,{isPermission:te.page,children:x(K,{children:[s(ze,{formRef:e,list:Rr,data:Te,isLoading:n,isCreate:te.create,onCreate:ee,handleFinish:Ke}),s(Oe,{loading:n,columns:Lr(Cn),dataSource:N}),s(ot,{disabled:n,current:y,pageSize:F,total:w,onChange:bn}),s(it,{title:u,open:a,confirmLoading:r,onOk:fn,onCancel:gn,children:s(at,{formRef:t,list:_r,data:h,labelCol:{span:6},handleFinish:yn})}),s(jr,{isVisible:f,treeData:P,checkedKeys:T,onClose:M,onSubmit:O})]})})}const Vr=[{caseSensitive:!1,path:"403",element:q.createElement(Xe)},{caseSensitive:!1,path:"/",element:q.createElement(Js)},{caseSensitive:!1,path:"*",element:q.createElement(Zs)},{caseSensitive:!1,path:"dashboard",children:[{caseSensitive:!1,path:"",element:q.createElement(zo)}]},{caseSensitive:!1,path:"login",children:[{caseSensitive:!1,path:"",element:q.createElement(an)}]},{caseSensitive:!1,path:"content",children:[{caseSensitive:!1,path:"article",children:[{caseSensitive:!1,path:"",element:q.createElement(lr)},{caseSensitive:!1,path:"option",element:q.createElement(mr)}]}]},{caseSensitive:!1,path:"demo",children:[{caseSensitive:!1,path:"copy",children:[{caseSensitive:!1,path:"",element:q.createElement(gr)}]},{caseSensitive:!1,path:"editor",children:[{caseSensitive:!1,path:"",element:q.createElement(yr)}]},{caseSensitive:!1,path:"virtualScroll",children:[{caseSensitive:!1,path:"",element:q.createElement(Cr)}]},{caseSensitive:!1,path:"watermark",children:[{caseSensitive:!1,path:"",element:q.createElement(Fr)}]},{caseSensitive:!1,path:"level1",children:[{caseSensitive:!1,path:"level2",children:[{caseSensitive:!1,path:"level3",element:q.createElement(kr)}]}]}]},{caseSensitive:!1,path:"system",children:[{caseSensitive:!1,path:"menu",children:[{caseSensitive:!1,path:"",element:q.createElement(Ir)}]},{caseSensitive:!1,path:"user",children:[{caseSensitive:!1,path:"",element:q.createElement(Ur)}]}]}];function Yr(e){return L.get("/authority/user/refresh-permissions",{params:e})}const Gr="_header_11yja_1",Wr="_headerCloseMenu_11yja_12",qr="_headerDriver_11yja_15",Jr="_menu_11yja_18",Zr="_menuClose_11yja_26",Qr="_con_11yja_29",Xr="_conCloseMenu_11yja_36",ea="_conMaximize_11yja_39",ta="_headerNone_11yja_43",na="_none_11yja_47",sa="_menuNone_11yja_50",oa="_conPhone_11yja_54",ra="_headerPhone_11yja_57",aa="_leftDivide_11yja_60",Y={header:Gr,headerCloseMenu:Wr,headerDriver:qr,menu:Jr,menuClose:Zr,con:Qr,conCloseMenu:Xr,conMaximize:ea,headerNone:ta,none:na,menuNone:sa,conPhone:oa,headerPhone:ra,leftDivide:aa};function ia(){const e=ne(),{pathname:t}=De(),n=Z(),[o,r]=l.exports.useState([]),i=v(C=>C.menu.selectedKeys),a=v(C=>C.menu.openKeys),c=v(C=>C.tabs.isMaximize),u=v(C=>C.menu.isCollapsed),m=v(C=>C.menu.isPhone),d=v(C=>C.user.permissions);l.exports.useEffect(()=>{const C=Le(t);!m&&!u&&(n(Ee(C)),n(mn(t)))},[t]),l.exports.useEffect(()=>{if(d.length>0){const C=Lt(X,d);r(C||[])}},[d]);const p=C=>{e(C);const D=ae({menus:o,permissions:d,key:C});D&&(n(ie(D.key)),n(Fe(D.nav)),n(pe(D)))},h=C=>{p(C.key),m&&F()},b=(C,w)=>{let D=!0;for(let N=0;N<C.length;N++)if(C[N]!==w[N]){D=!1;break}return D},y=C=>{const w=[];let D="";if(C.length>0){D=C[C.length-1];const N=ge(D);w.push(D);for(let A=C.length-2;A>=0;A--){const S=ge(C[A]);b(S,N)&&w.unshift(C[A])}}n(Ee(w))},g=()=>{const C=ye(o,d);p(C),m&&F()},F=()=>{n(rt(!0))};return x(K,{children:[x("div",{className:`
          transition-all
          overflow-auto
          z-2
          ${Y.menu}
          ${u?Y.menuClose:""}
          ${c||m&&u?Y.menuNone:""}
          ${m?"!z-1002":""}
        `,children:[x("div",{className:`
            text-white
            flex
            content-center
            px-5
            py-2
            cursor-pointer
            ${u?"justify-center":""}
          `,onClick:g,children:[s("img",{src:rn,width:30,height:30,className:"object-contain",alt:"logo"}),s("span",{className:`
            text-white
            ml-3
            text-xl
            font-bold
            truncate
            ${u?"hidden":""}
          `,children:"\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF"})]}),s(Kn,{className:"h-full z-1000",selectedKeys:[i],openKeys:a,mode:"inline",theme:"dark",inlineCollapsed:u,items:o,onClick:h,onOpenChange:y})]}),m&&!u&&s("div",{className:`${Y.cover} fixed w-full h-full bg-gray-500 bg-opacity-10 z-1001`,onClick:F})]})}const la="/assets/png/avatar-07151444.png";function ca(){const e=Z(),t=v(o=>o.public.isFullscreen);return[t,()=>{var o;if(!t&&((o=document.documentElement)==null?void 0:o.requestFullscreen))return document.documentElement.requestFullscreen(),e(gt(!0)),!0;if(t&&(document==null?void 0:document.exitFullscreen))return document.exitFullscreen(),e(gt(!1)),!0}]}function ua(){const[e,t]=ca();return s(de,{title:e?"\u9000\u51FA\u5168\u5C4F":"\u5168\u5C4F",children:x("div",{className:"flex items-center justify-center text-lg mr-3 cursor-pointer",onClick:t,children:[e&&s(R,{icon:"gridicons-fullscreen-exit"}),!e&&s(R,{icon:"gridicons-fullscreen"})]})})}function da(e){return[n=>{var o,r,i,a,c;switch(n.key){case"ArrowUp":(o=e.ArrowUp)==null||o.call(e);break;case"ArrowDown":(r=e.ArrowDown)==null||r.call(e);break;case"ArrowLeft":(i=e.ArrowLeft)==null||i.call(e);break;case"ArrowRight":(a=e.ArrowRight)==null||a.call(e);break;case"Enter":(c=e.Enter)==null||c.call(e);break}}]}function ma(e){const{list:t,active:n,onCancel:o,changActive:r}=e,i=ne(),a=Z(),c=v(d=>d.user.permissions),u=d=>{i(d);const h=ae({menus:X,permissions:c,key:d});a(pe(h)),a(ie(d));const b=Le(d);a(Ee(b)),o()},m=d=>{r(d)};return x(K,{children:[!(t!=null&&t.length)&&x("div",{className:"flex flex-col items-center pt-5 text-warm-gray-400",children:[s(R,{className:"text-40px",icon:"mdi:archive-cancel-outline"}),s("span",{className:"mt-1",children:"\u6682\u65E0\u641C\u7D22\u7ED3\u6784"})]}),(t==null?void 0:t.length)>0&&s("div",{className:"mt-5",children:t==null?void 0:t.map(d=>{var p;return x("div",{className:`
                h-56px
                mt-8px
                px-14px
                rounded-4px
                cursor-pointer
                flex
                items-center
                justify-between
                shadow-md
                border
                border-light-500
                ${n===d.key?"bg-blue-500 text-white":""}
              `,onClick:()=>u(d.key),onMouseEnter:()=>m(d.key),children:[x("div",{className:"flex items-center",children:[s(R,{className:"text-lg mr-1",icon:"gg:menu-boxed"}),d.nav&&((p=d.nav)==null?void 0:p.length)>0&&d.nav.map((h,b)=>x(l.exports.Fragment,{children:[b>0&&s("span",{className:"mx-5px",children:">"}),s("span",{children:h})]},h)),!d.nav&&s("span",{children:d.label})]}),s(R,{className:"icon text-20px p-2px mr-5px",icon:"ant-design:enter-outlined"})]},d.key)})})]})}const pa="_icon_1eshe_1",$e={icon:pa};function ha(){return x("div",{className:"flex items-center text-dark-50",children:[x("span",{className:"mr-14px flex items-center",children:[s(R,{className:`${$e.icon} text-20px p-2px mr-5px`,icon:"ant-design:enter-outlined"}),s("span",{children:"\u786E\u8BA4"})]}),x("span",{className:"mr-14px flex items-center",children:[s(R,{className:`${$e.icon} text-20px p-2px mr-5px`,icon:"mdi-arrow-up-thin"}),s(R,{className:`${$e.icon} text-20px p-2px mr-5px`,icon:"mdi-arrow-down-thin"}),s("span",{children:"\u5207\u6362"})]}),x("span",{className:"flex items-center",children:[s(R,{className:`${$e.icon} text-20px p-2px mr-5px`,icon:"mdi:keyboard-esc"}),s("span",{children:"\u5173\u95ED"})]})]})}function fa(e){const t=ne(),n=l.exports.useRef(null),{modalRef:o}=e,[r,i]=l.exports.useState(""),[a,c]=l.exports.useState(""),[u,m]=l.exports.useState([]),[d,p]=l.exports.useState(!1),h=Z(),b=v(S=>S.user.permissions);l.exports.useImperativeHandle(o,()=>({toggle:()=>{p(!d)}})),l.exports.useLayoutEffect(()=>(d&&setTimeout(()=>{var S;(S=n.current)==null||S.focus({cursor:"end"})},0),()=>{i(""),c(""),m([])}),[d]);const y=S=>{c(S)},g=()=>{p(!1)},F=()=>{if(a){t(a);const E=ae({menus:X,permissions:b,key:a});h(pe(E)),h(ie(a));const f=Le(a);h(Ee(f)),g()}},C=Qe(S=>{var B;const f=Rt({menus:X,permissions:b,value:S});f!=null&&f.length?(c(((B=f==null?void 0:f[0])==null?void 0:B.key)||""),m(f)):(c(""),m([]))},{wait:200}),w=S=>{const{value:E}=S.target;i(E),C.run(E)},D=()=>{if(!u.length)return null;const S=u.findIndex(f=>f.key===a);if(S===0)return null;const E=u[S-1].key;c(E)},N=()=>{if(!u.length)return null;const S=u.length-1,E=u.findIndex(B=>B.key===a);if(E===S)return null;const f=u[E+1].key;c(f)},[A]=da({ArrowUp:D,ArrowDown:N,Enter:F});return l.exports.useEffect(()=>{if(u.length)return window.addEventListener("keydown",A),()=>{window.removeEventListener("keydown",A)}},[u,a,A]),x(Re,{className:"rounded-100px",open:d,closable:!1,onCancel:g,footer:s(ha,{}),children:[s(re,{ref:n,value:r,placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u8BCD\u641C\u7D22",allowClear:!0,prefix:s(R,{className:"text-lg text-warm-gray-400",icon:"ant-design:search-outlined"}),onChange:w,onPressEnter:F}),s(ma,{list:u,active:a,onCancel:g,changActive:y})]})}function ga(){const e=l.exports.useRef(null);return x(K,{children:[s(de,{title:"\u641C\u7D22",children:s(R,{className:"flex items-center justify-center text-lg mr-3 cursor-pointer",icon:"uil-search",onClick:()=>{var n;(n=e.current)==null||n.toggle()}})}),s(fa,{modalRef:e})]})}function ya(){const{clear:e,refresh:t,getCachingNodes:n}=me.exports.useAliveController(),o=Z(),r=localStorage.getItem(Ce)||"light",[i,a]=l.exports.useState(r);l.exports.useEffect(()=>{r||localStorage.setItem(Ce,"light"),r==="dark"&&(document.body.className="theme-dark"),o(We(r==="dark"?"dark":"light"))},[r]);const c=()=>{const m=n();for(let d=0;d<(m==null?void 0:m.length);d++){const{name:p}=m[d];p&&t(p)}},u=m=>{switch(localStorage.setItem(Ce,m),o(We(m)),a(m),e(),c(),m){case"dark":document.body.className="theme-dark";break;default:document.body.className="theme-primary";break}};return s(de,{title:"\u4E3B\u9898\u6A21\u5F0F",children:x("div",{className:"flex items-center justify-center text-lg mr-4 cursor-pointer",children:[i==="light"&&s(R,{icon:"mdi-white-balance-sunny",onClick:()=>u("dark")}),i!=="light"&&s(R,{icon:"mdi-moon-waning-crescent",onClick:()=>u("light")})]})})}function xa(e){const{passwordRef:t}=e,[n]=V.useForm(),[o,r]=l.exports.useState(!1),[i,a]=l.exports.useState(!1);return l.exports.useImperativeHandle(t,()=>({open:()=>{r(!0)}})),s(it,{title:"\u4FEE\u6539\u5BC6\u7801",open:o,confirmLoading:i,onOk:()=>{n.submit()},onCancel:()=>r(!1),children:x(V,{name:"UpdatePassword",form:n,labelCol:{span:5},wrapperCol:{span:16},onFinish:async m=>{if(m.password!==m.confirmPassword)return U.warning({content:"\u5BC6\u7801\u548C\u786E\u8BA4\u5BC6\u7801\u4E0D\u76F8\u540C!",key:"confirmPassword"});try{a(!0);const{data:d}=await Ho(m);d.code===200&&(r(!1),U.success(d.message))}finally{a(!1)}},autoComplete:"off",children:[s(V.Item,{label:"\u7528\u6237\u540D",name:"username",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"}],children:s(re,{placeholder:ke})}),s(V.Item,{label:"\u5BC6\u7801",name:"password",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801!"}],children:s(Ye,{})}),s(V.Item,{label:"\u786E\u8BA4\u5BC6\u7801",name:"confirmPassword",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u786E\u8BA4\u5BC6\u7801!"}],children:s(Ye,{})})]})})}const{Item:ba}=Pt;function Ca(e){const{className:t,list:n}=e,o=v(r=>r.menu.isPhone);return s(K,{children:!o&&s("div",{className:`${t} flex items-center`,children:s(Pt,{children:n==null?void 0:n.map(r=>s(ba,{className:"whitespace-nowrap",children:r},r))})})})}function wa(){const e=v(y=>y.menu.isCollapsed),t=v(y=>y.user.userInfo.username),n=Z(),o=ne(),[,,r]=Me(),{clear:i}=me.exports.useAliveController(),a=v(y=>y.tabs.isMaximize),c=v(y=>y.tabs.nav),u=l.exports.useRef(null),m=[{key:"password",label:s("span",{children:"\u4FEE\u6539\u5BC6\u7801"}),icon:s(ss,{className:"mr-1"})},{key:"logout",label:s("span",{children:"\u9000\u51FA\u767B\u5F55"}),icon:s(os,{className:"mr-1"})}],d=y=>{var g;switch(y.key){case"password":(g=u.current)==null||g.open();break;case"logout":p();break}},p=()=>{Re.confirm({title:"\u6E29\u99A8\u63D0\u793A",icon:s(It,{}),content:"\u662F\u5426\u786E\u5B9A\u9000\u51FA\u7CFB\u7EDF?",onOk(){n(jo()),n(Vs()),n(ie("")),r(),i(),o("/login")}})},h=()=>x("div",{className:"flex items-center",children:[s(ga,{}),s(ua,{}),s(ya,{}),s(Ze,{className:"min-w-50px",menu:{items:m,onClick:d},children:x("div",{className:"ant-dropdown-link flex items-center cursor-pointer",onClick:y=>y.preventDefault(),children:[s("img",{src:la,width:27,height:27,alt:"\u5934\u50CF",className:"rounded-1/2 overflow-hidden object-cover bg-light-500"}),s("span",{className:"ml-2 text-15px min-w-50px truncate",children:t||"south-admin"})]})})]}),b=()=>x("div",{className:"text-lg cursor-pointer",onClick:()=>n(rt(!e)),children:[e&&s(ts,{}),!e&&s(ns,{})]});return x(K,{children:[x("header",{className:`
          border-bottom
          flex
          items-center
          justify-between
          px-6
          py-6px
          box-border
          transition-all
          ${Y.headerDriver}
          ${a?Y.none:""}
        `,children:[x("div",{className:"flex item-center",children:[s(b,{}),s(Ca,{className:"ml-15px",list:c})]}),s(h,{})]}),s(xa,{passwordRef:u})]})}function hn(e){const{activeKey:t,onOpenChange:n,handleRefresh:o}=e,{pathname:r}=De(),i=ne(),a=Z(),c=v(p=>p.tabs.tabs),u=v(p=>p.user.permissions);return[(p=t)=>{const h=c.findIndex(b=>b.key===p);return[{key:"refresh",label:"\u91CD\u65B0\u52A0\u8F7D",disabled:p!==r,icon:s(rs,{className:"mr-5px transform rotate-270"})},{key:"close_current",label:"\u5173\u95ED\u6807\u7B7E",disabled:c.length<=1,icon:s(as,{className:"mr-5px"})},{key:"close_other",label:"\u5173\u95ED\u5176\u4ED6",disabled:c.length<=1,icon:s(is,{className:"mr-5px transform rotate-90"})},{key:"close_left",label:"\u5173\u95ED\u5DE6\u4FA7",disabled:h===0,icon:s(ut,{className:"mr-5px transform rotate-270"})},{key:"close_right",label:"\u5173\u95ED\u53F3\u4FA7",disabled:h===c.length-1,icon:s(ut,{className:"mr-5px transform rotate-90"})}]},(p,h=t)=>{switch(n==null||n(!1),p){case"refresh":o(h);break;case"close_current":a(Mt(h));break;case"close_other":a(Us(h));break;case"close_left":if(a(Hs(h)),r!==h){const y=ae({menus:X,permissions:u,key:h});y!=null&&y.key&&(i(h),a(Fe(y.nav)))}break;case"close_right":if(a(js(h)),r!==h){const y=ae({menus:X,permissions:u,key:h});y!=null&&y.key&&(i(h),a(Fe(y.nav)))}break}}]}function Fa(e){const{isRefresh:t,onClick:n}=e;return s(de,{title:"\u91CD\u65B0\u52A0\u8F7D",placement:"bottom",children:s(R,{className:`
          change
          flex
          items-center
          justify-center
          text-lg
          cursor-pointer
          ${t?"animate-spin pointer-events-none":""}
        `,onClick:()=>n(),icon:"ant-design:reload-outlined"})})}function ka(){const e=Z(),t=v(o=>o.tabs.isMaximize);return s(de,{title:t?"\u6700\u5C0F\u5316":"\u6700\u5927\u5316",placement:"bottom",children:s(R,{className:`
          flex
          items-center
          justify-center
          text-lg
          cursor-pointer
        `,icon:t?"ant-design:compress-outlined":"ant-design:expand-outlined",onClick:()=>{e(Os(!t))}})})}function Sa(e){const{activeKey:t,handleRefresh:n}=e,[o,r]=l.exports.useState(!1),i=m=>{r(m)},a={activeKey:t,onOpenChange:i,handleRefresh:n},[c,u]=hn(a);return s(Ze,{trigger:["click"],menu:{items:c(),onClick:m=>u(m.key)},onOpenChange:i,children:s(R,{className:`
          flex
          items-center
          justify-center
          text-lg
          cursor-pointer
          transition-all
          transform
          ${o?"rotate-180":"rotate-0"}
        `,icon:"ant-design:down-outlined"})})}function Ea(){const e=ne(),{pathname:t,search:n}=De(),o=t+n,r=Z(),{refresh:i}=me.exports.useAliveController(),[a,c]=l.exports.useState(null),[u,m]=l.exports.useState(null),d=v(k=>k.tabs.tabs),p=v(k=>k.tabs.isLock),h=v(k=>k.tabs.activeKey),b=v(k=>k.user.permissions),y=v(k=>k.public.isRefresh),g=v(k=>k.tabs.isMaximize),F=l.exports.useCallback((k=o)=>{if(b.length>0){if(k==="/")return;const _=ae({menus:X,permissions:b,key:k});_!=null&&_.key?(r(ie(_.key)),r(Fe(_.nav)),r(pe(_))):r(ie(k))}},[b]);l.exports.useEffect(()=>{F()},[F]),l.exports.useEffect(()=>()=>{a&&(clearTimeout(a),c(null)),u&&(clearTimeout(u),m(null))},[]),l.exports.useEffect(()=>{if(h!==o){const k=p?h:o;F(k),p&&(e(k),r(zs(!1)))}},[h,o]);const C=k=>{e(k)},w=k=>{r(Mt(k))},D=(k,H)=>{H==="remove"&&w(k)},N=l.exports.useCallback((k=h)=>{typeof k=="string"&&(a||(r(yt(!0)),i(k),c(setTimeout(()=>{U.success({content:"\u5237\u65B0\u6210\u529F",key:"refresh"}),r(yt(!1)),c(null)},100)),m(setTimeout(()=>{m(null)},1e3))))},[h,a]),A=l.exports.useMemo(()=>s(Fa,{isRefresh:y,onClick:N}),[y,N]),S=l.exports.useMemo(()=>s(Sa,{activeKey:h,handleRefresh:N}),[h,N]),E=l.exports.useMemo(()=>s(ka,{}),[]),f=[{element:A},{element:S},{element:E}],B={activeKey:h,handleRefresh:N},[T,Q]=hn(B),P=(k,H)=>s(H,{...k,children:_=>s(Ze,{menu:{items:T(_.key),onClick:te=>Q(te.key,_.key)},trigger:["contextMenu"],children:s("div",{className:"mr-3px",children:_})},_.key)});return x("div",{className:`
      flex
      items-center
      justify-between
      mx-2
      transition-all
      ${g?Y.conMaximize:""}
    `,children:[d.length>0?s(Hn,{hideAdd:!0,className:"w-full h-30px py-0",onChange:C,activeKey:h,type:"editable-card",onEdit:D,items:d,renderTabBar:P}):s("span",{}),s("div",{className:"flex",children:f==null?void 0:f.map((k,H)=>s("div",{className:`
                ${Y.leftDivide}
                change
                divide-solid
                w-36px
                h-36px
                hover:opacity-70
                flex
                place-content-center
                items-center
              `,children:k.element},H))})]})}function Da(){const e=Z(),t=ne(),[n]=Me(),{pathname:o,search:r}=De(),i=o+r,a=n(),c=Dn(),[u,m]=l.exports.useState(!0),d=v(w=>w.user.permissions),p=v(w=>w.user.userInfo.id),h=v(w=>w.tabs.isMaximize),b=v(w=>w.menu.isCollapsed),y=v(w=>w.menu.isPhone),g=v(w=>w.public.isRefresh),F=l.exports.useCallback(async()=>{try{m(!0);const{data:w}=await Yr({refresh_cache:!1});if(w){const{data:{user:D,permissions:N}}=w,A=on(N);e(sn(D)),e(qe(A))}}catch(w){console.error("\u83B7\u53D6\u7528\u6237\u6570\u636E\u5931\u8D25:",w),qe([])}finally{m(!1)}},[]);l.exports.useEffect(()=>{a||t("/login"),a&&!p&&F()},[F,t,a,p]);const C=Qe(()=>{const w=window.innerWidth<=768;w&&e(rt(!0)),e(cr(w))},{wait:500});return l.exports.useEffect(()=>(window.addEventListener("resize",C.run()),()=>{window.removeEventListener("resize",C.run())}),[]),x("div",{id:"layout",children:[s(ia,{}),x("div",{className:Y.layout_right,children:[x("div",{id:"header",className:`
            border-bottom
            transition-all
            ${Y.header}
            ${b?Y.headerCloseMenu:""}
            ${h?Y.headerNone:""}
            ${y?"!left-0 z-999":""}
          `,children:[s(wa,{}),s(Ea,{})]}),x("div",{id:"layoutContent",className:`
            overflow-auto
            transition-all
            ${Y.con}
            ${h?Y.conMaximize:""}
            ${b?Y.conCloseMenu:""}
            ${y?"!left-0":""}
          `,children:[u&&d.length===0&&s(At,{active:!0,className:"p-30px",paragraph:{rows:10}}),!u&&d.length===0&&s(Xe,{}),g&&s("div",{className:`
              absolute
              left-50%
              top-50%
              -rotate-x-50%
              -rotate-y-50%
            `,children:s(R,{className:"text-40px animate-spin",icon:"ri:loader-2-fill"})}),d.length>0&&!g&&s(Gn,{id:i,name:i,children:c})]})]})]})}const va=Is(Vr),Ba=[{path:"login",element:s(an,{})},{path:"",element:s(Da,{}),children:va}];function Na(){return s(K,{children:vn(Ba)})}const{defaultAlgorithm:Aa,darkAlgorithm:Pa}=Vn;function Ta(){const e=v(t=>t.public.theme);return l.exports.useEffect(()=>(ct.done(),()=>{ct.start()}),[]),s(kn,{children:s(jn,{locale:Un,theme:{algorithm:[e==="dark"?Pa:Aa]},children:s(me.exports.AliveScope,{children:s(Na,{})})})})}const $a=Sn({reducer:{public:Oo,menu:ur,tabs:Ys,user:Uo}});j.locale("zh-cn");Fn.createRoot(document.getElementById("root")).render(s(En,{store:$a,children:s(Ta,{})}));document!=null&&document.getElementById("first")&&(document.getElementById("first").style.display="none");
