import{c as qt}from"./react-dom@18.2.0_react@18.2.0-5a4ccd58.js";import{H as jt}from"./react-router-dom@6.4.0_react-dom@18.2.0_react@18.2.0-f118d7fa.js";import{r as l}from"./react@18.2.0-9cdefec6.js";import{n as We}from"./nprogress@0.2.0-691bf662.js";import{I as $}from"./@iconify_react@3.2.2_react@18.2.0-4d7ae81e.js";import{j as s,b,F as z,S as tt,P as Gt,V as Jt,W as Zt,g as nt,X as Xt,Y as Qt,Z as en,_ as tn,$ as nn,a0 as sn,a1 as an,c as on,a2 as rn,a3 as qe}from"./@ant-design_icons@4.7.0_react-dom@18.2.0_react@18.2.0-0d73ff6d.js";import{c as Re,a as ln}from"./@reduxjs_toolkit@1.8.5_react-redux@8.0.2_react@18.2.0-822ed4a3.js";import{u as V,a as v,P as cn}from"./react-redux@8.0.2_f1e2f1cffc6d2819e9684c8a8c92bb15-24d25511.js";import{u as Z,a as Ce,O as un,b as dn}from"./react-router@6.4.0_react@18.2.0-4fbedd88.js";import"./hoist-non-react-statics@3.3.2-45eb0518.js";import"./react-is@18.2.0-8137d776.js";import{B as W,m as O,S as mn,a as st,T as at,D as ot,b as rt,I as ee,c as hn,A as fn,C as it,R as pn,d as gn,e as yn,f as bn,U as Cn,F as L,g as xn,h as wn,i as Fn,M as xe,j as ae,P as kn,k as Me,l as lt,n as Le,o as Sn,p as En,q as vn,z as Dn}from"./antd@4.23.4_react-dom@18.2.0_react@18.2.0-2c1ead41.js";import{a as ct}from"./axios@0.27.2-f3037ea3.js";import{a as ut,U as Bn}from"./crypto-js@4.1.1-40d9ab95.js";import{h as T}from"./moment@2.29.4-e75667bf.js";import{u as Oe,a as Nn,b as An}from"./ahooks@3.7.1_react@18.2.0-9fff3f99.js";import{K as Pn,r as ze}from"./react-activation@0.12.0_react@18.2.0-f8cab01e.js";import{u as Tn,i as $n,a as In,b as _n,c as Rn,d as Mn,e as Ln,f as On,g as zn,h as Hn,j as Kn,k as Un,l as Vn,m as Yn,n as Wn,o as qn,p as jn,q as Gn,r as Jn,s as Zn,t as Xn,v as Qn,w as fe}from"./echarts@5.3.3-9b59a6d8.js";import"./@wangeditor_editor@5.1.21-260a7bda.js";import{d as es,u as ts}from"./@wangeditor_editor-for-react@1.0.5_071d2b75cf95b60efff4ff30c3628b48-06d65186.js";import{F as ns}from"./react-window@1.8.7_react-dom@18.2.0_react@18.2.0-e5af8ce4.js";import{A as ss}from"./react-virtualized-auto-sizer@1.0.7_react-dom@18.2.0_react@18.2.0-45fc7a90.js";import{R as as}from"./react-resizable@3.0.4_react-dom@18.2.0_react@18.2.0-f7953f33.js";import{c as os}from"./react-draggable@4.4.5_react-dom@18.2.0_react@18.2.0-ea964961.js";import"./@babel_runtime@7.19.0-16d3a89d.js";import"./scheduler@0.23.0-65b5f0cc.js";import"./@remix-run_router@1.0.2-86c67200.js";import"./@ant-design_icons-svg@4.2.1-d8424649.js";import"./classnames@2.3.2-d75d9a59.js";import"./@ant-design_colors@6.0.0-41e78357.js";import"./@ctrl_tinycolor@3.4.1-87b86e7f.js";import"./rc-util@5.24.4_react-dom@18.2.0_react@18.2.0-c033d194.js";import"./react-is@16.13.1-140c6955.js";import"./immer@9.0.15-8f435eb4.js";import"./redux@4.2.0-993ab330.js";import"./redux-thunk@2.4.1_redux@4.2.0-1f40d824.js";import"./use-sync-external-store@1.2.0_react@18.2.0-3e46b614.js";import"./@remix-run_router@1.0.0-ab90344f.js";import"./rc-resize-observer@1.2.0_react-dom@18.2.0_react@18.2.0-f8c0c9ca.js";import"./resize-observer-polyfill@1.5.1-1e2b0dc8.js";import"./rc-motion@2.6.2_react-dom@18.2.0_react@18.2.0-f5366c8e.js";import"./lodash@4.17.21-9db853bc.js";import"./rc-picker@2.6.10_react-dom@18.2.0_react@18.2.0-58ea19d2.js";import"./rc-trigger@5.3.1_react-dom@18.2.0_react@18.2.0-8a6a4e34.js";import"./rc-align@4.0.12_react-dom@18.2.0_react@18.2.0-27c950b9.js";import"./dom-align@1.12.3-747260cd.js";import"./shallowequal@1.1.0-be60d069.js";import"./rc-tabs@12.1.0-alpha.1_react-dom@18.2.0_react@18.2.0-b632ab9d.js";import"./rc-menu@9.6.4_react-dom@18.2.0_react@18.2.0-a554d247.js";import"./rc-overflow@1.2.8_react-dom@18.2.0_react@18.2.0-26c7f996.js";import"./rc-dropdown@4.0.1_react-dom@18.2.0_react@18.2.0-3c8ce056.js";import"./rc-select@14.1.13_react-dom@18.2.0_react@18.2.0-e20a2756.js";import"./rc-virtual-list@3.4.8_react-dom@18.2.0_react@18.2.0-8442bb8d.js";import"./rc-tree@5.7.0_react-dom@18.2.0_react@18.2.0-9a2e3e99.js";import"./rc-field-form@1.27.1_react-dom@18.2.0_react@18.2.0-dd97f3d4.js";import"./async-validator@4.2.5-f1555ba6.js";import"./scroll-into-view-if-needed@2.2.29-43a47374.js";import"./compute-scroll-into-view@1.0.17-4f947f73.js";import"./rc-dialog@8.9.0_react-dom@18.2.0_react@18.2.0-6e5e768d.js";import"./rc-input-number@7.3.9_react-dom@18.2.0_react@18.2.0-9d0ca46c.js";import"./rc-textarea@0.3.7_react-dom@18.2.0_react@18.2.0-e37dc181.js";import"./rc-rate@2.9.2_react-dom@18.2.0_react@18.2.0-561537d5.js";import"./rc-slider@10.0.1_react-dom@18.2.0_react@18.2.0-497ce298.js";import"./rc-switch@3.2.2_react-dom@18.2.0_react@18.2.0-ae7e8434.js";import"./rc-table@7.26.0_react-dom@18.2.0_react@18.2.0-2ec856be.js";import"./rc-pagination@3.1.17_react-dom@18.2.0_react@18.2.0-f80dd8aa.js";import"./rc-checkbox@2.3.2_react-dom@18.2.0_react@18.2.0-29e7ce4a.js";import"./rc-input@0.1.2_react-dom@18.2.0_react@18.2.0-c2ba87a7.js";import"./rc-tree-select@5.5.0_react-dom@18.2.0_react@18.2.0-2cbdef10.js";import"./rc-upload@4.3.4_react-dom@18.2.0_react@18.2.0-f4c2a266.js";import"./memoize-one@6.0.0-59590391.js";import"./rc-notification@4.6.0_react-dom@18.2.0_react@18.2.0-fadcae28.js";import"./rc-progress@3.3.3_react-dom@18.2.0_react@18.2.0-b88f35f0.js";import"./rc-tooltip@5.2.2_react-dom@18.2.0_react@18.2.0-45e5f725.js";import"./screenfull@5.2.0-8b262e2b.js";import"./szfe-tools@0.0.0-beta.7-43ec4663.js";import"./create-react-context@0.3.0_react@18.2.0-5939a09a.js";import"./prop-types@15.8.1-20765e74.js";import"./gud@1.0.0-cc336cfe.js";import"./warning@4.0.3-84a434bd.js";import"./react-node-key@0.4.0_react@18.2.0-8c7abd42.js";import"./zrender@5.3.2-d26d099c.js";import"./tslib@2.3.0-6fdb4d67.js";import"./memoize-one@5.2.1-b0f16465.js";import"./clsx@1.2.1-729cc118.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function rs(e){const t=[];for(let n=0;n<e.length;n++)e[n].path!=="login"&&t.push(e[n]);return t}const is=[{label:"\u7CFB\u7EDF\u7BA1\u7406",key:"system",icon:s($,{icon:"ion:settings-outline"}),children:[{label:"\u7528\u6237\u7BA1\u7406",key:"/system/user",rule:"/authority/user"},{label:"\u83DC\u5355\u7BA1\u7406",key:"/system/menu",rule:"/authority/menu"}]}],ls=[{label:"\u7EC4\u4EF6",key:"demo",icon:s($,{icon:"fluent:box-20-regular"}),children:[{label:"\u526A\u5207\u677F",key:"/demo/copy",rule:"/demo/copy"},{label:"\u6C34\u5370",key:"/demo/watermark",rule:"/demo/watermark"},{label:"\u865A\u62DF\u6EDA\u52A8",key:"/demo/virtualScroll",rule:"/demo/virtualScroll"},{label:"\u5BCC\u6587\u672C",key:"/demo/editor",rule:"/demo/editor"},{label:"\u5C42\u7EA71",key:"/demo/level1",children:[{label:"\u5C42\u7EA72",key:"/demo/level1/level2",children:[{label:"\u5C42\u7EA73",key:"/demo/level1/level2/level3",rule:"/demo/watermark"}]}]}]}],U=[{label:"\u4EEA\u8868\u76D8",key:"dashboard",icon:s($,{icon:"la:tachometer-alt"}),children:[{label:"\u6570\u636E\u603B\u89C8",key:"/dashboard",rule:"/dashboard"}]},...ls,...is];function we(e){const t=oe(e),n=[];if(t.length>0&&n.push(t[0]),t.length>2){let a="/"+t[0];for(let o=1;o<t.length-1;o++)a+="/"+t[o],n.push(a)}return n}function cs(e,t){const n=[],a=oe(e);let o=0;const r=a.length;for(let i=0;i<t.length;i++){const{path:d}=t[i];if((d==null?void 0:d[o])===a[o]&&(n.push(t[i].label),o++),o===r)return n}return n}function oe(e){if(!e||typeof e!="string")return[];const t=(e==null?void 0:e.split("/"))||[];return(t==null?void 0:t[0])===""&&t.shift(),t}function dt(e){var i,d;const{menus:t,permissions:n,value:a}=e;let{currentPath:o,result:r}=e;if(!(t!=null&&t.length)||!a)return[];o||(o=[]),r||(r=[]);for(let u=0;u<t.length;u++)if(ie(t[u])){o.push({label:t[u].label,path:oe(t[u].key)});const m={menus:t[u].children,permissions:n,value:a,currentPath:o,result:r},h=dt(m);h.length?r.concat(h):o.pop()}else if(((d=(i=t[u])==null?void 0:i.label)==null?void 0:d.includes(a))&&Fe(t[u],n)){o.push({label:t[u].label,path:oe(t[u].key)});const m=cs(t[u].key,o),{label:h,key:y}=t[u];r.push({label:h,key:y,nav:m})}return r}function ne(e){var i;const{menus:t,permissions:n,key:a}=e;let{fatherNav:o,result:r}=e;if(!(t!=null&&t.length))return r;o||(o=[]),r!=null&&r.key||(r={key:"",label:"",nav:[]});for(let d=0;d<t.length;d++){if(!a||r.key)return r;if(ie(t[d])){o.push(t[d].label);const u={menus:t[d].children,permissions:n,key:a,fatherNav:o,result:r},m=ne(u);m!=null&&m.key?r=m:o.pop()}else if(((i=t[d])==null?void 0:i.key)===a&&Fe(t[d],n)){o.push(t[d].label);const{label:u,key:m}=t[d];m&&(r={label:u,key:m,nav:o})}}return r}function mt(e,t){const n=[];for(let a=0;a<e.length;a++){if(ie(e[a])){const o=mt(e[a].children,t);e[a].children=o!=null&&o.length?o:void 0}(Fe(e[a],t)||ie(e[a]))&&n.push(e[a])}return n}function re(e,t,n=""){if(n)return n;for(let a=0;a<e.length;a++){if(ie(e[a])&&!n){const o=re(e[a].children,t,n);if(o)return n=o,n}Fe(e[a],t)&&!ie(e[a])&&(n=e[a].key)}return n}function Fe(e,t){return t==null?void 0:t.includes((e==null?void 0:e.rule)||"")}function ie(e){var t;return Boolean((t=e.children)==null?void 0:t.length)}const ht=Re({name:"tabs",initialState:{isMaximize:!1,activeKey:"",nav:[],tabs:[]},reducers:{toggleMaximize:(e,t)=>{e.isMaximize=!!t.payload},setActiveKey:(e,t)=>{e.activeKey=t.payload},setNav:(e,t)=>{e.nav=t.payload},addTabs:(e,t)=>{const{tabs:n}=e,{payload:a}=t;n.find(r=>r.key===a.key)||n.push(a),n[0].closable=(n==null?void 0:n.length)>1},closeTabs:(e,t)=>{const{tabs:n}=e,{payload:a}=t,o=n.findIndex(r=>r.key===a);if(o>=0&&n.splice(o,1),a===e.activeKey){let r="";o===0?r=n[o].key:r=n[o-1].key,e.activeKey=r}n[0].closable=(n==null?void 0:n.length)>1},closeLeft:(e,t)=>{const{tabs:n}=e,{payload:a}=t,o=n.findIndex(r=>r.key===a);o>=0&&n.splice(0,o),e.activeKey=n[0].key,n[0].closable=(n==null?void 0:n.length)>1},closeRight:(e,t)=>{const{tabs:n}=e,{payload:a}=t,o=n.findIndex(r=>r.key===a);o>=0&&n.splice(o+1,n.length-o-1),e.activeKey=n[n.length-1].key,n[0].closable=(n==null?void 0:n.length)>1},closeOther:(e,t)=>{const{tabs:n}=e,{payload:a}=t,o=n.find(r=>r.key===a);o&&(e.tabs=[o],e.activeKey=o.key),n[0].closable=!1},closeAllTab:e=>{e.tabs=[]}}}),{toggleMaximize:us,setActiveKey:J,setNav:ft,addTabs:le,closeTabs:pt,closeLeft:ds,closeRight:ms,closeOther:hs,closeAllTab:fs}=ht.actions,ps=ht.reducer,gs="_animation_1tk4a_1",ys="_shake_1tk4a_1",gt={animation:gs,shake:ys};function He(){const e=Z(),t=V(),n=v(o=>o.user.permissions),a=()=>{const o=re(U,n);e(o);const i=ne({menus:U,permissions:n,key:o});i&&(t(J(i.key)),t(le(i)))};return b("div",{className:"absolute left-50% top-50% -translate-x-1/2 -translate-y-1/2 text-center",children:[s("h1",{className:`${gt.animation} w-full text-6rem font-bold`,children:"403"}),s("p",{className:"w-full text-20px font-bold mt-15px text-dark-700",children:"\u5F88\u62B1\u6B49\uFF0C\u60A8\u7684\u8BBF\u95EE\u8BF7\u6C42\u88AB\u7981\u6B62!"}),s(W,{className:"mt-25px margin-auto",onClick:a,children:"\u8FD4\u56DE\u9996\u9875"})]})}const bs="/assets/png/welcome-49086098.png";function Cs(){return s("div",{className:"flex justify-center",children:s("img",{src:bs,alt:"Image",className:"w-980px h-full container"})})}function xs(){const e=Z(),t=V(),n=v(o=>o.user.permissions),a=()=>{const o=re(U,n);e(o);const i=ne({menus:U,permissions:n,key:o});i&&(t(J(i.key)),t(le(i)))};return b("div",{className:"absolute left-50% top-50% -translate-x-1/2 -translate-y-1/2 text-center",children:[s("h1",{className:`${gt.animation} w-full text-6rem font-bold`,children:"404"}),s("p",{className:"w-full text-20px font-bold mt-15px text-dark-700",children:"\u5F53\u524D\u9875\u9762\u65E0\u6CD5\u8BBF\u95EE\uFF0C\u53EF\u80FD\u6CA1\u6743\u9650\u6216\u5DF2\u5220\u9664"}),s(W,{className:"mt-25px margin-auto",onClick:a,children:"\u8FD4\u56DE\u9996\u9875"})]})}const je="\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF",Be="admin_token",yt="__Vite_Admin_Secret__",me="\u8BF7\u8F93\u5165",Y="\u8BF7\u9009\u62E9",bt="responsive",se=[{required:!0,message:me}],Te=[{required:!0,message:Y}],ws="https://www.fastmock.site/mock/bdd0efa89c5ddba1b003043010702b77/v1",Ge=`${ws}/authority/file/upload-file`,be="\u65B0\u589E",Ct=e=>`\u7F16\u8F91${e?`(${e})`:""}`,Fs={pattern:/^(?=.*\d)(?=.*[a-zA-Z])[\da-zA-Z~!@#$%^&*+\.\_\-*]{6,30}$/,message:"\u5BC6\u7801\u4E3A6-30\u4F4D\u5FC5\u987B\u5305\u542B\u5B57\u6BCD\u548C\u6570\u5B57!"};function ks(e,t=yt){const n=JSON.stringify(e);return ut.exports.encrypt(n,t).toString()}function Ss(e,t=yt){const a=ut.exports.decrypt(e,t).toString(Bn);return a?JSON.parse(a):null}const Es=60*60*24*2;function vs(e,t,n=Es){const a=n!==null?new Date().getTime()+n*1e3:null,r=ks({value:t,expire:a});window.localStorage.setItem(e,r)}function Ds(e){const t=window.localStorage.getItem(e);if(t){let n=null;try{n=Ss(t)}catch{O.error({content:"\u6570\u636E\u89E3\u5BC6\u5931\u8D25",key:"decryption"})}if(n){const{value:a,expire:o}=n;if(o===null||o>=Date.now())return a}return xt(e),null}return null}function xt(e){window.localStorage.removeItem(e)}function ke(){return[()=>Ds(Be)||"",a=>{vs(Be,a)},()=>{xt(Be)}]}const Bs="https://www.fastmock.site/mock/bdd0efa89c5ddba1b003043010702b77/v1",de=[],Ns=ct.CancelToken,As=Ns.source(),I=ct.create({baseURL:Bs,timeout:180*1e3}),ue=(e,t)=>{console.error("\u9519\u8BEF\u4FE1\u606F:",e),O.error({content:t||e||"\u670D\u52A1\u5668\u9519\u8BEF",key:"error"})};I.interceptors.request.use(e=>{const[t]=ke(),n=t()||"";(e==null?void 0:e.headers)&&n&&(e.headers.Authorization=`Bearer ${n}`);const a=JSON.stringify(e.url)+JSON.stringify(e.data)+"&"+e.method;return de.includes(a)?As.cancel():de.push(a),e},e=>(ue(e,"\u670D\u52A1\u5668\u9519\u8BEF"),Promise.reject(e)));I.interceptors.response.use(e=>{const t=e.data,n=JSON.stringify(e.config.url)+JSON.stringify(e.config.data)+"&"+e.config.method,a=de.findIndex(o=>o===n);return de.splice(a,1),(t==null?void 0:t.code)===0?(ue(t==null?void 0:t.message,"\u6743\u9650\u4E0D\u8DB3\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55"),Promise.reject(e)):(t==null?void 0:t.code)===601||(t==null?void 0:t.code)!==200?(ue(t==null?void 0:t.message),Promise.reject(e)):Promise.resolve(e)},e=>(de.length=0,ue(e,"\u670D\u52A1\u5668\u9519\u8BEF"),Promise.reject(e)));function Ps(e){return I.get("/dashboard",{params:e})}const Ts=[{label:"\u65E5\u671F",name:"pay_date",component:"RangePicker",componentProps:{allowClear:!1}},{label:"\u6E38\u620FID",name:"game_ids",wrapperCol:200,component:"GameSelect"},{label:"\u5408\u4F5C\u516C\u53F8",name:"partners",wrapperCol:200,component:"PartnerSelect"},{label:"\u5168\u670D\u5145\u503C",name:"all_pay",wrapperCol:15,component:"Checkbox"}];function q(e){const t=je+e?`${e} - ${je}`:"";l.useEffect(()=>{document.title=t},[t])}const te="YYYY-MM-DD",Ne="YYYY-MM-DD hh:mm:ss",$s=[{label:"\u5F00\u542F",value:1},{label:"\u5173\u95ED",value:0}],wt=[{label:"\u663E\u793A",value:1},{label:"\u9690\u85CF",value:0}],Ft=[{value:"authority",label:"\u6743\u9650\u7CFB\u7EDF"},{value:"platform",label:"\u8FD0\u8425\u7CFB\u7EDF"},{value:"stat",label:"\u7EDF\u8BA1\u7CFB\u7EDF"},{value:"ad",label:"\u6295\u653E\u7CFB\u7EDF"},{value:"cs",label:"\u5BA2\u670D\u7CFB\u7EDF"},{value:"log",label:"\u65E5\u5FD7\u7CFB\u7EDF"}],Is=[{value:"create",label:"\u521B\u5EFA"},{value:"update",label:"\u66F4\u65B0"},{value:"delete",label:"\u5220\u9664"},{value:"detail",label:"\u8BE6\u60C5"},{value:"export",label:"\u5BFC\u51FA"},{value:"status",label:"\u72B6\u6001"}];function kt(e){switch(e){case"Switch":case"Checkbox":case"CheckboxGroup":return"checked";case"Upload":return"fileList";default:return"value"}}function _s(e){switch(e){case"Select":return{allowClear:!0,placeholder:Y};case"InputNumber":return{placeholder:me};case"Checkbox":return{};case"CheckboxGroup":return{};case"DatePicker":return{placeholder:Y,format:te};case"RangePicker":return{placeholder:[Y,Y],format:[te,te]};case"TimePicker":return{placeholder:Y,format:Ne};case"TimeRangePicker":return{placeholder:[Y,Y],format:[Ne,Ne]};default:return{allowClear:!0,placeholder:me}}}function St(){return s("div",{className:"absolute left-50% top-50% -translate-x-1/2 -translate-y-1/2 text-center",children:s(mn,{spinning:!0})})}function Et(e){const[t,n]=l.useState(!1),[a,o]=l.useState([]),r={...e};delete r.api,delete r.params;const i=async()=>{var u;try{n(!0);const m=await((u=e.api)==null?void 0:u.call(e,e==null?void 0:e.params));o(m||[])}finally{n(!1)}};return s(st,{allowClear:!0,maxTagCount:bt,placeholder:Y,optionFilterProp:"label",...r,loading:t,options:a,notFoundContent:t&&s(St,{}),onDropdownVisibleChange:u=>{var m;u&&i(),(m=e.onDropdownVisibleChange)==null||m.call(e,u)}})}function vt(e){const[t,n]=l.useState(!1),[a,o]=l.useState([]),r={...e};delete r.api,delete r.params;const i=async()=>{var u;try{n(!0);const m=await((u=e.api)==null?void 0:u.call(e,e==null?void 0:e.params));o(m||[])}finally{n(!1)}};return s(at,{allowClear:!0,maxTagCount:bt,placeholder:Y,...r,loading:t,treeData:a,notFoundContent:t&&s(St,{}),onDropdownVisibleChange:u=>{var m;u&&i(),(m=e.onDropdownVisibleChange)==null||m.call(e,u)}})}function Rs(e,t=te){return T.isMoment(e)?e.format(t):e}function Dt(e){return T.isMoment(e)?e:T(e)}function Ms(e,t=te){if(!!e)return(e==null?void 0:e.length)>1&&T.isMoment(e==null?void 0:e[0])&&T.isMoment(e==null?void 0:e[1])?[e[0].format(t),e[1].format(t)]:e}function Bt(e){if(!!e)return(e==null?void 0:e.length)>1&&!T.isMoment(e==null?void 0:e[0])&&T.isMoment(e==null?void 0:e[1])?[T(e[0]),e[1]]:(e==null?void 0:e.length)>1&&T.isMoment(e==null?void 0:e[0])&&!T.isMoment(e==null?void 0:e[1])?[e[0],T(e[1])]:(e==null?void 0:e.length)>1&&!T.isMoment(e==null?void 0:e[0])&&!T.isMoment(e==null?void 0:e[1])?[T(e[0]),T(e[1])]:e}function Je(e,t){var n;for(let a=0;a<e.length;a++)if(e[a].name===t)return((n=e[a].componentProps)==null?void 0:n.format)||te;return te}function Nt(e,t){var n;for(const a in e){if(((n=e[a])==null?void 0:n.length)===2&&T.isMoment(e[a][0])&&T.isMoment(e[a][1])){const o=Je(t,a);e[a]=Ms(e[a],o)}if((e==null?void 0:e[a])&&T.isMoment(e[a])){const o=Je(t,a);e[a]=Rs(e[a],o)}}return e}function Ls(e){const{value:t}=e,n={...e};return t&&(n.value=Dt(t)),s(ot,{...n})}const{RangePicker:Os}=ot;function zs(e){const{value:t}=e,n={...e};return t&&(n.value=Bt(t)),s(Os,{...n})}function Hs(e){const{value:t}=e,n={...e};return t&&(n.value=Dt(t)),s(rt,{...n})}const{RangePicker:Ks}=rt;function Us(e){const{value:t}=e,n={...e};return t&&(n.value=Bt(t)),s(Ks,{...n})}const Vs=new Array(5).fill(0).map((e,t)=>t+1);function Ys(e){const{strength:t}=e;return s("div",{className:"flex items-center",children:Vs.map(n=>s("div",{className:`
              w-19%
              h-5px
              mt-5px
              mr-1%
              rounded-10px
              bg-light-900
              ${n<=t&&t>3?"!bg-green-400":""}
              ${n<=t&&t===3?"!bg-yellow-400":""}
              ${n<=t&&t<3?"!bg-red-400":""}
            `},n))})}function $e(e){const{value:t}=e,[n,a]=l.useState(0),o=Oe(r=>{if(!r)return;let i=0;/\d/.test(r)&&i++,/[a-z]/.test(r)&&i++,/[A-Z]/.test(r)&&i++,r.length>10&&i++,/[\.\~\@\#\$\^\&\*]/.test(r)&&i++,a(i)},{wait:500});return l.useEffect(()=>{o.run(t)},[o,t]),b(z,{children:[s(ee.Password,{value:t,allowClear:!0,placeholder:me,autoComplete:"password",...e,onChange:r=>{var i;(i=e.onChange)==null||i.call(e,r),o.run(r.target.value)}}),!!n&&s(Ys,{strength:n})]})}function At(e,t){if(e.length===0)return[];const n=[];for(let a=0;a<e.length;a++){const o=e[a],r=t(o),i=o.children?At(o.children,t):void 0;n.push({...r,children:i})}return n}function Ws(e){return new Promise((t,n)=>{I.get("/authority/common/games",{params:e}).then(a=>{var r;const o=At((r=a==null?void 0:a.data)==null?void 0:r.data,i=>{const{id:d,name:u}=i;return{value:d,label:`${d}:${u}`}});t(o)}).catch(()=>n([]))})}function qs(e){return s(z,{children:s(vt,{...e,multiple:!0,api:Ws})})}function js(e){return new Promise((t,n)=>{I.get("/platform/partner",{params:e}).then(a=>{var r;const o=[];(r=a==null?void 0:a.data)==null||r.data.forEach(i=>{o.push({label:i.name,value:i.id})}),t(o)}).catch(()=>n([]))})}function Gs(e){return s(Et,{...e,api:js,mode:"multiple"})}function Js(){Ze("GameSelect",qs),Ze("PartnerSelect",Gs)}const P=new Map;P.set("Input",ee);P.set("InputNumber",hn);P.set("InputPassword",ee.Password);P.set("AutoComplete",fn);P.set("Select",st);P.set("TreeSelect",at);P.set("Checkbox",it);P.set("CheckboxGroup",it.Group);P.set("RadioGroup",pn.Group);P.set("Switch",gn);P.set("Rate",yn);P.set("Slider",bn);P.set("Upload",Cn);P.set("DatePicker",Ls);P.set("RangePicker",zs);P.set("TimePicker",Hs);P.set("TimeRangePicker",Us);P.set("ApiSelect",Et);P.set("ApiTreeSelect",vt);P.set("PasswordStrength",$e);Js();function Pt(e){const{component:t,componentProps:n}=e,a=P.get(t);return s(a,{..._s(t),...n})}function Ze(e,t){P.set(e,t)}function Zs(e){const{list:t,data:n,formRef:a,isLoading:o,isSearch:r,isCreate:i,children:d,labelCol:u,wrapperCol:m,handleFinish:h}=e,[y]=L.useForm();l.useImperativeHandle(a,()=>({getFieldValue:c=>y.getFieldValue(c),getFieldsValue:()=>y.getFieldsValue(),handleReset:()=>{y.resetFields()},handleSubmit:()=>{y.submit()}}));const x=()=>{var c;(c=e.onCreate)==null||c.call(e)};return s("div",{id:"searches",className:"bg-white py-3",children:b(L,{name:"basic",layout:"inline",form:y,labelCol:u||{span:8},wrapperCol:m||{span:16},initialValues:n,onFinish:c=>{if(h){const C=Nt(c,t);h==null||h(C)}},onFinishFailed:c=>{console.warn("\u641C\u7D22\u9519\u8BEF:",c)},autoComplete:"off",children:[t==null?void 0:t.map(c=>s(L.Item,{label:c.label,name:c.name,className:"!mb-5px",labelCol:{style:{width:c.labelCol}},wrapperCol:{style:{width:c.wrapperCol}},rules:c.rules,valuePropName:kt(c.component),children:Pt(c)},`${c.name}`)),r!==!1&&s(L.Item,{children:s(W,{type:"primary",htmlType:"submit",className:"!mb-5px",loading:o,icon:s(tt,{}),children:"\u641C\u7D22"})}),i!==!1&&s(L.Item,{children:s(W,{type:"primary",className:"!mb-5px",icon:s(Gt,{}),onClick:x,children:"\u65B0\u589E"})}),d]})})}const Ke=l.memo(Zs),Xs="_bg_kxqj4_1",Qs={bg:Xs};function Ue(e){const{isPermission:t,children:n}=e,{pathname:a}=Ce();return b("div",{className:`h-full p-10px box-border ${Qs.bg}`,children:[t!==!1&&s("div",{id:"content",className:`
            h-full
            bg-white
            relative
            overflow-auto
            box-border
            px-5
            pt-5
            pb-2
          `,children:s(Pn,{id:a,name:a,children:n})}),t===!1&&s(He,{})]})}Tn([$n,In,_n,Rn,Mn,Ln,On,zn,Hn,Kn,Un,Vn,Yn,Wn,qn,jn,Gn,Jn,Zn,Xn,Qn]);function Tt(e){let{width:t,height:n}=e;const{className:a,option:o}=e,r=l.useRef(null),[i,d]=l.useState(!1);t||(t="100%"),n||(n="100%"),l.useEffect(()=>{setTimeout(()=>{d(!0)},100)},[]);const u=()=>{var h;r.current&&fe!==null&&fe!==void 0&&((h=fe)==null||h.dispose(r.current))},m=l.useCallback(()=>{i&&(u(),fe.init(r.current).setOption(o))},[i,o]);return l.useEffect(()=>{o&&m()},[m,o]),l.useEffect(()=>(m(),window.addEventListener("resize",()=>m(),!1),()=>{window.removeEventListener("resize",()=>m()),u()}),[m]),s(z,{children:i&&s("div",{ref:r,className:`echarts ${a}`,style:{height:n,width:t}})})}const ea={title:{text:"\u6709\u6548\u5145\u503C\u5360\u6BD4",left:30,top:5},xAxis:{type:"category",boundaryGap:!1,data:["07-11","07-12","07-13","07-14","07-15","07-16","07-17"]},yAxis:{type:"value"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},series:[{name:"\u5145\u503C\u6570",type:"line",areaStyle:{color:"#1890ff",opacity:.2},emphasis:{focus:"series"},data:[120,140,120,190,150,111,160]},{name:"\u7528\u6237\u6570\u6570",type:"line",areaStyle:{color:"#1890ff",opacity:.3},emphasis:{focus:"series"},data:[90,122,90,140,123,280,200]}]};function ta(){return s("div",{className:"w-60% border border-gray-200 rounded-10px",children:s(Tt,{className:"w-full mt-10px",width:"100%",height:"500px",option:ea})})}const na={title:{text:"\u5F53\u65E5\u5145\u503C\u6392\u884C",left:30,top:5},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",data:["\u5B64\u72EC\u7684\u9738\u6C14","\u51CC\u4E91\u9F50\u5929","\u590F\u81F3\u672A\u81F3","\u53F6\u7483\u6EAA","\u826F\u8FB0\u7F8E\u666F\u5948\u4F55\u5929","\u51F9\u51F8\u66FC","\u516D\u6708\u79BB\u522B","\u79BB\u6B4C","\u7EC8\u6781\u6218\u72AF","\u6C34\u6D17\u6674\u7A7A","\u5B89\u57CE\u5982\u6CAB","\u6E23\u6E23\u7070"]},series:[{name:"\u5145\u503C\u6570",type:"bar",data:[96285,102352,111235,112356,123984,138205,142059,152362,162231,164324,178291,192830]}]};function sa(){return s("div",{className:"w-38% border border-gray-200 rounded-10px",children:s(Tt,{className:"w-full mt-10px",width:"100%",height:"500px",option:na})})}const aa=[{title:"\u7528\u6237\u6570",num:14966,all:16236,icon:"icon-park:peoples"},{title:"\u5145\u503C\u6570",num:4286,all:6142,icon:"icon-park:paper-money"},{title:"\u8BA2\u5355\u6570",num:5649,all:5232,icon:"icon-park:transaction-order"},{title:"\u6E38\u620F\u6570",num:619,all:2132,icon:"icon-park:game-handle"}];function oa(){return s(xn,{gutter:16,children:aa.map(e=>s(wn,{span:6,children:b("div",{className:`
                border
                border-gray-200
                px-30px
                py-20px
                box-border
                rounded-10px
              `,children:[s("div",{className:"text-20px font-bold",children:e.title}),b("div",{className:"flex items-center justify-between text-35px mb-15px",children:[s("span",{className:"font-bold",children:e.num}),s($,{icon:e.icon})]}),b("div",{className:"flex align-center justify-between",children:[s("span",{children:"\u603B\u6570\uFF1A"}),s("span",{children:e.all})]})]})},e.title))})}const Xe={pay_date:["2022-10-19","2022-10-29"]};function ra(){q("\u6570\u636E\u5C55\u89C8");const[e,t]=l.useState(!1),n=l.useCallback(async a=>{a.all_pay=a.all_pay?1:void 0;const o={...a};try{t(!0),await Ps(o)}finally{t(!1)}},[]);return l.useEffect(()=>{n(Xe)},[n]),s(Ue,{isPermission:!0,children:b(z,{children:[s(Ke,{list:Ts,data:Xe,isLoading:e,isCreate:!1,handleFinish:n}),s("div",{className:"py-10px",children:s(oa,{})}),b("div",{className:"flex justify-between",children:[s(ta,{}),s(sa,{})]})]})})}function ia(){return q("\u52A0\u8F7D\u4E2D"),s("div",{className:`
      absolute
      left-50%
      top-50%
      -rotate-x-50%
      -rotate-y-50%
    `,children:s($,{className:"text-40px animate-spin",icon:"ri:loader-2-fill"})})}function la(e){return I.post("/login",e)}function ca(e){return I.post("/update-password",e)}const $t=Re({name:"user",initialState:{permissions:[],userInfo:{id:0,username:"",email:"",phone:""}},reducers:{setUserInfo:(e,t)=>{e.userInfo=t.payload},setPermissions:(e,t)=>{e.permissions=t.payload},clearInfo:e=>{e.userInfo={id:0,username:"",email:"",phone:""}}}}),{setUserInfo:It,setPermissions:Ie,clearInfo:ua}=$t.actions,da=$t.reducer,_t=e=>{const t=[];for(let n=0;n<e.length;n++){const{id:a,operation:o}=e[n];t.push(`/${a}`);for(let r=0;r<o.length;r++)t.push(`/${a}/${o[r]}`)}return t},Q=(e,t)=>!t||t.length===0?!1:t.includes(e),Rt="/assets/svg/logo-63a26457.svg";function Mt(){q("\u767B\u5F55");const e=Z(),t=V(),[n,a]=ke(),[o,r]=l.useState(!1),i=v(m=>m.user.permissions);return l.useEffect(()=>{if(n()){const m=re(U,i);e(m)}},[n,e,i]),s(z,{children:s("div",{className:"bg-light-400 w-screen h-screen relative",children:b("div",{className:`
          w-300px
          h-290px
          p-30px
          rounded-5px
          bg-white
          absolute
          left-1/2
          top-1/2
          -translate-x-1/2
          -translate-y-1/2
        `,children:[b("div",{className:"pb-30px pt-10px flex items-center justify-center",children:[s("img",{className:"mr-2 object-contain",width:"30",height:"30",src:Rt,alt:"LOGO"}),s("span",{className:"text-xl font-bold tracking-2px",children:"\u7CFB\u7EDF\u767B\u5F55"})]}),b(L,{name:"horizontal_login",autoComplete:"on",onFinish:async m=>{try{r(!0);const{data:h}=await la(m),{data:{token:y,user:x,permissions:f}}=h,S=_t(f),c=re(U,S);a(y),t(It(x)),t(Ie(S)),e(c)}finally{r(!1)}},onFinishFailed:m=>{console.error("\u9519\u8BEF\u4FE1\u606F:",m)},initialValues:{username:"admin",password:"admin123456"},children:[s(L.Item,{name:"username",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}],children:s(ee,{"allow-clear":"true",placeholder:"\u7528\u6237\u540D","data-test":"username",autoComplete:"username",addonBefore:s(Jt,{})})}),s(L.Item,{name:"password",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801"},Fs],children:s(ee.Password,{placeholder:"\u5BC6\u7801",autoComplete:"current-password",addonBefore:s(Zt,{})})}),s(L.Item,{children:s(W,{type:"primary",htmlType:"submit",className:"w-full mt-5px rounded-5px tracking-2px",loading:o,children:"\u767B\u5F55"})})]})]})})})}function Lt(){const e=l.useRef(null),t=l.useCallback(a=>new Promise((o,r)=>{var i;try{let d=a;if(d||(d=(i=e.current)==null?void 0:i.value),!d){r("\u590D\u5236\u7684\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A");return}if(typeof d!="string"&&typeof d!="number"){r("\u590D\u5236\u7684\u5185\u5BB9\u5FC5\u987B\u662F\u5B57\u7B26\u4E32\u6216\u6570\u5B57");return}navigator.clipboard.writeText(d.toString()).then(()=>{o(d)}).catch(u=>{r(u)})}catch(d){r(d)}}),[]),n=l.useCallback(()=>navigator.clipboard.readText(),[]);return[e,t,n]}const{Search:ma}=ee;function ha(e){const[,t]=Lt();return s(ma,{...e,placeholder:"\u8BF7\u8F93\u5165",enterButton:"\u590D\u5236",onSearch:a=>{if(!a)return O.warning({content:"\u8BF7\u8F93\u5165\u590D\u5236\u5185\u5BB9",key:"copy"});try{t(a),O.success({content:"\u590D\u5236\u6210\u529F",key:"copy"})}catch{O.warning({content:"\u590D\u5236\u5931\u8D25",key:"copy"})}}})}function fa(e){const{text:t,value:n}=e,[,a]=Lt();return s(W,{...e,icon:s($,{icon:"ant-design:copy-outlined"}),onClick:()=>{try{a(n),O.success({content:"\u590D\u5236\u6210\u529F",key:"copy"})}catch{O.warning({content:"\u590D\u5236\u5931\u8D25",key:"copy"})}},children:t})}function pa(){return q("\u526A\u5207\u677F"),b("div",{className:"max-w-300px m-30px",children:[s("h1",{children:"\u526A\u5207\u677F\uFF1A"}),s(ha,{className:"w-300px"}),b("div",{className:"flex items-center mt-50px",children:[s("span",{className:"text-lg",children:"\u5C06\u201Cadmin\u201D\u4F20\u5165\u590D\u5236\u6309\u94AE\u4E2D\uFF1A"}),s(fa,{text:"\u590D\u5236",value:"admin"})]})]})}function ga(e){const{content:t,height:n,className:a,handleChange:o}=e,[r,i]=l.useState(null),[d,u]=l.useState(t),m={},h={placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9...",MENU_CONF:{uploadImage:{server:Ge},uploadVideo:{server:Ge}}};return l.useEffect(()=>()=>{r!==null&&(r.destroy(),i(null))},[r]),b("div",{className:a,style:{border:"1px solid #ccc",zIndex:100},children:[s(es,{editor:r,defaultConfig:m,mode:"default",style:{borderBottom:"1px solid #ccc"}}),s(ts,{defaultConfig:h,value:d,onCreated:i,onChange:x=>{u(x.getHtml()),o(x.getHtml())},mode:"default",style:{height:n||300,overflowY:"hidden"}})]})}function ya(){q("\u5BCC\u6587\u672C");const[e,t]=l.useState("<p>hello</p>");return s("div",{className:"m-30px",children:s(ga,{content:e,handleChange:n=>t(n)})})}function ba(){const e=({index:t,style:n})=>b("div",{className:`text-center ${t%2?"bg-#f8f8f0":""}`,style:n,children:["Row ",t+1]});return s(ss,{children:({height:t,width:n})=>s(ns,{height:t,itemCount:1e4,itemSize:35,width:n,children:e})})}function Ca(){const e=document.getElementById("content"),t=e==null?void 0:e.offsetHeight,n=document.getElementById("searches"),a=n==null?void 0:n.offsetHeight,o=document.getElementById("pagination"),r=o==null?void 0:o.offsetHeight;let i=t||0;return a&&i>0&&(i-=a),r&&i>0&&(i-=r),i>0?i-30:450}function Qe(e){const{onResize:t,width:n,...a}=e;return n?s(as,{width:n,height:0,handle:s("span",{className:"react-resizable-handle",onClick:o=>{o.stopPropagation()}}),onResize:t,draggableOpts:{enableUserSelectHack:!1},children:s("th",{...a})}):s("th",{...a})}function xa(e,t){switch(t.type){case"changeScroll":let n=t.curScrollTop||0,a=t.scrollHeight||0;const o=t.tableScrollY||0;return a<=0&&(a=0),a!==0&&o===e.tableScrollY&&(a=e.scrollHeight),e.scrollHeight&&n>e.scrollHeight&&(n=e.scrollHeight),{...e,curScrollTop:n,scrollHeight:a,tableScrollY:o};case"reset":return{...e,curScrollTop:0,scrollHeight:0};default:throw new Error("\u8868\u683C\uFF1A\u672A\u77E5\u9519\u8BEF\u7C7B\u578B!")}}function et(e){return typeof e=="number"&&isFinite(e)}const Ot=l.createContext({dispatch:void 0,renderLen:1,start:0,offsetStart:0,rowHeight:46,totalLen:0});function wa(e){const{children:t,...n}=e,{renderLen:a,start:o,offsetStart:r}=l.useContext(Ot);let i=null;if(t&&t!==null){const d=t==null?void 0:t[1];Array.isArray(d)&&d.length?i=[t==null?void 0:t[0],d.slice(o,o+a).map(u=>Array.isArray(u)?u[0]:u)]:i=t}return s("tbody",{...n,style:{transform:`translateY(-${r}px)`},children:i})}const Fa={rowHeight:46,curScrollTop:0,scrollHeight:0,tableScrollY:0};let _e=0;function ka(e){var B,D,_,H,g,k;const{style:t,children:n,...a}=e,{width:o,...r}=t,[i,d]=l.useReducer(xa,Fa),u=l.useRef(null),m=l.useRef(null),[h,y]=l.useState((H=(_=(D=(B=n[1])==null?void 0:B.props)==null?void 0:D.data)==null?void 0:_.length)!=null?H:0);l.useEffect(()=>{var p,N,A,j,G,X;et((A=(N=(p=n[1])==null?void 0:p.props)==null?void 0:N.data)==null?void 0:A.length)&&y((X=(G=(j=n[1])==null?void 0:j.props)==null?void 0:G.data)==null?void 0:X.length)},[n]);const x=l.useMemo(()=>{let p="auto";return i.rowHeight&&h&&(p=i.rowHeight*h+10),p},[i.rowHeight,h]);let f=0;typeof _e=="string"?f=(k=(g=u.current)==null?void 0:g.parentNode)==null?void 0:k.offsetHeight:f=_e,et(x)&&x<f&&(f=x),f<=0&&(f=0);const S=l.useMemo(()=>{let p=1;if(i.rowHeight&&h&&f)if(f<=0)p=0;else{const N=(f/i.rowHeight|0)+3;p=N>h?h:N}return p},[i.rowHeight,h,f]);let c=i.rowHeight?i.curScrollTop/i.rowHeight|0:0,C=i.rowHeight?i.curScrollTop%i.rowHeight:0;i.curScrollTop&&i.rowHeight&&i.curScrollTop>i.rowHeight?c>h-S?C=0:c>1&&(c=c-1,C+=i.rowHeight):c=0,l.useEffect(()=>{var N;const p=(N=u.current)==null?void 0:N.parentNode;p&&(p.scrollTop=0),d({type:"reset"})},[h]);const E=Nn(p=>{var A,j,G;const N=(j=(A=p==null?void 0:p.target)==null?void 0:A.scrollTop)!=null?j:0;if(N!==i.curScrollTop){const X=((G=p==null?void 0:p.target)==null?void 0:G.scrollHeight)-f;d({type:"changeScroll",curScrollTop:N,scrollHeight:X,tableScrollY:f})}},{wait:60});return l.useEffect(()=>{var N;const p=(N=u==null?void 0:u.current)==null?void 0:N.parentNode;return p&&p.addEventListener("scroll",A=>E.run(A)),()=>{p.removeEventListener("scroll",A=>E.run(A))}},[u,i.curScrollTop,f,i.scrollHeight,E]),s("div",{className:"virtualTable",ref:u,style:{width:"100%",position:"relative",height:x,boxSizing:"border-box",paddingTop:i.curScrollTop},children:s(Ot.Provider,{value:{dispatch:d,rowHeight:i.rowHeight,start:c,offsetStart:C,renderLen:S,totalLen:h},children:s("table",{...a,ref:m,style:{...r,width:o,position:"relative"},children:n})})})}function Sa(e){return _e=e.height,{table:ka,body:{wrapper:wa}}}function Ea(e){const{loading:t,isZebra:n,isBordered:a,isVirtual:o,scrollX:r,scrollY:i}=e,[d,u]=l.useState(e.columns),m=Ca(),h=C=>(E,{size:B})=>{const D=[...d];D[C]={...D[C],width:B.width},u(D)},y=d.map((C,E)=>({...C,onHeaderCell:B=>({width:B.width,onResize:h(E)})})),x=Sa({height:m}),f=l.useMemo(()=>({header:{cell:Qe},body:{wrapper:x.body.wrapper},table:x.table}),[x]),S=o!==!1?f:{header:{cell:Qe}},c={...e.scroll,x:r,y:i||m};return s("div",{id:"table",className:`
        overflow-auto
        ${a!==!1?"bordered":""}
        ${n!==!1?"zebra":""}
      `,style:{height:m},children:s(Fn,{size:"small",rowKey:"id",pagination:!1,loading:t,...e,bordered:a!==!1,scroll:c,components:S,columns:y})})}const Ve=l.memo(Ea);function va(){const e=[{title:"ID",dataIndex:"id",width:200},{title:"\u540D\u79F0",dataIndex:"name",width:200},{title:"\u7535\u8BDD",dataIndex:"phone",width:200},{title:"\u6570\u91CF",dataIndex:"number",width:200}],t=new Array(0).fill({});for(let n=0;n<1e4;n++){const a=n+1;t.push({id:a,name:"name"+a,phone:a*13,number:a*3})}return s(Ve,{scrollY:400,columns:e,dataSource:t,style:{borderBottom:"1px solid rgba(0, 0, 0, .05)"}})}function Da(){return q("\u865A\u62DF\u6EDA\u52A8"),b("div",{className:"flex p-30px h-full",children:[b("div",{className:"flex flex-col mr-30px",children:[s("h2",{children:"\u865A\u62DF\u6EDA\u52A8\u5217\u8868(10000\u6761)\uFF1A"}),s("div",{className:"h-500px w-300px border border-cool-gray-100",children:s(ba,{})})]}),b("div",{children:[s("h2",{children:"\u865A\u62DF\u6EDA\u52A8\u8868\u683C(10000\u6761)\uFF1A"}),s(va,{})]})]})}function Ba(){return[n=>{const{content:a,height:o,width:r,rotate:i,color:d,fontSize:u,opacity:m}=n;if(document.getElementById("south_watermark")!==null)return;const h=Math.floor(document.body.clientWidth/r)*2;let y="";for(let C=0;C<h;C++)y+=`
        <span style="${`
        display: inline-block;
        line-height: ${o}px;
        width: ${r}px;
        text-align: center;
        transform:rotate( ${i}deg);
        color: ${d};
        font-size: ${u}px;
        opacity: ${m};
        `}">
          ${a}
        </span>
      `;const x=document.createElement("div");x.innerHTML=y;const f=Math.floor(document.body.clientHeight/o)*2;let S="";for(let C=0;C<f;C++)S+=`<div style="white-space: nowrap;">${x.innerHTML}</div>`;const c=document.createElement("div");c.innerHTML=S,c.id="south_watermark",c.style.position="fixed",c.style.top="0px",c.style.left="-100px",c.style.zIndex="99999",c.style.pointerEvents="none",c.style.userSelect="none",document.body.appendChild(c)},()=>{if(document.getElementById("south_watermark")!==null&&document.getElementById("south_watermark")!==null){const n=document.getElementById("south_watermark");document.body.removeChild(n)}}]}function Na(){q("\u6C34\u5370");const[e,t]=Ba();return b("div",{className:"p-30px",children:[s(W,{onClick:()=>{e({content:"\u8FD9\u662F\u6C34\u5370",height:300,width:350,rotate:-20,color:"#000",fontSize:30,opacity:.07})},children:"\u6253\u5F00\u6C34\u5370"}),s(W,{danger:!0,onClick:()=>{t()},children:"\u9690\u85CF\u6C34\u5370"})]})}function Aa(){return q("\u4E09\u5C42\u7ED3\u6784"),s("div",{className:"m-30px",children:"\u4E09\u5C42\u7ED3\u6784"})}const Pa=[{label:"\u72B6\u6001",name:"status",component:"Select",componentProps:{options:wt}},{label:"\u6A21\u5757",name:"module",wrapperCol:170,component:"Select",componentProps:{options:Ft}},{label:"\u63A7\u5236\u5668",name:"controller",component:"Input"}],Ta=e=>[{label:"\u540D\u79F0",name:"name",rules:se,component:"Input"},{label:"\u72B6\u6001",name:"status",rules:Te,component:"Select",componentProps:{options:wt}},{label:"\u6A21\u5757",name:"module",rules:Te,component:"Select",componentProps:{options:Ft}},{label:"\u63A7\u5236\u5668",name:"controller",rules:se,component:"Input"},{label:"\u540C\u65F6\u521B\u5EFA\u83DC\u5355",name:"actions",hidden:!!e,component:"CheckboxGroup",componentProps:{options:Is}}],$a=e=>[{title:"ID",dataIndex:"id",width:200},{title:"\u540D\u79F0",dataIndex:"name",width:200},{title:"\u72B6\u6001",dataIndex:"status",width:200},{title:"\u6A21\u5757",dataIndex:"module",width:200},{title:"\u63A7\u5236\u5668",dataIndex:"controller",width:200},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"created_at",width:200},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updated_at",width:200},{title:"\u64CD\u4F5C",dataIndex:"operate",width:200,fixed:"right",render:(t,n)=>e(t,n)}];function zt(e){const{isLoading:t}=e,n={...e};return delete n.isLoading,s(W,{type:"primary",...n,loading:!!t,children:"\u7F16\u8F91"})}const{confirm:Ia}=xe;function Ht(e){const{isLoading:t,handleDelete:n}=e,a={...e};return delete a.isLoading,delete a.handleDelete,s(W,{danger:!0,type:"primary",...a,loading:!!t,onClick:()=>{Ia({title:"\u63D0\u793A",icon:s(nt,{}),content:"\u786E\u5B9A\u8981\u5220\u9664\u5417?",okText:"\u786E\u8BA4",okType:"danger",cancelText:"\u53D6\u6D88",onOk(){n()}})},children:"\u5220\u9664"})}function _a(e){return I.get("/authority/menu/index",{params:e})}function Ra(e){return I.get(`/authority/menu/${e}`)}function Ma(e){return I.post("/authority/menu",e)}function La(e,t){return I.put(`/authority/menu/${e}`,t)}function Oa(e){return I.delete(`/authority/menu/${e}`)}function Ye(e){const{onCancel:t}=e,n=l.useRef(null),[a,o]=l.useState(!0),[r,i]=l.useState(!1),[d,u]=l.useState({left:0,top:0,bottom:0,right:0}),m=(c,C)=>{var _;const{clientWidth:E,clientHeight:B}=window.document.documentElement,D=(_=n.current)==null?void 0:_.getBoundingClientRect();!D||u({left:-D.left+C.x,right:E-(D.right-C.x),top:-D.top+C.y,bottom:B-(D.bottom-C.y)})},h=()=>{a&&o(!1)},y=()=>{i(c=>(c||u({left:0,top:0,bottom:0,right:0}),!c))},x=()=>b("div",{className:"flex items-center justify-end absolute right-15px",children:[s(ae,{className:"text-#00000073 hover:text-#404040",placement:"bottom",title:r?"\u9000\u51FA\u6700\u5927\u5316":"\u6700\u5927\u5316",children:s("div",{className:"p-10px mt-3px cursor-pointer",onClick:y,children:s($,{className:"text-lg",icon:r?"ant-design:fullscreen-exit-outlined":"ant-design:fullscreen-outlined"})})}),s(ae,{className:"text-#00000073 hover:text-#404040",placement:"bottom",title:"\u5173\u95ED",children:s("div",{className:"p-10px mt-3px cursor-pointer",onClick:c=>t==null?void 0:t(c),children:s($,{className:"text-lg",icon:"ant-design:close-outlined"})})})]}),f=b("div",{className:"w-full cursor-move flex items-center justify-between",onMouseOver:h,onMouseOut:()=>o(!0),children:[s("span",{children:e.title||""}),x()]}),S=c=>s(os.exports,{disabled:a,bounds:d,onStart:m,position:r?{x:0,y:0}:void 0,children:s("div",{ref:n,children:c})});return s(xe,{closable:!1,maskClosable:!1,width:r?"100%":e.width||520,wrapClassName:r?"full-modal":"",modalRender:S,...e,title:f,children:e.children})}function Kt(e){const{list:t,data:n,children:a,labelCol:o,wrapperCol:r,formRef:i,handleFinish:d}=e,[u]=L.useForm();return l.useImperativeHandle(i,()=>({getFieldValue:y=>u.getFieldValue(y)||{},getFieldsValue:()=>u.getFieldsValue()||{},handleReset:()=>{u.resetFields()},handleSubmit:()=>{u.submit()}})),l.useEffect(()=>{u.setFieldsValue(e.data)},[u,e.data]),s("div",{children:b(L,{name:"basic",form:u,labelCol:o||{span:6},wrapperCol:r||{span:15},initialValues:n,onFinish:y=>{if(d){const x=Nt(y,t);d==null||d(x)}},onFinishFailed:y=>{console.warn("\u8868\u5355\u9519\u8BEF:",y)},autoComplete:"off",children:[t==null?void 0:t.map(y=>s(L.Item,{label:y.label,name:y.name,rules:y.hidden?[]:y.rules,className:y.hidden?"!hidden":"",valuePropName:kt(y.component),children:Pt(y)},`${y.name}`)),a]})})}function za(e){return s("div",{id:"pagination",className:`
        w-full
        flex
        items-center
        justify-end
        bg-white
        px-5
        min-h-40px
        z-999
      `,children:s(kn,{showSizeChanger:!0,showQuickJumper:!0,size:"small",showTotal:n=>`\u5171 ${n||0} \u6761\u6570\u636E`,...e})})}const Ut=l.memo(za),pe={page:1,pageSize:20},Ae={status:1};function Ha(){q("\u83DC\u5355\u7BA1\u7406");const e=l.useRef(null),t=l.useRef(null),[n,a]=l.useState(!1),[o,r]=l.useState(!1),[i,d]=l.useState(!1),[u,m]=l.useState(be),[h,y]=l.useState(""),[x,f]=l.useState(Ae),[S,c]=l.useState(pe.page),[C,E]=l.useState(pe.pageSize),[B,D]=l.useState(0),[_,H]=l.useState([]),g=v(w=>w.user.permissions),k="/authority/menu",p={page:Q(`${k}/index`,g),create:Q(`${k}/create`,g),update:Q(`${k}/update`,g),delete:Q(`${k}/delete`,g)},N=w=>{c(1),A({page:1,pageSize:C,...w})},A=l.useCallback(async w=>{try{r(!0);const{data:{data:F}}=await _a(w),{items:R,total:M}=F;D(M),H(R)}finally{r(!1)}},[]);l.useEffect(()=>{p.page&&A({...pe})},[A,p.page]);const j=()=>{a(!0),m(be),y(""),f(Ae)},G=async w=>{a(!0),m(Ct(w)),y(w),f(Ae);try{d(!0);const{data:{data:F}}=await Ra(w);f(F)}finally{d(!1)}},X=()=>{var w;(w=t.current)==null||w.handleSubmit()},ce=()=>{var R;const F={...((R=e.current)==null?void 0:R.getFieldsValue())||{},page:S,pageSize:C};A(F)},Se=async w=>{var F;try{d(!0);const R=()=>h?La(h,w):Ma(w),{data:M}=await R();ce(),a(!1),(F=t.current)==null||F.handleReset(),O.success((M==null?void 0:M.message)||"\u64CD\u4F5C\u6210\u529F")}finally{d(!1)}},Ee=async w=>{try{r(!0);const{data:F}=await Oa(w);(F==null?void 0:F.code)===200&&(O.success((F==null?void 0:F.message)||"\u5220\u9664\u6210\u529F"),ce())}finally{r(!1)}},ve=l.useCallback((w,F)=>{var M;c(w),E(F);const R=(M=e.current)==null?void 0:M.getFieldsValue();A({...R,page:w,pageSize:F})},[A]),De=(w,F)=>b(z,{children:[p.update===!0&&s(zt,{className:"mr-5px",isLoading:o,onClick:()=>G(F.id)}),p.delete===!0&&s(Ht,{className:"mr-5px",isLoading:o,handleDelete:()=>Ee(F.id)})]});return s(Ue,{isPermission:p.page,children:b(z,{children:[s(Ke,{formRef:e,list:Pa,data:pe,isLoading:o,isCreate:p.create,onCreate:j,handleFinish:N}),s(Ve,{loading:o,columns:$a(De),dataSource:_}),s(Ut,{disabled:o,defaultCurrent:S,defaultPageSize:C,total:B,onChange:ve}),s(Ye,{title:u,open:n,confirmLoading:i,onOk:X,onCancel:()=>a(!1),children:s(Kt,{formRef:t,list:Ta(h),data:x,labelCol:{span:6},handleFinish:Se})})]})})}const Ka=[{label:"\u5E74\u9F84",name:"age",component:"InputNumber"},{label:"\u540D\u5B57",name:"keyword",component:"Input"}],Ua=[{label:"\u5D4C\u5957\u6570\u636E",name:["user","name","test"],rules:se,component:"Input"},{label:"\u7528\u6237\u540D",name:"username",rules:se,component:"Input"},{label:"\u59D3\u540D",name:"real_name",rules:se,component:"Input"},{label:"\u89D2\u8272",name:"roles_name",rules:se,component:"Input"},{label:"\u72B6\u6001",name:"status",rules:Te,component:"Select",componentProps:{options:$s}}],Va=e=>[{title:"ID",dataIndex:"id",width:400,fixed:"left"},{title:"\u7528\u6237\u540D",dataIndex:"username",width:400,fixed:"left"},{title:"\u59D3\u540D",dataIndex:"real_name",width:400},{title:"\u89D2\u8272",dataIndex:"roles_name",width:400},{title:"\u624B\u673A\u53F7",dataIndex:"phone",width:400},{title:"\u90AE\u7BB1",dataIndex:"email",width:400},{title:"\u72B6\u6001",dataIndex:"status",width:200,render:t=>s("span",{children:t?"\u5F00\u542F":"\u5173\u95ED"})},{title:"\u64CD\u4F5C",dataIndex:"operate",width:200,fixed:"right",render:(t,n)=>e(t,n)}];function Ya(e){return I.get("/authority/user/index",{params:e})}function Wa(e){return I.get(`/authority/user/${e}`)}function qa(e){return I.post("/authority/user",e)}function ja(e,t){return I.put(`/authority/user/${e}`,t)}function Ga(e){return I.delete(`/authority/user/${e}`)}const ge={page:1,pageSize:20},Pe={status:1};function Ja(){q("\u7528\u6237\u7BA1\u7406");const e=l.useRef(null),t=l.useRef(null),[n,a]=l.useState(!1),[o,r]=l.useState(!1),[i,d]=l.useState(!1),[u,m]=l.useState(be),[h,y]=l.useState(""),[x,f]=l.useState(Pe),[S,c]=l.useState(ge.page),[C,E]=l.useState(ge.pageSize),[B,D]=l.useState(0),[_,H]=l.useState([]),g=v(w=>w.user.permissions),k="/authority/user",p={page:Q(`${k}/index`,g),create:Q(`${k}/create`,g),update:Q(`${k}/update`,g),delete:Q(`${k}/delete`,g)},N=w=>{c(1),A({page:1,pageSize:C,...w})},A=l.useCallback(async w=>{try{a(!0);const{data:{data:F}}=await Ya(w),{items:R,total:M}=F;D(M),H(R)}finally{a(!1)}},[]);l.useEffect(()=>{p.page&&A({...ge})},[A,p.page]);const j=()=>{d(!0),m(be),y(""),f(Pe)},G=async w=>{d(!0),m(Ct(w)),y(w),f(Pe);try{r(!0);const{data:{data:F}}=await Wa(w);f(F)}finally{r(!1)}},X=()=>{var w;(w=t.current)==null||w.handleSubmit()},ce=()=>{var R;const F={...((R=e.current)==null?void 0:R.getFieldsValue())||{},page:S,pageSize:C};A(F)},Se=async w=>{var F;try{r(!0);const R=()=>h?ja(h,w):qa(w),{data:M}=await R();ce(),d(!1),(F=t.current)==null||F.handleReset(),O.success((M==null?void 0:M.message)||"\u64CD\u4F5C\u6210\u529F")}finally{r(!1)}},Ee=async w=>{try{a(!0);const{data:F}=await Ga(w);(F==null?void 0:F.code)===200&&(O.success((F==null?void 0:F.message)||"\u5220\u9664\u6210\u529F"),ce())}finally{a(!1)}},ve=(w,F)=>{var M;c(w),E(F);const R=(M=e.current)==null?void 0:M.getFieldsValue();A({...R,page:w,pageSize:F})},De=(w,F)=>b(z,{children:[p.update===!0&&s(zt,{className:"mr-5px",isLoading:n,onClick:()=>G(F.id)}),p.delete===!0&&s(Ht,{className:"mr-5px",isLoading:n,handleDelete:()=>Ee(F.id)})]});return s(Ue,{isPermission:p.page,children:b(z,{children:[s(Ke,{formRef:e,list:Ka,data:ge,isLoading:n,isCreate:p.create,onCreate:j,handleFinish:N}),s(Ve,{loading:n,columns:Va(De),dataSource:_}),s(Ut,{disabled:n,defaultCurrent:S,defaultPageSize:C,total:B,onChange:ve}),s(Ye,{title:u,open:i,confirmLoading:o,onOk:X,onCancel:()=>d(!1),children:s(Kt,{formRef:t,list:Ua,data:x,labelCol:{span:6},handleFinish:Se})})]})})}const Za=[{caseSensitive:!1,path:"403",element:l.createElement(He)},{caseSensitive:!1,path:"/",element:l.createElement(Cs)},{caseSensitive:!1,path:"*",element:l.createElement(xs)},{caseSensitive:!1,path:"dashboard",children:[{caseSensitive:!1,path:"",element:l.createElement(ra)}]},{caseSensitive:!1,path:"loading",children:[{caseSensitive:!1,path:"",element:l.createElement(ia)}]},{caseSensitive:!1,path:"login",children:[{caseSensitive:!1,path:"",element:l.createElement(Mt)}]},{caseSensitive:!1,path:"demo",children:[{caseSensitive:!1,path:"copy",children:[{caseSensitive:!1,path:"",element:l.createElement(pa)}]},{caseSensitive:!1,path:"editor",children:[{caseSensitive:!1,path:"",element:l.createElement(ya)}]},{caseSensitive:!1,path:"virtualScroll",children:[{caseSensitive:!1,path:"",element:l.createElement(Da)}]},{caseSensitive:!1,path:"watermark",children:[{caseSensitive:!1,path:"",element:l.createElement(Na)}]},{caseSensitive:!1,path:"level1",children:[{caseSensitive:!1,path:"level2",children:[{caseSensitive:!1,path:"level3",element:l.createElement(Aa)}]}]}]},{caseSensitive:!1,path:"system",children:[{caseSensitive:!1,path:"menu",children:[{caseSensitive:!1,path:"",element:l.createElement(Ha)}]},{caseSensitive:!1,path:"user",children:[{caseSensitive:!1,path:"",element:l.createElement(Ja)}]}]}];function Xa(e){return I.get("/authority/user/refresh-permissions",{params:e})}const Vt=Re({name:"menu",initialState:{isPhone:!1,isCollapsed:!1,openKey:["Dashboard"]},reducers:{toggleCollapsed:(e,t)=>{e.isCollapsed=!!t.payload},togglePhone:(e,t)=>{e.isPhone=!!t.payload},setOpenKey:(e,t)=>{e.openKey=t.payload}}}),{toggleCollapsed:Yt,togglePhone:Qa,setOpenKey:he}=Vt.actions,eo=Vt.reducer,to="_header_1g4dk_1",no="_headerCloseMenu_1g4dk_12",so="_headerDriver_1g4dk_15",ao="_menu_1g4dk_18",oo="_menuClose_1g4dk_25",ro="_con_1g4dk_28",io="_conCloseMenu_1g4dk_35",lo="_conMaximize_1g4dk_38",co="_headerNone_1g4dk_42",uo="_none_1g4dk_46",mo="_menuNone_1g4dk_49",ho="_conPhone_1g4dk_53",fo="_headerPhone_1g4dk_56",po="_leftDivide_1g4dk_59",K={header:to,headerCloseMenu:no,headerDriver:so,menu:ao,menuClose:oo,con:ro,conCloseMenu:io,conMaximize:lo,headerNone:co,none:uo,menuNone:mo,conPhone:ho,headerPhone:fo,leftDivide:po};function go(){const e=Z(),t=Ce(),n=V(),[a,o]=l.useState([]),r=v(c=>c.menu.openKey),i=v(c=>c.tabs.isMaximize),d=v(c=>c.menu.isCollapsed),u=v(c=>c.menu.isPhone),m=v(c=>c.user.permissions);l.useEffect(()=>{const{pathname:c}=t,C=we(c);n(he(C))},[t]),l.useEffect(()=>{if(m.length>0){const c=mt(U,m);o(c||[])}},[m]);const h=c=>{e(c);const E=ne({menus:a,permissions:m,key:c});E&&(n(J(E.key)),n(ft(E.nav)),n(le(E)))},y=c=>{h(c.key)},x=(c,C)=>{let E=!0;for(let B=0;B<c.length;B++)if(c[B]!==C[B]){E=!1;break}return E},f=c=>{const C=[];let E="";if(c.length>0){E=c[c.length-1];const B=oe(E);C.push(E);for(let D=c.length-2;D>=0;D--){const _=oe(c[D]);x(_,B)&&C.unshift(c[D])}}n(he(C))},S=()=>{const c=re(a,m);h(c)};return b("div",{className:`
        transition-all
        overflow-auto
        ${K.menu}
        ${d?K.menuClose:""}
        ${i||u&&d?K.menuNone:""}
        ${u?"z-1000":""}
      `,children:[b("div",{className:`
          text-white
          flex
          content-center
          px-5
          py-2
          cursor-pointer
          ${d?"justify-center":""}
        `,onClick:S,children:[s("img",{src:Rt,width:30,height:30,className:"object-contain",alt:"logo"}),s("span",{className:`
          text-white
          ml-3
          text-xl
          font-bold
          truncate
          ${d?"hidden":""}
        `,children:"\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF"})]}),s(Me,{selectedKeys:[t.pathname],openKeys:r,mode:"inline",theme:"dark",inlineCollapsed:d,items:a,onClick:y,onOpenChange:f})]})}const yo="/assets/png/avatar-07151444.png";function bo(){const[e,{toggleFullscreen:t}]=An(()=>document.getElementById("layout"));return s(ae,{title:e?"\u9000\u51FA\u5168\u5C4F":"\u5168\u5C4F",children:b("div",{className:"text-lg mr-4 cursor-pointer",onClick:t,children:[e&&s(Xt,{}),!e&&s(Qt,{})]})})}function Co(e){return[n=>{var a,o,r,i,d;switch(n.key){case"ArrowUp":(a=e.ArrowUp)==null||a.call(e);break;case"ArrowDown":(o=e.ArrowDown)==null||o.call(e);break;case"ArrowLeft":(r=e.ArrowLeft)==null||r.call(e);break;case"ArrowRight":(i=e.ArrowRight)==null||i.call(e);break;case"Enter":(d=e.Enter)==null||d.call(e);break}}]}function xo(e){const{list:t,active:n,onCancel:a,changActive:o}=e,r=Z(),i=V(),d=v(h=>h.user.permissions),u=h=>{r(h);const x=ne({menus:U,permissions:d,key:h});i(le(x)),i(J(h));const f=we(h);i(he(f)),a()},m=h=>{o(h)};return b(z,{children:[!(t!=null&&t.length)&&b("div",{className:"flex flex-col items-center pt-5 text-warm-gray-400",children:[s($,{className:"text-40px",icon:"mdi:archive-cancel-outline"}),s("span",{className:"mt-1",children:"\u6682\u65E0\u641C\u7D22\u7ED3\u6784"})]}),(t==null?void 0:t.length)>0&&s("div",{className:"mt-5",children:t==null?void 0:t.map(h=>{var y;return b("div",{className:`
                h-56px
                mt-8px
                px-14px
                rounded-4px
                cursor-pointer
                flex
                items-center
                justify-between
                shadow-md
                border
                border-light-500
                ${n===h.key?"bg-blue-500 text-white":""}
              `,onClick:()=>u(h.key),onMouseEnter:()=>m(h.key),children:[b("div",{className:"flex items-center",children:[s($,{className:"text-lg mr-1",icon:"gg:menu-boxed"}),h.nav&&((y=h.nav)==null?void 0:y.length)>0&&h.nav.map((x,f)=>b(l.Fragment,{children:[f>0&&s("span",{className:"mx-5px",children:">"}),s("span",{children:x})]},x)),!h.nav&&s("span",{children:h.label})]}),s($,{className:"icon text-20px p-2px mr-5px",icon:"ant-design:enter-outlined"})]},h.key)})})]})}const wo="_icon_1eshe_1",ye={icon:wo};function Fo(){return b("div",{className:"flex items-center text-dark-50",children:[b("span",{className:"mr-14px flex items-center",children:[s($,{className:`${ye.icon} text-20px p-2px mr-5px`,icon:"ant-design:enter-outlined"}),s("span",{children:"\u786E\u8BA4"})]}),b("span",{className:"mr-14px flex items-center",children:[s($,{className:`${ye.icon} text-20px p-2px mr-5px`,icon:"mdi-arrow-up-thin"}),s($,{className:`${ye.icon} text-20px p-2px mr-5px`,icon:"mdi-arrow-down-thin"}),s("span",{children:"\u5207\u6362"})]}),b("span",{className:"flex items-center",children:[s($,{className:`${ye.icon} text-20px p-2px mr-5px`,icon:"mdi:keyboard-esc"}),s("span",{children:"\u5173\u95ED"})]})]})}function ko(e){const t=Z(),n=l.useRef(null),{modalRef:a}=e,[o,r]=l.useState(""),[i,d]=l.useState(""),[u,m]=l.useState([]),[h,y]=l.useState(!1),x=V(),f=v(g=>g.user.permissions);l.useImperativeHandle(a,()=>({toggle:()=>{y(!h)}})),l.useLayoutEffect(()=>(h&&setTimeout(()=>{var g;(g=n.current)==null||g.focus({cursor:"end"})},0),()=>{r(""),d(""),m([])}),[h]);const S=g=>{d(g)},c=()=>{y(!1)},C=()=>{if(i){t(i);const k=ne({menus:U,permissions:f,key:i});x(le(k)),x(J(i));const p=we(i);x(he(p)),c()}},E=Oe(g=>{var N;const p=dt({menus:U,permissions:f,value:g});p!=null&&p.length?(d(((N=p==null?void 0:p[0])==null?void 0:N.key)||""),m(p)):(d(""),m([]))},{wait:200}),B=g=>{const{value:k}=g.target;r(k),E.run(k)},D=()=>{if(!u.length)return null;const g=u.findIndex(p=>p.key===i);if(g===0)return null;const k=u[g-1].key;d(k)},_=()=>{if(!u.length)return null;const g=u.length-1,k=u.findIndex(N=>N.key===i);if(k===g)return null;const p=u[k+1].key;d(p)},[H]=Co({ArrowUp:D,ArrowDown:_,Enter:C});return l.useEffect(()=>{if(u.length)return window.addEventListener("keydown",H),()=>{window.removeEventListener("keydown",H)}},[u,i,H]),b(xe,{className:"rounded-100px",open:h,closable:!1,onCancel:c,footer:s(Fo,{}),children:[s(ee,{ref:n,value:o,placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u8BCD\u641C\u7D22",allowClear:!0,prefix:s($,{className:"text-lg text-warm-gray-400",icon:"ant-design:search-outlined"}),onChange:B,onPressEnter:C}),s(xo,{list:u,active:i,onCancel:c,changActive:S})]})}function So(){const e=l.useRef(null);return b(z,{children:[s(ae,{title:"\u641C\u7D22",children:s(tt,{className:"text-lg mr-3",onClick:()=>{var n;(n=e.current)==null||n.toggle()}})}),s(ko,{modalRef:e})]})}function Eo(e){const{passwordRef:t}=e,[n]=L.useForm(),[a,o]=l.useState(!1),[r,i]=l.useState(!1);return l.useImperativeHandle(t,()=>({open:()=>{o(!0)}})),s(Ye,{title:"\u4FEE\u6539\u5BC6\u7801",open:a,confirmLoading:r,onOk:()=>{n.submit()},onCancel:()=>o(!1),children:b(L,{name:"UpdatePassword",form:n,labelCol:{span:5},wrapperCol:{span:16},onFinish:async m=>{if(m.password!==m.confirmPassword)return O.warning({content:"\u5BC6\u7801\u548C\u786E\u8BA4\u5BC6\u7801\u4E0D\u76F8\u540C!",key:"confirmPassword"});try{i(!0);const{data:h}=await ca(m);h.code===200&&(o(!1),O.success(h.message))}finally{i(!1)}},autoComplete:"off",children:[s(L.Item,{label:"\u7528\u6237\u540D",name:"username",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"}],children:s(ee,{placeholder:me})}),s(L.Item,{label:"\u5BC6\u7801",name:"password",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801!"}],children:s($e,{})}),s(L.Item,{label:"\u786E\u8BA4\u5BC6\u7801",name:"confirmPassword",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u786E\u8BA4\u5BC6\u7801!"}],children:s($e,{})})]})})}const{Item:vo}=lt;function Do(e){const{className:t,list:n}=e,a=v(o=>o.menu.isPhone);return s(z,{children:!a&&s("div",{className:t,children:s(lt,{children:n==null?void 0:n.map(o=>s(vo,{className:"whitespace-nowrap",children:o},o))})})})}function Bo(){const e=v(c=>c.menu.isCollapsed),t=v(c=>c.user.userInfo.username),n=V(),a=Z(),[,,o]=ke(),{clear:r}=ze.exports.useAliveController(),i=v(c=>c.tabs.isMaximize),d=v(c=>c.tabs.nav),u=l.useRef(null),y=s(Me,{onClick:c=>{var C;switch(c.key){case"password":(C=u.current)==null||C.open();break;case"logout":x();break}},items:[{key:"password",label:s("span",{children:"\u4FEE\u6539\u5BC6\u7801"}),icon:s(nn,{className:"mr-1"})},{key:"logout",label:s("span",{children:"\u9000\u51FA\u767B\u5F55"}),icon:s(sn,{className:"mr-1"})}]}),x=()=>{xe.confirm({title:"\u6E29\u99A8\u63D0\u793A",icon:s(nt,{}),content:"\u662F\u5426\u786E\u5B9A\u9000\u51FA\u7CFB\u7EDF?",onOk(){n(ua()),n(fs()),n(J("")),o(),r(),a("/login")}})},f=()=>b("div",{className:"flex items-center",children:[s(So,{}),s(bo,{}),s(Le,{className:"min-w-50px",overlay:y,children:b("div",{className:"ant-dropdown-link flex items-center cursor-pointer",onClick:c=>c.preventDefault(),children:[s("img",{src:yo,width:27,height:27,alt:"\u5934\u50CF",className:"rounded-1/2 overflow-hidden object-cover bg-light-500"}),s("span",{className:"ml-2 text-15px min-w-50px truncate",children:t||"south-admin"})]})})]}),S=()=>b("div",{className:"text-lg cursor-pointer",onClick:()=>n(Yt(!e)),children:[e&&s(en,{}),!e&&s(tn,{})]});return b(z,{children:[b("header",{className:`
          flex
          items-center
          justify-between
          px-6
          py-6px
          box-border
          transition-all
          ${K.headerDriver}
          ${i?K.none:""}
        `,children:[b("div",{className:"flex item-center",children:[s(S,{}),s(Do,{className:"ml-15px",list:d})]}),s(f,{})]}),s(Eo,{passwordRef:u})]})}function No(e){const{isRefresh:t,onClick:n}=e;return s(ae,{title:"\u91CD\u65B0\u52A0\u8F7D",placement:"bottom",children:s($,{className:`
          flex
          items-center
          justify-center
          text-lg
          cursor-pointer
          ${t?"animate-spin":""}
        `,onClick:()=>n(),icon:"ant-design:reload-outlined"})})}function Ao(){const e=V(),t=v(a=>a.tabs.isMaximize);return s(ae,{title:t?"\u6700\u5C0F\u5316":"\u6700\u5927\u5316",placement:"bottom",children:s($,{className:`
          flex
          items-center
          justify-center
          text-lg
          cursor-pointer
        `,icon:t?"ant-design:compress-outlined":"ant-design:expand-outlined",onClick:()=>{e(us(!t))}})})}function Wt(e){const{activeKey:t,onOpenChange:n,handleRefresh:a}=e,o=Ce(),r=V(),i=v(h=>h.tabs.tabs),d=i.findIndex(h=>h.key===t),u=[{key:"refresh",label:"\u91CD\u65B0\u52A0\u8F7D",disabled:t!==o.pathname,icon:s(an,{className:"mr-5px transform rotate-270"})},{key:"close_current",label:"\u5173\u95ED\u6807\u7B7E",disabled:i.length<=1,icon:s(on,{className:"mr-5px"})},{key:"close_other",label:"\u5173\u95ED\u5176\u4ED6",disabled:i.length<=1,icon:s(rn,{className:"mr-5px transform rotate-90"})},{key:"close_left",label:"\u5173\u95ED\u5DE6\u4FA7",disabled:d===0,icon:s(qe,{className:"mr-5px transform rotate-270"})},{key:"close_right",label:"\u5173\u95ED\u53F3\u4FA7",disabled:d===i.length-1,icon:s(qe,{className:"mr-5px transform rotate-90"})}];return s(Me,{onClick:h=>{switch(n==null||n(!1),h.key){case"refresh":a(t);break;case"close_current":r(pt(t));break;case"close_other":r(hs(t));break;case"close_left":r(ds(t));break;case"close_right":r(ms(t));break}},items:u})}function Po(e){const{activeKey:t,handleRefresh:n}=e,[a,o]=l.useState(!1),r=i=>{o(i)};return s(Le,{trigger:["click"],overlay:s(Wt,{activeKey:t,onOpenChange:r,handleRefresh:n}),onOpenChange:r,children:s($,{className:`
          flex
          items-center
          justify-center
          text-lg
          cursor-pointer
          transition-all
          transform
          ${a?"rotate-180":"rotate-0"}
        `,icon:"ant-design:down-outlined"})})}function To(){const e=Z(),t=Ce(),n=V(),{refresh:a}=ze.exports.useAliveController(),[o,r]=l.useState(!1),[i,d]=l.useState(null),u=v(g=>g.tabs.tabs),m=v(g=>g.tabs.activeKey),h=v(g=>g.user.permissions),y=v(g=>g.tabs.isMaximize),x=l.useCallback((g=t.pathname)=>{if(h.length>0){if(g==="/")return;const p=ne({menus:U,permissions:h,key:g});p&&(n(J(p.key)),n(ft(p.nav)),n(le(p)))}},[h]);l.useEffect(()=>{x()},[x]),l.useEffect(()=>{if(m&&m!==t.pathname){e(m),x(m);const g=we(m);n(he(g))}},[m,t.pathname]);const f=g=>{n(J(g))},S=g=>{n(pt(g))},c=(g,k)=>{k==="remove"&&S(g)},C=l.useCallback((g=m)=>{typeof g=="string"&&(i||(r(!0),a(g),e("/loading"),d(setTimeout(()=>{g!==m&&n(J(g)),r(!1),e(g),O.success({content:"\u5237\u65B0\u6210\u529F",key:"refresh"}),d(null)},1e3))))},[m,i]),E=l.useMemo(()=>s(No,{isRefresh:o,onClick:C}),[o,C]),B=l.useMemo(()=>s(Po,{activeKey:m,handleRefresh:C}),[m,C]),D=l.useMemo(()=>s(Ao,{}),[]),_=[{element:E},{element:B},{element:D}],H=(g,k)=>s(k,{...g,children:p=>s(Le,{overlay:s(Wt,{activeKey:p.key,handleRefresh:C}),trigger:["contextMenu"],children:s("div",{className:"mr-3px",children:p})},p.key)});return b("div",{className:`
      flex
      items-center
      justify-between
      mx-2
      transition-all
      ${y?K.conMaximize:""}
    `,children:[u.length>0?s(Sn,{hideAdd:!0,className:"w-full h-30px py-0",onChange:f,activeKey:m,type:"editable-card",onEdit:c,items:u,renderTabBar:H}):s("span",{}),s("div",{className:"flex",children:_==null?void 0:_.map((g,k)=>s("div",{className:`
                ${K.leftDivide}
                divide-solid
                w-36px
                h-36px
                text-#00000073
                hover:text-#404040
                flex
                place-content-center
                items-center
              `,children:g.element},k))})]})}function $o(){const e=V(),t=Z(),[n]=ke(),a=n(),[o,r]=l.useState(!0),i=v(f=>f.user.permissions),d=v(f=>f.user.userInfo.id),u=v(f=>f.tabs.isMaximize),m=v(f=>f.menu.isCollapsed),h=v(f=>f.menu.isPhone),y=l.useCallback(async()=>{try{r(!0);const{data:f}=await Xa({refresh_cache:!1});if(f){const{data:{user:S,permissions:c}}=f,C=_t(c);e(It(S)),e(Ie(C))}}catch(f){console.error("\u83B7\u53D6\u7528\u6237\u6570\u636E\u5931\u8D25:",f),Ie([])}finally{r(!1)}},[]);l.useEffect(()=>{a||t("/login"),a&&!d&&y()},[y,t,a,d]);const x=Oe(()=>{const f=window.innerWidth<=768;f&&e(Yt(!0)),e(Qa(f))},{wait:500});return l.useEffect(()=>(window.addEventListener("resize",x.run()),()=>{window.removeEventListener("resize",x.run())}),[]),b("div",{id:"layout",className:"bg-white",children:[b("div",{className:`
        transition-all
        ${K.header}
        ${m?K.headerCloseMenu:""}
        ${u?K.headerNone:""}
        ${h&&m?"!left-0 z-999":""}
      `,children:[s(Bo,{}),s(To,{})]}),s(go,{}),b("div",{id:"layoutContent",className:`
          overflow-auto
          bg-white
          transition-all
          ${K.con}
          ${u?K.conMaximize:""}
          ${m?K.conCloseMenu:""}
          ${h&&m?"!left-0":""}
        `,children:[o&&i.length===0&&s(En,{active:!0,className:"p-30px",paragraph:{rows:10}}),!o&&i.length===0&&s(He,{}),i.length>0&&s(un,{})]})]})}const Io=rs(Za),_o=[{path:"login",element:s(Mt,{})},{path:"",element:s($o,{}),children:Io}];function Ro(){return l.useEffect(()=>(We.done(),()=>{We.start()}),[]),s(jt,{children:s(()=>s(z,{children:dn(_o)}),{})})}const Mo=ln({reducer:{menu:eo,tabs:ps,user:da}});T.locale("zh-cn");qt.createRoot(document.getElementById("root")).render(s(vn,{locale:Dn,children:s(cn,{store:Mo,children:s(ze.exports.AliveScope,{children:s(Ro,{})})})}));document!=null&&document.getElementById("first")&&(document.getElementById("first").style.display="none");
