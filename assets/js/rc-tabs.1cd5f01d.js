import{f as V,g as Ee,h as oe,e as H,c as N,d as ze,b as _e}from"./@babel_runtime.0b96ec9f.js";import{r as t}from"./react.017637b6.js";import{c as G}from"./classnames.96a48171.js";import{f as be,K as Z,d as Nt,B as Pt,h as et}from"./rc-util.88348ebb.js";import{C as wt}from"./rc-motion.8586b577.js";import{R as tt}from"./rc-resize-observer.c02c0b35.js";import{D as It}from"./rc-dropdown.04c040c7.js";import{E as Mt,M as Lt}from"./rc-menu.d9a789e6.js";const Te=t.exports.createContext(null);var dt=t.exports.forwardRef(function(e,a){var r=e.prefixCls,i=e.className,o=e.style,n=e.id,s=e.active,c=e.tabKey,l=e.children;return t.exports.createElement("div",{id:n&&"".concat(n,"-panel-").concat(c),role:"tabpanel",tabIndex:s?0:-1,"aria-labelledby":n&&"".concat(n,"-tab-").concat(c),"aria-hidden":!s,style:o,className:G(r,s&&"".concat(r,"-active"),i),ref:a},l)}),At=["key","forceRender","style","className"];function Bt(e){var a=e.id,r=e.activeKey,i=e.animated,o=e.tabPosition,n=e.destroyInactiveTabPane,s=t.exports.useContext(Te),c=s.prefixCls,l=s.tabs,y=i.tabPane,S="".concat(c,"-tabpane");return t.exports.createElement("div",{className:G("".concat(c,"-content-holder"))},t.exports.createElement("div",{className:G("".concat(c,"-content"),"".concat(c,"-content-").concat(o),V({},"".concat(c,"-content-animated"),y))},l.map(function(u){var h=u.key,P=u.forceRender,k=u.style,I=u.className,L=Ee(u,At),w=h===r;return t.exports.createElement(wt,oe({key:h,visible:w,forceRender:P,removeOnLeave:!!n,leavedClassName:"".concat(S,"-hidden")},i.tabPaneMotion),function(M,A){var F=M.style,D=M.className;return t.exports.createElement(dt,oe({},L,{prefixCls:S,id:a,tabKey:h,animated:y,active:w,style:H(H({},k),F),className:G(I,D),ref:A}))})})))}var at={width:0,height:0,left:0,top:0};function Dt(e,a,r){return t.exports.useMemo(function(){for(var i,o=new Map,n=a.get((i=e[0])===null||i===void 0?void 0:i.key)||at,s=n.left+n.width,c=0;c<e.length;c+=1){var l=e[c].key,y=a.get(l);if(!y){var S;y=a.get((S=e[c-1])===null||S===void 0?void 0:S.key)||at}var u=o.get(l)||H({},y);u.right=s-u.left-u.width,o.set(l,u)}return o},[e.map(function(i){return i.key}).join("_"),a,r])}function ft(e){var a=t.exports.useRef(),r=t.exports.useRef(!1);function i(){for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];r.current||(be.cancel(a.current),a.current=be(function(){e.apply(void 0,n)}))}return t.exports.useEffect(function(){return r.current=!1,function(){r.current=!0,be.cancel(a.current)}},[]),i}function Kt(e){var a=t.exports.useRef([]),r=t.exports.useState({}),i=N(r,2),o=i[1],n=t.exports.useRef(typeof e=="function"?e():e),s=ft(function(){var l=n.current;a.current.forEach(function(y){l=y(l)}),a.current=[],n.current=l,o({})});function c(l){a.current.push(l),s()}return[n.current,c]}function nt(e,a){var r=t.exports.useRef(e),i=t.exports.useState({}),o=N(i,2),n=o[1];function s(c){var l=typeof c=="function"?c(r.current):c;l!==r.current&&a(l,r.current),r.current=l,n({})}return[r.current,s]}var zt=.1,rt=.01,Ce=20,ot=Math.pow(.995,Ce);function $t(e,a){var r=t.exports.useState(),i=N(r,2),o=i[0],n=i[1],s=t.exports.useState(0),c=N(s,2),l=c[0],y=c[1],S=t.exports.useState(0),u=N(S,2),h=u[0],P=u[1],k=t.exports.useState(),I=N(k,2),L=I[0],w=I[1],M=t.exports.useRef();function A(x){var C=x.touches[0],d=C.screenX,E=C.screenY;n({x:d,y:E}),window.clearInterval(M.current)}function F(x){if(!!o){x.preventDefault();var C=x.touches[0],d=C.screenX,E=C.screenY;n({x:d,y:E});var v=d-o.x,b=E-o.y;a(v,b);var j=Date.now();y(j),P(j-l),w({x:v,y:b})}}function D(){if(!!o&&(n(null),w(null),L)){var x=L.x/h,C=L.y/h,d=Math.abs(x),E=Math.abs(C);if(Math.max(d,E)<zt)return;var v=x,b=C;M.current=window.setInterval(function(){if(Math.abs(v)<rt&&Math.abs(b)<rt){window.clearInterval(M.current);return}v*=ot,b*=ot,a(v*Ce,b*Ce)},Ce)}}var R=t.exports.useRef();function g(x){var C=x.deltaX,d=x.deltaY,E=0,v=Math.abs(C),b=Math.abs(d);v===b?E=R.current==="x"?C:d:v>b?(E=C,R.current="x"):(E=d,R.current="y"),a(-E,-E)&&x.preventDefault()}var K=t.exports.useRef(null);K.current={onTouchStart:A,onTouchMove:F,onTouchEnd:D,onWheel:g},t.exports.useEffect(function(){function x(v){K.current.onTouchStart(v)}function C(v){K.current.onTouchMove(v)}function d(v){K.current.onTouchEnd(v)}function E(v){K.current.onWheel(v)}return document.addEventListener("touchmove",C,{passive:!1}),document.addEventListener("touchend",d,{passive:!1}),e.current.addEventListener("touchstart",x,{passive:!1}),e.current.addEventListener("wheel",E),function(){document.removeEventListener("touchmove",C),document.removeEventListener("touchend",d)}},[])}var it={width:0,height:0,left:0,top:0,right:0};function Wt(e,a,r,i,o,n,s){var c=s.tabs,l=s.tabPosition,y=s.rtl,S,u,h;return["top","bottom"].includes(l)?(S="width",u=y?"right":"left",h=Math.abs(r)):(S="height",u="top",h=-r),t.exports.useMemo(function(){if(!c.length)return[0,0];for(var P=c.length,k=P,I=0;I<P;I+=1){var L=e.get(c[I].key)||it;if(L[u]+L[S]>h+a){k=I-1;break}}for(var w=0,M=P-1;M>=0;M-=1){var A=e.get(c[M].key)||it;if(A[u]<h){w=M+1;break}}return[w,k]},[e,a,i,o,n,h,l,c.map(function(P){return P.key}).join("_"),y])}function st(e){var a;return e instanceof Map?(a={},e.forEach(function(r,i){a[i]=r})):a=e,JSON.stringify(a)}function Ot(e,a){var r=e.prefixCls,i=e.editable,o=e.locale,n=e.style;return!i||i.showAdd===!1?null:t.exports.createElement("button",{ref:a,type:"button",className:"".concat(r,"-nav-add"),style:n,"aria-label":(o==null?void 0:o.addAriaLabel)||"Add tab",onClick:function(c){i.onEdit("add",{event:c})}},i.addIcon||"+")}const vt=t.exports.forwardRef(Ot);var ct=t.exports.forwardRef(function(e,a){var r=e.position,i=e.prefixCls,o=e.extra;if(!o)return null;var n,s={};return ze(o)==="object"&&!t.exports.isValidElement(o)?s=o:s.right=o,r==="right"&&(n=s.right),r==="left"&&(n=s.left),n?t.exports.createElement("div",{className:"".concat(i,"-extra-content"),ref:a},n):null});function Vt(e,a){var r=e.prefixCls,i=e.id,o=e.tabs,n=e.locale,s=e.mobile,c=e.moreIcon,l=c===void 0?"More":c,y=e.moreTransitionName,S=e.style,u=e.className,h=e.editable,P=e.tabBarGutter,k=e.rtl,I=e.removeAriaLabel,L=e.onTabClick,w=e.getPopupContainer,M=e.popupClassName,A=t.exports.useState(!1),F=N(A,2),D=F[0],R=F[1],g=t.exports.useState(null),K=N(g,2),x=K[0],C=K[1],d="".concat(i,"-more-popup"),E="".concat(r,"-dropdown"),v=x!==null?"".concat(d,"-").concat(x):null,b=n==null?void 0:n.dropdownAriaLabel;function j(f,B){f.preventDefault(),f.stopPropagation(),h.onEdit("remove",{key:B,event:f})}var ce=t.exports.createElement(Mt,{onClick:function(B){var X=B.key,O=B.domEvent;L(X,O),R(!1)},prefixCls:"".concat(E,"-menu"),id:d,tabIndex:-1,role:"listbox","aria-activedescendant":v,selectedKeys:[x],"aria-label":b!==void 0?b:"expanded dropdown"},o.map(function(f){var B=h&&f.closable!==!1&&!f.disabled;return t.exports.createElement(Lt,{key:f.key,id:"".concat(d,"-").concat(f.key),role:"option","aria-controls":i&&"".concat(i,"-panel-").concat(f.key),disabled:f.disabled},t.exports.createElement("span",null,f.label),B&&t.exports.createElement("button",{type:"button","aria-label":I||"remove",tabIndex:0,className:"".concat(E,"-menu-item-remove"),onClick:function(O){O.stopPropagation(),j(O,f.key)}},f.closeIcon||h.removeIcon||"×"))}));function Q(f){for(var B=o.filter(function(ne){return!ne.disabled}),X=B.findIndex(function(ne){return ne.key===x})||0,O=B.length,_=0;_<O;_+=1){X=(X+f+O)%O;var ie=B[X];if(!ie.disabled){C(ie.key);return}}}function U(f){var B=f.which;if(!D){[Z.DOWN,Z.SPACE,Z.ENTER].includes(B)&&(R(!0),f.preventDefault());return}switch(B){case Z.UP:Q(-1),f.preventDefault();break;case Z.DOWN:Q(1),f.preventDefault();break;case Z.ESC:R(!1);break;case Z.SPACE:case Z.ENTER:x!==null&&L(x,f);break}}t.exports.useEffect(function(){var f=document.getElementById(v);f&&f.scrollIntoView&&f.scrollIntoView(!1)},[x]),t.exports.useEffect(function(){D||C(null)},[D]);var q=V({},k?"marginRight":"marginLeft",P);o.length||(q.visibility="hidden",q.order=1);var le=G(V({},"".concat(E,"-rtl"),k)),ae=s?null:t.exports.createElement(It,{prefixCls:E,overlay:ce,trigger:["hover"],visible:o.length?D:!1,transitionName:y,onVisibleChange:R,overlayClassName:G(le,M),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:w},t.exports.createElement("button",{type:"button",className:"".concat(r,"-nav-more"),style:q,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":d,id:"".concat(i,"-more"),"aria-expanded":D,onKeyDown:U},l));return t.exports.createElement("div",{className:G("".concat(r,"-nav-operations"),u),style:S,ref:a},ae,t.exports.createElement(vt,{prefixCls:r,locale:n,editable:h}))}const Ft=t.exports.memo(t.exports.forwardRef(Vt),function(e,a){return a.tabMoving});function Ut(e){var a,r=e.prefixCls,i=e.id,o=e.active,n=e.tab,s=n.key,c=n.label,l=n.disabled,y=n.closeIcon,S=e.closable,u=e.renderWrapper,h=e.removeAriaLabel,P=e.editable,k=e.onClick,I=e.onFocus,L=e.style,w="".concat(r,"-tab"),M=P&&S!==!1&&!l;function A(R){l||k(R)}function F(R){R.preventDefault(),R.stopPropagation(),P.onEdit("remove",{key:s,event:R})}var D=t.exports.createElement("div",{key:s,"data-node-key":s,className:G(w,(a={},V(a,"".concat(w,"-with-remove"),M),V(a,"".concat(w,"-active"),o),V(a,"".concat(w,"-disabled"),l),a)),style:L,onClick:A},t.exports.createElement("div",{role:"tab","aria-selected":o,id:i&&"".concat(i,"-tab-").concat(s),className:"".concat(w,"-btn"),"aria-controls":i&&"".concat(i,"-panel-").concat(s),"aria-disabled":l,tabIndex:l?null:0,onClick:function(g){g.stopPropagation(),A(g)},onKeyDown:function(g){[Z.SPACE,Z.ENTER].includes(g.which)&&(g.preventDefault(),A(g))},onFocus:I},c),M&&t.exports.createElement("button",{type:"button","aria-label":h||"remove",tabIndex:0,className:"".concat(w,"-remove"),onClick:function(g){g.stopPropagation(),F(g)}},y||P.removeIcon||"×"));return u?u(D):D}var se=function(a){var r=a.current||{},i=r.offsetWidth,o=i===void 0?0:i,n=r.offsetHeight,s=n===void 0?0:n;return[o,s]},ge=function(a,r){return a[r?0:1]};function Ht(e,a){var r,i=t.exports.useContext(Te),o=i.prefixCls,n=i.tabs,s=e.className,c=e.style,l=e.id,y=e.animated,S=e.activeKey,u=e.rtl,h=e.extra,P=e.editable,k=e.locale,I=e.tabPosition,L=e.tabBarGutter,w=e.children,M=e.onTabClick,A=e.onTabScroll,F=t.exports.useRef(),D=t.exports.useRef(),R=t.exports.useRef(),g=t.exports.useRef(),K=t.exports.useRef(),x=t.exports.useRef(),C=t.exports.useRef(),d=I==="top"||I==="bottom",E=nt(0,function(m,$){d&&A&&A({direction:m>$?"left":"right"})}),v=N(E,2),b=v[0],j=v[1],ce=nt(0,function(m,$){!d&&A&&A({direction:m>$?"top":"bottom"})}),Q=N(ce,2),U=Q[0],q=Q[1],le=t.exports.useState([0,0]),ae=N(le,2),f=ae[0],B=ae[1],X=t.exports.useState([0,0]),O=N(X,2),_=O[0],ie=O[1],ne=t.exports.useState([0,0]),ue=N(ne,2),ke=ue[0],Re=ue[1],Ne=t.exports.useState([0,0]),de=N(Ne,2),Pe=de[0],we=de[1],T=Kt(new Map),ee=N(T,2),fe=ee[0],pt=ee[1],xe=Dt(n,fe,_[0]),re=ge(f,d),J=ge(_,d),Ie=ge(ke,d),$e=ge(Pe,d),mt=re<J+Ie,Y=mt?re-$e:re-Ie,bt="".concat(o,"-nav-operations-hidden"),ve=0,pe=0;d&&u?(ve=0,pe=Math.max(0,J-Y)):(ve=Math.min(0,Y-J),pe=0);function Me(m){return m<ve?ve:m>pe?pe:m}var We=t.exports.useRef(),xt=t.exports.useState(),Oe=N(xt,2),he=Oe[0],Ve=Oe[1];function Le(){Ve(Date.now())}function Ae(){window.clearTimeout(We.current)}$t(g,function(m,$){function p(z,W){z(function(Se){var Rt=Me(Se+W);return Rt})}return re>=J?!1:(d?p(j,m):p(q,$),Ae(),Le(),!0)}),t.exports.useEffect(function(){return Ae(),he&&(We.current=window.setTimeout(function(){Ve(0)},100)),Ae},[he]);var ht=Wt(xe,Y,d?b:U,J,Ie,$e,H(H({},e),{},{tabs:n})),Fe=N(ht,2),yt=Fe[0],St=Fe[1],Ue=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S,p=xe.get($)||{width:0,height:0,left:0,right:0,top:0};if(d){var z=b;u?p.right<b?z=p.right:p.right+p.width>b+Y&&(z=p.right+p.width-Y):p.left<-b?z=-p.left:p.left+p.width>-b+Y&&(z=-(p.left+p.width-Y)),q(0),j(Me(z))}else{var W=U;p.top<-U?W=-p.top:p.top+p.height>-U+Y&&(W=-(p.top+p.height-Y)),j(0),q(Me(W))}},ye={};I==="top"||I==="bottom"?ye[u?"marginRight":"marginLeft"]=L:ye.marginTop=L;var He=n.map(function(m,$){var p=m.key;return t.exports.createElement(Ut,{id:l,prefixCls:o,key:p,tab:m,style:$===0?void 0:ye,closable:m.closable,editable:P,active:p===S,renderWrapper:w,removeAriaLabel:k==null?void 0:k.removeAriaLabel,onClick:function(W){M(p,W)},onFocus:function(){Ue(p),Le(),g.current&&(u||(g.current.scrollLeft=0),g.current.scrollTop=0)}})}),Ge=function(){return pt(function(){var $=new Map;return n.forEach(function(p){var z=p.key,W=K.current.querySelector('[data-node-key="'.concat(z,'"]'));W&&$.set(z,{width:W.offsetWidth,height:W.offsetHeight,left:W.offsetLeft,top:W.offsetTop})}),$})};t.exports.useEffect(function(){Ge()},[n.map(function(m){return m.key}).join("_")]);var Be=ft(function(){var m=se(F),$=se(D),p=se(R);B([m[0]-$[0]-p[0],m[1]-$[1]-p[1]]);var z=se(C);Re(z);var W=se(x);we(W);var Se=se(K);ie([Se[0]-z[0],Se[1]-z[1]]),Ge()}),gt=n.slice(0,yt),Ct=n.slice(St+1),je=[].concat(_e(gt),_e(Ct)),Et=t.exports.useState(),Xe=N(Et,2),Tt=Xe[0],kt=Xe[1],te=xe.get(S),Ye=t.exports.useRef();function Ze(){be.cancel(Ye.current)}t.exports.useEffect(function(){var m={};return te&&(d?(u?m.right=te.right:m.left=te.left,m.width=te.width):(m.top=te.top,m.height=te.height)),Ze(),Ye.current=be(function(){kt(m)}),Ze},[te,d,u]),t.exports.useEffect(function(){Ue()},[S,st(te),st(xe),d]),t.exports.useEffect(function(){Be()},[u]);var qe=!!je.length,me="".concat(o,"-nav-wrap"),De,Ke,Je,Qe;return d?u?(Ke=b>0,De=b+re<J):(De=b<0,Ke=-b+re<J):(Je=U<0,Qe=-U+re<J),t.exports.createElement(tt,{onResize:Be},t.exports.createElement("div",{ref:Nt(a,F),role:"tablist",className:G("".concat(o,"-nav"),s),style:c,onKeyDown:function(){Le()}},t.exports.createElement(ct,{ref:D,position:"left",extra:h,prefixCls:o}),t.exports.createElement("div",{className:G(me,(r={},V(r,"".concat(me,"-ping-left"),De),V(r,"".concat(me,"-ping-right"),Ke),V(r,"".concat(me,"-ping-top"),Je),V(r,"".concat(me,"-ping-bottom"),Qe),r)),ref:g},t.exports.createElement(tt,{onResize:Be},t.exports.createElement("div",{ref:K,className:"".concat(o,"-nav-list"),style:{transform:"translate(".concat(b,"px, ").concat(U,"px)"),transition:he?"none":void 0}},He,t.exports.createElement(vt,{ref:C,prefixCls:o,locale:k,editable:P,style:H(H({},He.length===0?void 0:ye),{},{visibility:qe?"hidden":null})}),t.exports.createElement("div",{className:G("".concat(o,"-ink-bar"),V({},"".concat(o,"-ink-bar-animated"),y.inkBar)),style:Tt})))),t.exports.createElement(Ft,oe({},e,{removeAriaLabel:k==null?void 0:k.removeAriaLabel,ref:x,prefixCls:o,tabs:je,className:!qe&&bt,tabMoving:!!he})),t.exports.createElement(ct,{ref:R,position:"right",extra:h,prefixCls:o})))}const lt=t.exports.forwardRef(Ht);var Gt=["renderTabBar"],jt=["label","key"];function Xt(e){var a=e.renderTabBar,r=Ee(e,Gt),i=t.exports.useContext(Te),o=i.tabs;if(a){var n=H(H({},r),{},{panes:o.map(function(s){var c=s.label,l=s.key,y=Ee(s,jt);return t.exports.createElement(dt,oe({tab:c,key:l,tabKey:l},y))})});return a(n,lt)}return t.exports.createElement(lt,r)}function Yt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{inkBar:!0,tabPane:!1},a;return e===!1?a={inkBar:!1,tabPane:!1}:e===!0?a={inkBar:!0,tabPane:!1}:a=H({inkBar:!0},ze(e)==="object"?e:{}),a.tabPaneMotion&&a.tabPane===void 0&&(a.tabPane=!0),!a.tabPaneMotion&&a.tabPane&&(a.tabPane=!1),a}var Zt=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName"],ut=0;function qt(e,a){var r,i=e.id,o=e.prefixCls,n=o===void 0?"rc-tabs":o,s=e.className,c=e.items,l=e.direction,y=e.activeKey,S=e.defaultActiveKey,u=e.editable,h=e.animated,P=e.tabPosition,k=P===void 0?"top":P,I=e.tabBarGutter,L=e.tabBarStyle,w=e.tabBarExtraContent,M=e.locale,A=e.moreIcon,F=e.moreTransitionName,D=e.destroyInactiveTabPane,R=e.renderTabBar,g=e.onChange,K=e.onTabClick,x=e.onTabScroll,C=e.getPopupContainer,d=e.popupClassName,E=Ee(e,Zt),v=t.exports.useMemo(function(){return(c||[]).filter(function(T){return T&&ze(T)==="object"&&"key"in T})},[c]),b=l==="rtl",j=Yt(h),ce=t.exports.useState(!1),Q=N(ce,2),U=Q[0],q=Q[1];t.exports.useEffect(function(){q(Pt())},[]);var le=et(function(){var T;return(T=v[0])===null||T===void 0?void 0:T.key},{value:y,defaultValue:S}),ae=N(le,2),f=ae[0],B=ae[1],X=t.exports.useState(function(){return v.findIndex(function(T){return T.key===f})}),O=N(X,2),_=O[0],ie=O[1];t.exports.useEffect(function(){var T=v.findIndex(function(fe){return fe.key===f});if(T===-1){var ee;T=Math.max(0,Math.min(_,v.length-1)),B((ee=v[T])===null||ee===void 0?void 0:ee.key)}ie(T)},[v.map(function(T){return T.key}).join("_"),f,_]);var ne=et(null,{value:i}),ue=N(ne,2),ke=ue[0],Re=ue[1];t.exports.useEffect(function(){i||(Re("rc-tabs-".concat(ut)),ut+=1)},[]);function Ne(T,ee){K==null||K(T,ee);var fe=T!==f;B(T),fe&&(g==null||g(T))}var de={id:ke,activeKey:f,animated:j,tabPosition:k,rtl:b,mobile:U},Pe,we=H(H({},de),{},{editable:u,locale:M,moreIcon:A,moreTransitionName:F,tabBarGutter:I,onTabClick:Ne,onTabScroll:x,extra:w,style:L,panes:null,getPopupContainer:C,popupClassName:d});return t.exports.createElement(Te.Provider,{value:{tabs:v,prefixCls:n}},t.exports.createElement("div",oe({ref:a,id:i,className:G(n,"".concat(n,"-").concat(k),(r={},V(r,"".concat(n,"-mobile"),U),V(r,"".concat(n,"-editable"),u),V(r,"".concat(n,"-rtl"),b),r),s)},E),Pe,t.exports.createElement(Xt,oe({},we,{renderTabBar:R})),t.exports.createElement(Bt,oe({destroyInactiveTabPane:D},de,{animated:j}))))}var oa=t.exports.forwardRef(qt);export{oa as F};
