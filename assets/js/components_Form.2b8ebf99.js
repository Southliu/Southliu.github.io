import{j as o,r as C}from"./react.e58b2294.js";import{P,b as n,C as g}from"./components_Business.ac78b8d1.js";import{T as p,D as m,B as F,a as R,b as w,c as A,f as E}from"./components_Dates.c66decea.js";import{a as B,A as I}from"./components_Selects.873875ea.js";import{B as j}from"./components_Transfer.8f84a347.js";import{P as N}from"./components_PasswordStrength.3cd63933.js";import{W as V}from"./components_WangEditor.ad6c7fba.js";import{I as f,b as D,A as G,S as M,c as v,C as S,R as L,d as U,e as _,f as z,U as O,F as d}from"./antd.a9b3ffac.js";function W(r){switch(r){case"Switch":case"Checkbox":case"CheckboxGroup":return"checked";case"Upload":return"fileList";default:return"value"}}function $(r){switch(r){case"Select":return{allowClear:!0,placeholder:n};case"InputNumber":return{placeholder:P};case"Checkbox":return{};case"CheckboxGroup":return{};case"DatePicker":return{placeholder:n,format:m};case"RangePicker":return{placeholder:[n,n],format:[m,m]};case"TimePicker":return{placeholder:n,format:p};case"TimeRangePicker":return{placeholder:[n,n],format:[p,p]};default:return{allowClear:!0,placeholder:P}}}const e=new Map;e.set("Input",f);e.set("TextArea",f.TextArea);e.set("InputNumber",D);e.set("InputPassword",f.Password);e.set("AutoComplete",G);e.set("Select",M);e.set("TreeSelect",v);e.set("Checkbox",S);e.set("CheckboxGroup",S.Group);e.set("RadioGroup",L.Group);e.set("Switch",U);e.set("Rate",_);e.set("Slider",z);e.set("Upload",O);e.set("Transfer",j);e.set("DatePicker",F);e.set("RangePicker",R);e.set("TimePicker",w);e.set("TimeRangePicker",A);e.set("ApiSelect",B);e.set("ApiTreeSelect",I);e.set("PasswordStrength",N);e.set("Editor",V);g();function y(r){const{component:t,componentProps:u}=r;if(t==="customize"){const{render:c}=r;if(!c)return o.jsx(o.Fragment,{});H("customize",c)}const i=e.get(t);return i?o.jsx(i,{...$(t),...u}):o.jsx(o.Fragment,{})}function H(r,t){e.set(r,t)}function ae(r){const{list:t,data:u,children:i,labelCol:c,wrapperCol:h,formRef:T,handleFinish:l}=r,[s]=d.useForm();C.useImperativeHandle(T,()=>({getFieldValue:a=>s.getFieldValue(a)||{},getFieldsValue:()=>s.getFieldsValue()||{},handleReset:()=>{s.resetFields()},handleSubmit:()=>{s.submit()}})),C.useEffect(()=>{s.resetFields(),s.setFieldsValue(r.data)},[s,r.data]);const b=a=>{if(l){const x=E(a,t);l==null||l(x)}},k=a=>{console.warn("表单错误:",a)};return o.jsx("div",{children:o.jsxs(d,{name:"basic",form:s,labelCol:c||{span:6},wrapperCol:h||{span:15},initialValues:u,onFinish:b,onFinishFailed:k,autoComplete:"off",children:[t==null?void 0:t.map(a=>o.jsx(d.Item,{label:a.label,name:a.name,rules:a.hidden?[]:a.rules,className:a.hidden?"!hidden":"",valuePropName:W(a.component),children:y(a)},`${a.name}`)),i]})})}export{ae as B,H as a,y as g,W as h};
