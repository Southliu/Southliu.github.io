import{j as s,r as n}from"./react.76efb1e3.js";import{M as r,a as g}from"./components_Business.a1f9c3ad.js";import{h as x,d as C,S}from"./antd.469ebff6.js";function m(){return s.jsx("div",{className:"absolute left-50% top-50% -translate-x-1/2 -translate-y-1/2 text-center",children:s.jsx(x,{spinning:!0})})}function w(e){const[c,o]=n.useState(!1),[i,d]=n.useState([]),l={...e};delete l.api,delete l.params;const u=n.useCallback(async()=>{try{if(o(!0),e.api){const{code:a,data:t}=await e.api(e==null?void 0:e.params);Number(a)===200&&d(t||[])}}finally{o(!1)}},[e]);n.useEffect(()=>{e.value&&(i==null?void 0:i.length)===0&&u()},[e.value]);const f=a=>{var t;a&&u(),(t=e.onDropdownVisibleChange)==null||t.call(e,a)};return s.jsx(C,{allowClear:!0,maxTagCount:r,placeholder:g,...l,loading:c,treeData:i,notFoundContent:c&&s.jsx(m,{}),onDropdownVisibleChange:f})}function A(e){const[c,o]=n.useState(!1),[i,d]=n.useState([]),l={...e};delete l.api,delete l.params;const u=n.useCallback(async()=>{try{if(o(!0),e.api){const{code:a,data:t}=await e.api(e==null?void 0:e.params);Number(a)===200&&d(t||[])}}finally{o(!1)}},[e]);n.useEffect(()=>{e.value&&i.length===0&&u()},[e.value]);const f=a=>{var t;a&&u(),(t=e.onDropdownVisibleChange)==null||t.call(e,a)};return s.jsx(S,{allowClear:!0,maxTagCount:r,placeholder:g,optionFilterProp:"label",...l,loading:c,options:i,notFoundContent:c&&s.jsx(m,{}),onDropdownVisibleChange:f})}export{w as A,A as a};
