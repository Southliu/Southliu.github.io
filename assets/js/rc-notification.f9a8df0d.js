import{c as b,h as L,f as G,b as P,e as M,g as Q}from"./@babel_runtime.0b96ec9f.js";import{r as o}from"./react.017637b6.js";import{r as q}from"./react-dom.9b851fd7.js";import{a as F}from"./rc-motion.8586b577.js";import{c as w}from"./classnames.96a48171.js";var W=o.exports.forwardRef(function(e,y){var x=e.prefixCls,i=e.style,v=e.className,u=e.duration,l=u===void 0?4.5:u,N=e.eventKey,R=e.content,g=e.closable,_=e.closeIcon,k=_===void 0?"x":_,S=e.props,h=e.onClick,m=e.onNoticeClose,$=o.exports.useState(!1),E=b($,2),f=E[0],C=E[1],p=function(){m(N)};o.exports.useEffect(function(){if(!f&&l>0){var c=setTimeout(function(){p()},l*1e3);return function(){clearTimeout(c)}}},[l,f]);var d="".concat(x,"-notice");return o.exports.createElement("div",L({},S,{ref:y,className:w(d,v,G({},"".concat(d,"-closable"),g)),style:i,onMouseEnter:function(){C(!0)},onMouseLeave:function(){C(!1)},onClick:h}),o.exports.createElement("div",{className:"".concat(d,"-content")},R),g&&o.exports.createElement("a",{tabIndex:0,className:"".concat(d,"-close"),onClick:function(t){t.preventDefault(),t.stopPropagation(),p()}},k))});const z=W;var B=o.exports.forwardRef(function(e,y){var x=e.prefixCls,i=x===void 0?"rc-notification":x,v=e.container,u=e.motion,l=e.maxCount,N=e.className,R=e.style,g=e.onAllRemoved,_=o.exports.useState([]),k=b(_,2),S=k[0],h=k[1],m=function(n){var s,r=S.find(function(a){return a.key===n});r==null||(s=r.onClose)===null||s===void 0||s.call(r),h(function(a){return a.filter(function(A){return A.key!==n})})};o.exports.useImperativeHandle(y,function(){return{open:function(n){h(function(s){var r=P(s),a=r.findIndex(function(A){return A.key===n.key});return a>=0?r[a]=n:r.push(n),l>0&&r.length>l&&(r=r.slice(-l)),r})},close:function(n){m(n)},destroy:function(){h([])}}});var $=o.exports.useState({}),E=b($,2),f=E[0],C=E[1];o.exports.useEffect(function(){var t={};S.forEach(function(n){var s=n.placement,r=s===void 0?"topRight":s;r&&(t[r]=t[r]||[],t[r].push(n))}),Object.keys(f).forEach(function(n){t[n]=t[n]||[]}),C(t)},[S]);var p=function(n){C(function(s){var r=M({},s),a=r[n]||[];return a.length||delete r[n],r})},d=o.exports.useRef(!1);if(o.exports.useEffect(function(){Object.keys(f).length>0?d.current=!0:d.current&&(g==null||g(),d.current=!1)},[f]),!v)return null;var c=Object.keys(f);return q.exports.createPortal(o.exports.createElement(o.exports.Fragment,null,c.map(function(t){var n=f[t],s=n.map(function(a){return{config:a,key:a.key}}),r=typeof u=="function"?u(t):u;return o.exports.createElement(F,L({key:t,className:w(i,"".concat(i,"-").concat(t),N==null?void 0:N(t)),style:R==null?void 0:R(t),keys:s,motionAppear:!0},r,{onAllRemoved:function(){p(t)}}),function(a,A){var I=a.config,T=a.className,j=a.style,K=I.key,H=I.className,D=I.style;return o.exports.createElement(z,L({},I,{ref:A,prefixCls:i,className:w(T,H),style:M(M({},j),D),key:K,eventKey:K,onNoticeClose:m}))})})),v)}),J=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved"],U=function(){return document.body},O=0;function V(){for(var e={},y=arguments.length,x=new Array(y),i=0;i<y;i++)x[i]=arguments[i];return x.forEach(function(v){v&&Object.keys(v).forEach(function(u){var l=v[u];l!==void 0&&(e[u]=l)})}),e}function ne(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=e.getContainer,x=y===void 0?U:y,i=e.motion,v=e.prefixCls,u=e.maxCount,l=e.className,N=e.style,R=e.onAllRemoved,g=Q(e,J),_=o.exports.useState(),k=b(_,2),S=k[0],h=k[1],m=o.exports.useRef(),$=o.exports.createElement(B,{container:S,ref:m,prefixCls:v,motion:i,maxCount:u,className:l,style:N,onAllRemoved:R}),E=o.exports.useState([]),f=b(E,2),C=f[0],p=f[1],d=o.exports.useMemo(function(){return{open:function(t){var n=V(g,t);(n.key===null||n.key===void 0)&&(n.key="rc-notification-".concat(O),O+=1),p(function(s){return[].concat(P(s),[{type:"open",config:n}])})},close:function(t){p(function(n){return[].concat(P(n),[{type:"close",key:t}])})},destroy:function(){p(function(t){return[].concat(P(t),[{type:"destroy"}])})}}},[]);return o.exports.useEffect(function(){h(x())}),o.exports.useEffect(function(){m.current&&C.length&&(C.forEach(function(c){switch(c.type){case"open":m.current.open(c.config);break;case"close":m.current.close(c.key);break;case"destroy":m.current.destroy();break}}),p([]))},[C]),[d,$]}export{z as N,ne as u};
