import{n as J,e as _,f as ye,b as R,c as L,g as H,z as Rn,A as Pn,a as En,_ as Kn,d as wn}from"./@babel_runtime.c8088fcd.js";import{c as fe}from"./classnames.82ff248b.js";import{F as Ae}from"./rc-overflow.a39d2c7e.js";import{D as Nn,E as Ot,t as Le,N as ne,T as _n,L as Be,d as kt,z as Dn,J as At,I as On}from"./rc-util.644b3d3a.js";import{r as e}from"./react.76efb1e3.js";import{r as kn}from"./react-dom.9f2c8c46.js";import{T as An}from"./@rc-component_trigger.9ced1b4d.js";import{C as Ln}from"./rc-motion.2ceeb80c.js";var Lt=e.createContext(null);function dt(r,t){return r===void 0?null:"".concat(r,"-").concat(t)}function $t(r){var t=e.useContext(Lt);return dt(t,r)}var $n=["children","locked"],Z=e.createContext(null);function Tn(r,t){var a=_({},r);return Object.keys(t).forEach(function(o){var n=t[o];n!==void 0&&(a[o]=n)}),a}function $e(r){var t=r.children,a=r.locked,o=J(r,$n),n=e.useContext(Z),l=Nn(function(){return Tn(n,o)},[n,o],function(i,u){return!a&&(i[0]!==u[0]||!Ot(i[1],u[1],!0))});return e.createElement(Z.Provider,{value:l},t)}var Fn=[],Tt=e.createContext(null);function Ze(){return e.useContext(Tt)}var Ft=e.createContext(Fn);function Te(r){var t=e.useContext(Ft);return e.useMemo(function(){return r!==void 0?[].concat(ye(t),[r]):t},[t,r])}var Vt=e.createContext(null),vt=e.createContext({}),ot=ne.LEFT,lt=ne.RIGHT,ut=ne.UP,Ye=ne.DOWN,Je=ne.ENTER,zt=ne.ESC,De=ne.HOME,Oe=ne.END,wt=[ut,Ye,ot,lt];function Vn(r,t,a,o){var n,l,i,u,s="prev",c="next",v="children",E="parent";if(r==="inline"&&o===Je)return{inlineTrigger:!0};var p=(n={},R(n,ut,s),R(n,Ye,c),n),P=(l={},R(l,ot,a?c:s),R(l,lt,a?s:c),R(l,Ye,v),R(l,Je,v),l),m=(i={},R(i,ut,s),R(i,Ye,c),R(i,Je,v),R(i,zt,E),R(i,ot,a?v:E),R(i,lt,a?E:v),i),b={inline:p,horizontal:P,vertical:m,inlineSub:p,horizontalSub:m,verticalSub:m},M=(u=b["".concat(r).concat(t?"":"Sub")])===null||u===void 0?void 0:u[o];switch(M){case s:return{offset:-1,sibling:!0};case c:return{offset:1,sibling:!0};case E:return{offset:-1,sibling:!1};case v:return{offset:1,sibling:!1};default:return null}}function zn(r){for(var t=r;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}function Un(r,t){for(var a=r||document.activeElement;a;){if(t.has(a))return a;a=a.parentElement}return null}function Ut(r,t){var a=_n(r,!0);return a.filter(function(o){return t.has(o)})}function Nt(r,t,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!r)return null;var n=Ut(r,t),l=n.length,i=n.findIndex(function(u){return a===u});return o<0?i===-1?i=l-1:i-=1:o>0&&(i+=1),i=(i+l)%l,n[i]}function Hn(r,t,a,o,n,l,i,u,s,c){var v=e.useRef(),E=e.useRef();E.current=t;var p=function(){Le.cancel(v.current)};return e.useEffect(function(){return function(){p()}},[]),function(P){var m=P.which;if([].concat(wt,[Je,zt,De,Oe]).includes(m)){var b,M,I,K=function(){b=new Set,M=new Map,I=new Map;var T=l();return T.forEach(function(D){var w=document.querySelector("[data-menu-id='".concat(dt(o,D),"']"));w&&(b.add(w),I.set(w,D),M.set(D,w))}),b};K();var g=M.get(t),f=Un(g,b),h=I.get(f),d=Vn(r,i(h,!0).length===1,a,m);if(!d&&m!==De&&m!==Oe)return;(wt.includes(m)||[De,Oe].includes(m))&&P.preventDefault();var G=function(T){if(T){var D=T,w=T.querySelector("a");w!=null&&w.getAttribute("href")&&(D=w);var re=I.get(T);u(re),p(),v.current=Le(function(){E.current===re&&D.focus()})}};if([De,Oe].includes(m)||d.sibling||!f){var S;!f||r==="inline"?S=n.current:S=zn(f);var W,j=Ut(S,b);m===De?W=j[0]:m===Oe?W=j[j.length-1]:W=Nt(S,b,f,d.offset),G(W)}else if(d.inlineTrigger)s(h);else if(d.offset>0)s(h,!0),p(),v.current=Le(function(){K();var k=f.getAttribute("aria-controls"),T=document.getElementById(k),D=Nt(T,b);G(D)},5);else if(d.offset<0){var N=i(h,!0),$=N[N.length-2],te=M.get($);s($,!1),G(te)}}c==null||c(P)}}function Gn(r){Promise.resolve().then(r)}var ft="__RC_UTIL_PATH_SPLIT__",_t=function(t){return t.join(ft)},Wn=function(t){return t.split(ft)},st="rc-menu-more";function jn(){var r=e.useState({}),t=L(r,2),a=t[1],o=e.useRef(new Map),n=e.useRef(new Map),l=e.useState([]),i=L(l,2),u=i[0],s=i[1],c=e.useRef(0),v=e.useRef(!1),E=function(){v.current||a({})},p=e.useCallback(function(g,f){var h=_t(f);n.current.set(h,g),o.current.set(g,h),c.current+=1;var d=c.current;Gn(function(){d===c.current&&E()})},[]),P=e.useCallback(function(g,f){var h=_t(f);n.current.delete(h),o.current.delete(g)},[]),m=e.useCallback(function(g){s(g)},[]),b=e.useCallback(function(g,f){var h=o.current.get(g)||"",d=Wn(h);return f&&u.includes(d[0])&&d.unshift(st),d},[u]),M=e.useCallback(function(g,f){return g.some(function(h){var d=b(h,!0);return d.includes(f)})},[b]),I=function(){var f=ye(o.current.keys());return u.length&&f.push(st),f},K=e.useCallback(function(g){var f="".concat(o.current.get(g)).concat(ft),h=new Set;return ye(n.current.keys()).forEach(function(d){d.startsWith(f)&&h.add(n.current.get(d))}),h},[]);return e.useEffect(function(){return function(){v.current=!0}},[]),{registerPath:p,unregisterPath:P,refreshOverflowKeys:m,isSubPathKey:M,getKeyPath:b,getKeys:I,getSubPathKeys:K}}function ke(r){var t=e.useRef(r);t.current=r;var a=e.useCallback(function(){for(var o,n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(o=t.current)===null||o===void 0?void 0:o.call.apply(o,[t].concat(l))},[]);return r?a:void 0}var qn=Math.random().toFixed(5).toString().slice(2),Dt=0;function Bn(r){var t=Be(r,{value:r}),a=L(t,2),o=a[0],n=a[1];return e.useEffect(function(){Dt+=1;var l="".concat(qn,"-").concat(Dt);n("rc-menu-uuid-".concat(l))},[]),o}function Ht(r,t,a,o){var n=e.useContext(Z),l=n.activeKey,i=n.onActive,u=n.onInactive,s={active:l===r};return t||(s.onMouseEnter=function(c){a==null||a({key:r,domEvent:c}),i(r)},s.onMouseLeave=function(c){o==null||o({key:r,domEvent:c}),u(r)}),s}function Gt(r){var t=e.useContext(Z),a=t.mode,o=t.rtl,n=t.inlineIndent;if(a!=="inline")return null;var l=r;return o?{paddingRight:l*n}:{paddingLeft:l*n}}function Wt(r){var t=r.icon,a=r.props,o=r.children,n;return typeof t=="function"?n=e.createElement(t,_({},a)):n=t,n||o||null}var Yn=["item"];function Xe(r){var t=r.item,a=J(r,Yn);return Object.defineProperty(a,"item",{get:function(){return kt(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),a}var Jn=["title","attribute","elementRef"],Xn=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Zn=["active"],Qn=function(r){Rn(a,r);var t=Pn(a);function a(){return En(this,a),t.apply(this,arguments)}return Kn(a,[{key:"render",value:function(){var n=this.props,l=n.title,i=n.attribute,u=n.elementRef,s=J(n,Jn),c=At(s,["eventKey","popupClassName","popupOffset","onTitleClick"]);return kt(!i,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),e.createElement(Ae.Item,H({},i,{title:typeof l=="string"?l:void 0},c,{ref:u}))}}]),a}(e.Component),er=e.forwardRef(function(r,t){var a,o=r.style,n=r.className,l=r.eventKey;r.warnKey;var i=r.disabled,u=r.itemIcon,s=r.children,c=r.role,v=r.onMouseEnter,E=r.onMouseLeave,p=r.onClick,P=r.onKeyDown,m=r.onFocus,b=J(r,Xn),M=$t(l),I=e.useContext(Z),K=I.prefixCls,g=I.onItemClick,f=I.disabled,h=I.overflowDisabled,d=I.itemIcon,G=I.selectedKeys,S=I.onActive,W=e.useContext(vt),j=W._internalRenderMenuItem,N="".concat(K,"-item"),$=e.useRef(),te=e.useRef(),k=f||i,T=Dn(t,te),D=Te(l),w=function(F){return{key:l,keyPath:ye(D).reverse(),item:$.current,domEvent:F}},re=u||d,me=Ht(l,k,v,E),ae=me.active,le=J(me,Zn),X=G.includes(l),ue=Gt(D.length),z=function(F){if(!k){var A=w(F);p==null||p(Xe(A)),g(A)}},q=function(F){if(P==null||P(F),F.which===ne.ENTER){var A=w(F);p==null||p(Xe(A)),g(A)}},pe=function(F){S(l),m==null||m(F)},he={};r.role==="option"&&(he["aria-selected"]=X);var se=e.createElement(Qn,H({ref:$,elementRef:T,role:c===null?"none":c||"menuitem",tabIndex:i?null:-1,"data-menu-id":h&&M?null:M},b,le,he,{component:"li","aria-disabled":i,style:_(_({},ue),o),className:fe(N,(a={},R(a,"".concat(N,"-active"),ae),R(a,"".concat(N,"-selected"),X),R(a,"".concat(N,"-disabled"),k),a),n),onClick:z,onKeyDown:q,onFocus:pe}),s,e.createElement(Wt,{props:_(_({},r),{},{isSelected:X}),icon:re}));return j&&(se=j(se,r,{selected:X})),se});function tr(r,t){var a=r.eventKey,o=Ze(),n=Te(a);return e.useEffect(function(){if(o)return o.registerPath(a,n),function(){o.unregisterPath(a,n)}},[n]),o?null:e.createElement(er,H({},r,{ref:t}))}const mt=e.forwardRef(tr);var nr=["className","children"],rr=function(t,a){var o=t.className,n=t.children,l=J(t,nr),i=e.useContext(Z),u=i.prefixCls,s=i.mode,c=i.rtl;return e.createElement("ul",H({className:fe(u,c&&"".concat(u,"-rtl"),"".concat(u,"-sub"),"".concat(u,"-").concat(s==="inline"?"inline":"vertical"),o),role:"menu"},l,{"data-menu-list":!0,ref:a}),n)},pt=e.forwardRef(rr);pt.displayName="SubMenuList";function ht(r,t){return On(r).map(function(a,o){if(e.isValidElement(a)){var n,l,i=a.key,u=(n=(l=a.props)===null||l===void 0?void 0:l.eventKey)!==null&&n!==void 0?n:i,s=u==null;s&&(u="tmp_key-".concat([].concat(ye(t),[o]).join("-")));var c={key:u,eventKey:u};return e.cloneElement(a,c)}return a})}var O={adjustX:1,adjustY:1},ar={topLeft:{points:["bl","tl"],overflow:O},topRight:{points:["br","tr"],overflow:O},bottomLeft:{points:["tl","bl"],overflow:O},bottomRight:{points:["tr","br"],overflow:O},leftTop:{points:["tr","tl"],overflow:O},leftBottom:{points:["br","bl"],overflow:O},rightTop:{points:["tl","tr"],overflow:O},rightBottom:{points:["bl","br"],overflow:O}},ir={topLeft:{points:["bl","tl"],overflow:O},topRight:{points:["br","tr"],overflow:O},bottomLeft:{points:["tl","bl"],overflow:O},bottomRight:{points:["tr","br"],overflow:O},rightTop:{points:["tr","tl"],overflow:O},rightBottom:{points:["br","bl"],overflow:O},leftTop:{points:["tl","tr"],overflow:O},leftBottom:{points:["bl","br"],overflow:O}};function jt(r,t,a){if(t)return t;if(a)return a[r]||a.other}var or={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function lr(r){var t=r.prefixCls,a=r.visible,o=r.children,n=r.popup,l=r.popupClassName,i=r.popupOffset,u=r.disabled,s=r.mode,c=r.onVisibleChange,v=e.useContext(Z),E=v.getPopupContainer,p=v.rtl,P=v.subMenuOpenDelay,m=v.subMenuCloseDelay,b=v.builtinPlacements,M=v.triggerSubMenuAction,I=v.forceSubMenuRender,K=v.rootClassName,g=v.motion,f=v.defaultMotions,h=e.useState(!1),d=L(h,2),G=d[0],S=d[1],W=p?_(_({},ir),b):_(_({},ar),b),j=or[s],N=jt(s,g,f),$=e.useRef(N);s!=="inline"&&($.current=N);var te=_(_({},$.current),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),k=e.useRef();return e.useEffect(function(){return k.current=Le(function(){S(a)}),function(){Le.cancel(k.current)}},[a]),e.createElement(An,{prefixCls:t,popupClassName:fe("".concat(t,"-popup"),R({},"".concat(t,"-rtl"),p),l,K),stretch:s==="horizontal"?"minWidth":null,getPopupContainer:E,builtinPlacements:W,popupPlacement:j,popupVisible:G,popup:n,popupAlign:i&&{offset:i},action:u?[]:[M],mouseEnterDelay:P,mouseLeaveDelay:m,onPopupVisibleChange:c,forceRender:I,popupMotion:te},o)}function ur(r){var t=r.id,a=r.open,o=r.keyPath,n=r.children,l="inline",i=e.useContext(Z),u=i.prefixCls,s=i.forceSubMenuRender,c=i.motion,v=i.defaultMotions,E=i.mode,p=e.useRef(!1);p.current=E===l;var P=e.useState(!p.current),m=L(P,2),b=m[0],M=m[1],I=p.current?a:!1;e.useEffect(function(){p.current&&M(!1)},[E]);var K=_({},jt(l,c,v));o.length>1&&(K.motionAppear=!1);var g=K.onVisibleChanged;return K.onVisibleChanged=function(f){return!p.current&&!f&&M(!0),g==null?void 0:g(f)},b?null:e.createElement($e,{mode:l,locked:!p.current},e.createElement(Ln,H({visible:I},K,{forceRender:s,removeOnLeave:!1,leavedClassName:"".concat(u,"-hidden")}),function(f){var h=f.className,d=f.style;return e.createElement(pt,{id:t,className:h,style:d},n)}))}var sr=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],cr=["active"],dr=function(t){var a,o=t.style,n=t.className,l=t.title,i=t.eventKey;t.warnKey;var u=t.disabled,s=t.internalPopupClose,c=t.children,v=t.itemIcon,E=t.expandIcon,p=t.popupClassName,P=t.popupOffset,m=t.onClick,b=t.onMouseEnter,M=t.onMouseLeave,I=t.onTitleClick,K=t.onTitleMouseEnter,g=t.onTitleMouseLeave,f=J(t,sr),h=$t(i),d=e.useContext(Z),G=d.prefixCls,S=d.mode,W=d.openKeys,j=d.disabled,N=d.overflowDisabled,$=d.activeKey,te=d.selectedKeys,k=d.itemIcon,T=d.expandIcon,D=d.onItemClick,w=d.onOpenChange,re=d.onActive,me=e.useContext(vt),ae=me._internalRenderSubMenuItem,le=e.useContext(Vt),X=le.isSubPathKey,ue=Te(),z="".concat(G,"-submenu"),q=j||u,pe=e.useRef(),he=e.useRef(),se=v||k,ie=E||T,F=W.includes(i),A=!N&&F,Fe=X(te,i),Ve=Ht(i,q,K,g),Me=Ve.active,Se=J(Ve,cr),xe=e.useState(!1),ze=L(xe,2),Re=ze[0],Ue=ze[1],He=function(Y){q||Ue(Y)},Q=function(Y){He(!0),b==null||b({key:i,domEvent:Y})},et=function(Y){He(!1),M==null||M({key:i,domEvent:Y})},Pe=e.useMemo(function(){return Me||(S!=="inline"?Re||X([$],i):!1)},[S,Me,$,Re,i,X]),Ge=Gt(ue.length),tt=function(Y){q||(I==null||I({key:i,domEvent:Y}),S==="inline"&&w(i,!F))},ge=ke(function(ee){m==null||m(Xe(ee)),D(ee)}),Ee=function(Y){S!=="inline"&&w(i,Y)},Ke=function(){re(i)},we=h&&"".concat(h,"-popup"),Ce=e.createElement("div",H({role:"menuitem",style:Ge,className:"".concat(z,"-title"),tabIndex:q?null:-1,ref:pe,title:typeof l=="string"?l:null,"data-menu-id":N&&h?null:h,"aria-expanded":A,"aria-haspopup":!0,"aria-controls":we,"aria-disabled":q,onClick:tt,onFocus:Ke},Se),l,e.createElement(Wt,{icon:S!=="horizontal"?ie:null,props:_(_({},t),{},{isOpen:A,isSubMenu:!0})},e.createElement("i",{className:"".concat(z,"-arrow")}))),B=e.useRef(S);if(S!=="inline"&&ue.length>1?B.current="vertical":B.current=S,!N){var be=B.current;Ce=e.createElement(lr,{mode:be,prefixCls:z,visible:!s&&A&&S!=="inline",popupClassName:p,popupOffset:P,popup:e.createElement($e,{mode:be==="horizontal"?"vertical":be},e.createElement(pt,{id:we,ref:he},c)),disabled:q,onVisibleChange:Ee},Ce)}var ce=e.createElement(Ae.Item,H({role:"none"},f,{component:"li",style:o,className:fe(z,"".concat(z,"-").concat(S),n,(a={},R(a,"".concat(z,"-open"),A),R(a,"".concat(z,"-active"),Pe),R(a,"".concat(z,"-selected"),Fe),R(a,"".concat(z,"-disabled"),q),a)),onMouseEnter:Q,onMouseLeave:et}),Ce,!N&&e.createElement(ur,{id:we,open:A,keyPath:ue},c));return ae&&(ce=ae(ce,t,{selected:Fe,active:Pe,open:A,disabled:q})),e.createElement($e,{onItemClick:ge,mode:S==="horizontal"?"vertical":S,itemIcon:se,expandIcon:ie},ce)};function gt(r){var t=r.eventKey,a=r.children,o=Te(t),n=ht(a,o),l=Ze();e.useEffect(function(){if(l)return l.registerPath(t,o),function(){l.unregisterPath(t,o)}},[o]);var i;return l?i=n:i=e.createElement(dr,r,n),e.createElement(Ft.Provider,{value:o},i)}var vr=["className","title","eventKey","children"],fr=["children"],mr=function(t){var a=t.className,o=t.title;t.eventKey;var n=t.children,l=J(t,vr),i=e.useContext(Z),u=i.prefixCls,s="".concat(u,"-item-group");return e.createElement("li",H({role:"presentation"},l,{onClick:function(v){return v.stopPropagation()},className:fe(s,a)}),e.createElement("div",{role:"presentation",className:"".concat(s,"-title"),title:typeof o=="string"?o:void 0},o),e.createElement("ul",{role:"group",className:"".concat(s,"-list")},n))};function qt(r){var t=r.children,a=J(r,fr),o=Te(a.eventKey),n=ht(t,o),l=Ze();return l?n:e.createElement(mr,At(a,["warnKey"]),n)}function Bt(r){var t=r.className,a=r.style,o=e.useContext(Z),n=o.prefixCls,l=Ze();return l?null:e.createElement("li",{className:fe("".concat(n,"-item-divider"),t),style:a})}var pr=["label","children","key","type"];function ct(r){return(r||[]).map(function(t,a){if(t&&wn(t)==="object"){var o=t,n=o.label,l=o.children,i=o.key,u=o.type,s=J(o,pr),c=i??"tmp-".concat(a);return l||u==="group"?u==="group"?e.createElement(qt,H({key:c},s,{title:n}),ct(l)):e.createElement(gt,H({key:c},s,{title:n}),ct(l)):u==="divider"?e.createElement(Bt,H({key:c},s)):e.createElement(mt,H({key:c},s),n)}return null}).filter(function(t){return t})}function hr(r,t,a){var o=r;return t&&(o=ct(t)),ht(o,a)}var gr=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],Ie=[],Cr=e.forwardRef(function(r,t){var a,o,n=r,l=n.prefixCls,i=l===void 0?"rc-menu":l,u=n.rootClassName,s=n.style,c=n.className,v=n.tabIndex,E=v===void 0?0:v,p=n.items,P=n.children,m=n.direction,b=n.id,M=n.mode,I=M===void 0?"vertical":M,K=n.inlineCollapsed,g=n.disabled,f=n.disabledOverflow,h=n.subMenuOpenDelay,d=h===void 0?.1:h,G=n.subMenuCloseDelay,S=G===void 0?.1:G,W=n.forceSubMenuRender,j=n.defaultOpenKeys,N=n.openKeys,$=n.activeKey,te=n.defaultActiveFirst,k=n.selectable,T=k===void 0?!0:k,D=n.multiple,w=D===void 0?!1:D,re=n.defaultSelectedKeys,me=n.selectedKeys,ae=n.onSelect,le=n.onDeselect,X=n.inlineIndent,ue=X===void 0?24:X,z=n.motion,q=n.defaultMotions,pe=n.triggerSubMenuAction,he=pe===void 0?"hover":pe,se=n.builtinPlacements,ie=n.itemIcon,F=n.expandIcon,A=n.overflowedIndicator,Fe=A===void 0?"...":A,Ve=n.overflowedIndicatorPopupClassName,Me=n.getPopupContainer,Se=n.onClick,xe=n.onOpenChange,ze=n.onKeyDown;n.openAnimation,n.openTransitionName;var Re=n._internalRenderMenuItem,Ue=n._internalRenderSubMenuItem,He=J(n,gr),Q=e.useMemo(function(){return hr(P,p,Ie)},[P,p]),et=e.useState(!1),Pe=L(et,2),Ge=Pe[0],tt=Pe[1],ge=e.useRef(),Ee=Bn(b),Ke=m==="rtl",we=Be(j,{value:N,postState:function(C){return C||Ie}}),Ce=L(we,2),B=Ce[0],be=Ce[1],ce=function(C){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function V(){be(C),xe==null||xe(C)}y?kn.flushSync(V):V()},ee=e.useState(B),Y=L(ee,2),Yt=Y[0],Jt=Y[1],nt=e.useRef(!1),Xt=e.useMemo(function(){return(I==="inline"||I==="vertical")&&K?["vertical",K]:[I,!1]},[I,K]),Ct=L(Xt,2),We=Ct[0],rt=Ct[1],bt=We==="inline",Zt=e.useState(We),It=L(Zt,2),oe=It[0],Qt=It[1],en=e.useState(rt),yt=L(en,2),tn=yt[0],nn=yt[1];e.useEffect(function(){Qt(We),nn(rt),nt.current&&(bt?be(Yt):ce(Ie))},[We,rt]);var rn=e.useState(0),Mt=L(rn,2),je=Mt[0],an=Mt[1],at=je>=Q.length-1||oe!=="horizontal"||f;e.useEffect(function(){bt&&Jt(B)},[B]),e.useEffect(function(){return nt.current=!0,function(){nt.current=!1}},[]);var de=jn(),St=de.registerPath,xt=de.unregisterPath,on=de.refreshOverflowKeys,Rt=de.isSubPathKey,ln=de.getKeyPath,un=de.getKeys,sn=de.getSubPathKeys,cn=e.useMemo(function(){return{registerPath:St,unregisterPath:xt}},[St,xt]),dn=e.useMemo(function(){return{isSubPathKey:Rt}},[Rt]);e.useEffect(function(){on(at?Ie:Q.slice(je+1).map(function(x){return x.key}))},[je,at]);var vn=Be($||te&&((a=Q[0])===null||a===void 0?void 0:a.key),{value:$}),Pt=L(vn,2),Ne=Pt[0],it=Pt[1],fn=ke(function(x){it(x)}),mn=ke(function(){it(void 0)});e.useImperativeHandle(t,function(){return{list:ge.current,focus:function(C){var y,V=Ne??((y=Q.find(function(xn){return!xn.props.disabled}))===null||y===void 0?void 0:y.key);if(V){var U,ve,_e;(U=ge.current)===null||U===void 0||(ve=U.querySelector("li[data-menu-id='".concat(dt(Ee,V),"']")))===null||ve===void 0||(_e=ve.focus)===null||_e===void 0||_e.call(ve,C)}}}});var pn=Be(re||[],{value:me,postState:function(C){return Array.isArray(C)?C:C==null?Ie:[C]}}),Et=L(pn,2),qe=Et[0],hn=Et[1],gn=function(C){if(T){var y=C.key,V=qe.includes(y),U;w?V?U=qe.filter(function(_e){return _e!==y}):U=[].concat(ye(qe),[y]):U=[y],hn(U);var ve=_(_({},C),{},{selectedKeys:U});V?le==null||le(ve):ae==null||ae(ve)}!w&&B.length&&oe!=="inline"&&ce(Ie)},Cn=ke(function(x){Se==null||Se(Xe(x)),gn(x)}),Kt=ke(function(x,C){var y=B.filter(function(U){return U!==x});if(C)y.push(x);else if(oe!=="inline"){var V=sn(x);y=y.filter(function(U){return!V.has(U)})}Ot(B,y,!0)||ce(y,!0)}),bn=function(C,y){var V=y??!B.includes(C);Kt(C,V)},In=Hn(oe,Ne,Ke,Ee,ge,un,ln,it,bn,ze);e.useEffect(function(){tt(!0)},[]);var yn=e.useMemo(function(){return{_internalRenderMenuItem:Re,_internalRenderSubMenuItem:Ue}},[Re,Ue]),Mn=oe!=="horizontal"||f?Q:Q.map(function(x,C){return e.createElement($e,{key:x.key,overflowDisabled:C>je},x)}),Sn=e.createElement(Ae,H({id:b,ref:ge,prefixCls:"".concat(i,"-overflow"),component:"ul",itemComponent:mt,className:fe(i,"".concat(i,"-root"),"".concat(i,"-").concat(oe),c,(o={},R(o,"".concat(i,"-inline-collapsed"),tn),R(o,"".concat(i,"-rtl"),Ke),o),u),dir:m,style:s,role:"menu",tabIndex:E,data:Mn,renderRawItem:function(C){return C},renderRawRest:function(C){var y=C.length,V=y?Q.slice(-y):null;return e.createElement(gt,{eventKey:st,title:Fe,disabled:at,internalPopupClose:y===0,popupClassName:Ve},V)},maxCount:oe!=="horizontal"||f?Ae.INVALIDATE:Ae.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(C){an(C)},onKeyDown:In},He));return e.createElement(vt.Provider,{value:yn},e.createElement(Lt.Provider,{value:Ee},e.createElement($e,{prefixCls:i,rootClassName:u,mode:oe,openKeys:B,rtl:Ke,disabled:g,motion:Ge?z:null,defaultMotions:Ge?q:null,activeKey:Ne,onActive:fn,onInactive:mn,selectedKeys:qe,inlineIndent:ue,subMenuOpenDelay:d,subMenuCloseDelay:S,forceSubMenuRender:W,builtinPlacements:se,triggerSubMenuAction:he,getPopupContainer:Me,itemIcon:ie,expandIcon:F,onItemClick:Cn,onOpenChange:Kt},e.createElement(Vt.Provider,{value:dn},Sn),e.createElement("div",{style:{display:"none"},"aria-hidden":!0},e.createElement(Tt.Provider,{value:cn},Q)))))}),Qe=Cr;Qe.Item=mt;Qe.SubMenu=gt;Qe.ItemGroup=qt;Qe.Divider=Bt;export{Bt as D,Qe as E,mt as M,gt as S,qt as a,Te as u};
