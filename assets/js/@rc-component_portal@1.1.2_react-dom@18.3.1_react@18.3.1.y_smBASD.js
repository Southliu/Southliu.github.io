import{g as t,i as n}from"./@babel_runtime@7.24.7.uphKh7BM.js";import{r as e}from"./react@18.3.1.zIIbIvjs.js";import{r}from"./react-dom@18.3.1_react@18.3.1.D2tCNtKO.js";import{c as o,u,g as c,a,r as i,s as l,d as f}from"./rc-util@5.43.0_react-dom@18.3.1_react@18.3.1.bvtOFkwB.js";var d=e.createContext(null),s=[];var m="rc-util-locker-".concat(Date.now()),v=0;function h(n){var r=!!n,o=e.useState((function(){return v+=1,"".concat(m,"_").concat(v)})),l=t(o,1)[0];u((function(){if(r){var t=c(document.body).width,n=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;a("\nhtml body {\n  overflow-y: hidden;\n  ".concat(n?"width: calc(100% - ".concat(t,"px);"):"","\n}"),l)}else i(l);return function(){i(l)}}),[r,l])}var p=function(t){return!1!==t&&(o()&&t?"string"==typeof t?document.querySelector(t):"function"==typeof t?t():t:null)},y=e.forwardRef((function(c,a){var i=c.open,m=c.autoLock,v=c.getContainer;c.debug;var y=c.autoDestroy,b=void 0===y||y,g=c.children,w=e.useState(i),E=t(w,2),S=E[0],C=E[1],_=S||i;e.useEffect((function(){(b||i)&&C(i)}),[i,b]);var j=e.useState((function(){return p(v)})),x=t(j,2),H=x[0],P=x[1];e.useEffect((function(){var t=p(v);P(null!=t?t:null)}));var k=function(r,c){var a=e.useState((function(){return o()?document.createElement("div"):null})),i=t(a,1)[0],l=e.useRef(!1),f=e.useContext(d),m=e.useState(s),v=t(m,2),h=v[0],p=v[1],y=f||(l.current?void 0:function(t){p((function(e){return[t].concat(n(e))}))});function b(){i.parentElement||document.body.appendChild(i),l.current=!0}function g(){var t;null===(t=i.parentElement)||void 0===t||t.removeChild(i),l.current=!1}return u((function(){return r?f?f(b):b():g(),g}),[r]),u((function(){h.length&&(h.forEach((function(t){return t()})),p(s))}),[h]),[i,y]}(_&&!H),D=t(k,2),R=D[0],W=D[1],q=null!=H?H:R;h(m&&i&&o()&&(q===R||q===document.body));var L=null;g&&l(g)&&a&&(L=g.ref);var z=f(L,a);if(!_||!o()||void 0===H)return null;var A=!1===q||!1,B=g;return a&&(B=e.cloneElement(g,{ref:z})),e.createElement(d.Provider,{value:W},A?B:r.createPortal(B,q))}));export{y as P};
