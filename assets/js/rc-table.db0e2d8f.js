import{d as V,c as ne,g as ee,e as je,r as Ee,f as x,b as I}from"./@babel_runtime.903d5e4f.js";import{c as se}from"./classnames.aa374d53.js";import{R as dn}from"./rc-resize-observer.60f2081b.js";import{k as Wt,d as qn,s as Kt,G as An,t as At,c as Dt,x as Ue,g as Dn,J as Vn,p as Vt,L as Un,M as Ut,z as Xn,A as Xt}from"./rc-util.5b7f5d25.js";import{r as n}from"./react.ee35a6c4.js";import{s as fn}from"./shallowequal.6a8ebf1c.js";import{r as jt}from"./react-dom.d198892c.js";function ze(e){var r=n.createContext(e),t=function(a){var l=a.value,c=a.children,i=n.useRef(l);i.current=l;var u=n.useState(function(){return{getValue:function(){return i.current},listeners:new Set}}),d=V(u,1),f=d[0];return qn(function(){jt.unstable_batchedUpdates(function(){f.listeners.forEach(function(s){s(l)})})},[l]),n.createElement(r.Provider,{value:f},c)};return{Context:r,Provider:t}}function J(e,r){var t=Wt(typeof r=="function"?r:function(s){if(!Array.isArray(r))return s[r];var m={};return r.forEach(function(p){m[p]=s[p]}),m}),o=n.useContext(e==null?void 0:e.Context),a=o||{},l=a.listeners,c=a.getValue,i=n.useRef();i.current=t(o?c():null);var u=n.useState({}),d=V(u,2),f=d[1];return qn(function(){if(!o)return;function s(m){var p=t(m);fn(i.current,p)||f({})}return l.add(s),function(){l.delete(s)}},[o]),i.current}var Ye=ze(),Jn=ze(),_n=n.createContext({renderWithProps:!1}),Qn=ze(),ue=ze();function Zn(e,r,t,o,a,l){var c=[];c.push({record:e,indent:r,index:l});var i=a(e),u=o==null?void 0:o.has(i);if(e&&Array.isArray(e[t])&&u)for(var d=0;d<e[t].length;d+=1){var f=Zn(e[t][d],r+1,t,o,a,d);c.push.apply(c,ne(f))}return c}function Yt(e,r,t,o){var a=n.useMemo(function(){if(t!=null&&t.size){for(var l=[],c=0;c<(e==null?void 0:e.length);c+=1){var i=e[c];l.push.apply(l,ne(Zn(i,0,r,t,o,c)))}return l}return e==null?void 0:e.map(function(u,d){return{record:u,indent:0,index:d}})},[e,r,t,o]);return a}var Gt="RC_TABLE_KEY";function et(e){return e==null?[]:Array.isArray(e)?e:[e]}function nt(e,r){if(!r&&typeof r!="number")return e;for(var t=et(r),o=e,a=0;a<t.length;a+=1){if(!o)return null;var l=t[a];o=o[l]}return o}function Ge(e){var r=[],t={};return e.forEach(function(o){for(var a=o||{},l=a.key,c=a.dataIndex,i=l||et(c).join("-")||Gt;t[i];)i="".concat(i,"_next");t[i]=!0,r.push(i)}),r}function cn(e){return e!=null}var tt=n.createContext(!1),qt=["colSpan","rowSpan","style","className"];function Jt(e,r,t,o){var a=e+r-1;return e<=o&&a>=t}function _t(e){return e&&je(e)==="object"&&!Array.isArray(e)&&!n.isValidElement(e)}function Qt(e){return typeof e=="string"?!0:Kt(e)}var Zt=function(r){var t=r.ellipsis,o=r.rowType,a=r.children,l,c=t===!0?{showTitle:!0}:t;return c&&(c.showTitle||o==="header")&&(typeof a=="string"||typeof a=="number"?l=a.toString():n.isValidElement(a)&&typeof a.props.children=="string"&&(l=a.props.children)),l};function er(e,r){var t,o,a,l=e.prefixCls,c=e.className,i=e.record,u=e.index,d=e.renderIndex,f=e.dataIndex,s=e.render,m=e.children,p=e.component,v=p===void 0?"td":p,k=e.colSpan,R=e.rowSpan,w=e.scope,M=e.fixLeft,H=e.fixRight,X=e.firstFixLeft,g=e.lastFixLeft,L=e.firstFixRight,U=e.lastFixRight,K=e.appendNode,j=e.additionalProps,y=j===void 0?{}:j,$=e.ellipsis,N=e.align,h=e.rowType,S=e.isSticky,A=e.hovering,T=e.onHover,E="".concat(l,"-cell"),P=n.useContext(_n),z=n.useContext(tt),_=J(Ye,"allColumnsFixedLeft"),Y=n.useMemo(function(){if(cn(m))return[m];var Te=nt(i,f),le=Te,q=void 0;if(s){var B=s(Te,i,d);_t(B)?(le=B.children,q=B.props,P.renderWithProps=!0):le=B}return[le,q]},[P.renderWithProps?Math.random():0,m,f,P,i,s,d]),ve=V(Y,2),de=ve[0],he=ve[1],O=de;je(O)==="object"&&!Array.isArray(O)&&!n.isValidElement(O)&&(O=null),$&&(g||L)&&(O=n.createElement("span",{className:"".concat(E,"-content")},O));var oe=he||{},pe=oe.colSpan,Se=oe.rowSpan,Re=oe.style,xe=oe.className,Ne=Ee(oe,qt),ge=(t=pe!==void 0?pe:k)!==null&&t!==void 0?t:1,F=(o=Se!==void 0?Se:R)!==null&&o!==void 0?o:1;if(ge===0||F===0)return null;var G={},Q=typeof M=="number"&&z,D=typeof H=="number"&&z;Q&&(G.position="sticky",G.left=M),D&&(G.position="sticky",G.right=H);var te={};N&&(te.textAlign=N);var ae=function(le){var q;i&&T(u,u+F-1),y==null||(q=y.onMouseEnter)===null||q===void 0||q.call(y,le)},be=function(le){var q;i&&T(-1,-1),y==null||(q=y.onMouseLeave)===null||q===void 0||q.call(y,le)},fe=Zt({rowType:h,ellipsis:$,children:de}),ke=x(x(x({title:fe},Ne),y),{},{colSpan:ge!==1?ge:null,rowSpan:F!==1?F:null,scope:w,className:se(E,c,(a={},I(a,"".concat(E,"-fix-left"),Q&&z),I(a,"".concat(E,"-fix-left-first"),X&&z),I(a,"".concat(E,"-fix-left-last"),g&&z),I(a,"".concat(E,"-fix-left-all"),g&&_&&z),I(a,"".concat(E,"-fix-right"),D&&z),I(a,"".concat(E,"-fix-right-first"),L&&z),I(a,"".concat(E,"-fix-right-last"),U&&z),I(a,"".concat(E,"-ellipsis"),$),I(a,"".concat(E,"-with-append"),K),I(a,"".concat(E,"-fix-sticky"),(Q||D)&&S&&z),I(a,"".concat(E,"-row-hover"),!he&&A),a),y.className,xe),style:x(x(x(x({},y.style),te),G),Re),onMouseEnter:ae,onMouseLeave:be,ref:Qt(v)?r:null});return n.createElement(v,ke,K,O)}var rt=n.forwardRef(er);rt.displayName="Cell";var nr=["expanded","className","hovering"],tr=n.memo(rt,function(e,r){return r.shouldCellUpdate?nr.every(function(t){return e[t]===r[t]})&&!r.shouldCellUpdate(r.record,e.record):fn(e,r)}),Be=n.forwardRef(function(e,r){var t=e.index,o=e.additionalProps,a=o===void 0?{}:o,l=e.colSpan,c=e.rowSpan,i=a.colSpan,u=a.rowSpan,d=l??i,f=c??u,s=J(Jn,function(v){var k=Jt(t,f||1,v==null?void 0:v.startRow,v==null?void 0:v.endRow);return{onHover:v==null?void 0:v.onHover,hovering:k}}),m=s.onHover,p=s.hovering;return n.createElement(tr,ee({},e,{colSpan:d,rowSpan:f,hovering:p,ref:r,onHover:m}))});Be.displayName="WrappedCell";var ot=ze(null);function at(e){var r=e.prefixCls,t=e.children,o=e.component,a=e.cellComponent,l=e.className,c=e.expanded,i=e.colSpan,u=e.isEmpty,d=J(ue,"scrollbarSize"),f=J(ot,["fixHeader","fixColumn","componentWidth","horizonScroll"]),s=f.fixHeader,m=f.fixColumn,p=f.componentWidth,v=f.horizonScroll;return n.useMemo(function(){var k=t;return(u?v:m)&&(k=n.createElement("div",{style:{width:p-(s?d:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(r,"-expanded-row-fixed")},p!==0&&k)),n.createElement(o,{className:l,style:{display:c?null:"none"}},n.createElement(Be,{component:a,prefixCls:r,colSpan:i},k))},[t,o,l,c,i,u,d,p,m,s,v])}function lt(e){var r=e.className,t=e.style,o=e.record,a=e.index,l=e.renderIndex,c=e.rowKey,i=e.rowExpandable,u=e.expandedKeys,d=e.onRow,f=e.indent,s=f===void 0?0:f,m=e.rowComponent,p=e.cellComponent,v=e.scopeCellComponent,k=e.childrenColumnName,R=J(ue,["prefixCls","fixedInfoList"]),w=R.prefixCls,M=R.fixedInfoList,H=J(Ye,["flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex"]),X=H.flattenColumns,g=H.expandableType,L=H.expandRowByClick,U=H.onTriggerExpand,K=H.rowClassName,j=H.expandedRowClassName,y=H.indentSize,$=H.expandIcon,N=H.expandedRowRender,h=H.expandIconColumnIndex,S=n.useState(!1),A=V(S,2),T=A[0],E=A[1],P=u&&u.has(e.recordKey);n.useEffect(function(){P&&E(!0)},[P]);var z=g==="row"&&(!i||i(o)),_=g==="nest",Y=k&&o&&o[k],ve=z||_,de=n.useRef(U);de.current=U;var he=function(){de.current.apply(de,arguments)},O=d==null?void 0:d(o,a),oe=function(G){var Q;L&&ve&&he(o,G);for(var D=arguments.length,te=new Array(D>1?D-1:0),ae=1;ae<D;ae++)te[ae-1]=arguments[ae];O==null||(Q=O.onClick)===null||Q===void 0||Q.call.apply(Q,[O,G].concat(te))},pe;typeof K=="string"?pe=K:typeof K=="function"&&(pe=K(o,a,s));var Se=Ge(X),Re=n.createElement(m,ee({},O,{"data-row-key":c,className:se(r,"".concat(w,"-row"),"".concat(w,"-row-level-").concat(s),pe,O&&O.className),style:x(x({},t),O?O.style:null),onClick:oe}),X.map(function(F,G){var Q=F.render,D=F.dataIndex,te=F.className,ae=Se[G],be=M[G],fe;G===(h||0)&&_&&(fe=n.createElement(n.Fragment,null,n.createElement("span",{style:{paddingLeft:"".concat(y*s,"px")},className:"".concat(w,"-row-indent indent-level-").concat(s)}),$({prefixCls:w,expanded:P,expandable:Y,record:o,onExpand:he})));var ke;return F.onCell&&(ke=F.onCell(o,a)),n.createElement(Be,ee({className:te,ellipsis:F.ellipsis,align:F.align,scope:F.rowScope,component:F.rowScope?v:p,prefixCls:w,key:ae,record:o,index:a,renderIndex:l,dataIndex:D,render:Q,shouldCellUpdate:F.shouldCellUpdate,expanded:fe&&P},be,{appendNode:fe,additionalProps:ke}))})),xe;if(z&&(T||P)){var Ne=N(o,a,s+1,P),ge=j&&j(o,a,s);xe=n.createElement(at,{expanded:P,className:se("".concat(w,"-expanded-row"),"".concat(w,"-expanded-row-level-").concat(s+1),ge),prefixCls:w,component:m,cellComponent:p,colSpan:X.length,isEmpty:!1},Ne)}return n.createElement(n.Fragment,null,Re,xe)}lt.displayName="BodyRow";function rr(e){var r=e.columnKey,t=e.onColumnResize,o=n.useRef();return n.useEffect(function(){o.current&&t(r,o.current.offsetWidth)},[]),n.createElement(dn,{data:r},n.createElement("td",{ref:o,style:{padding:0,border:0,height:0}},n.createElement("div",{style:{height:0,overflow:"hidden"}},"Â ")))}function or(e){var r=e.prefixCls,t=e.columnsKey,o=e.onColumnResize;return n.createElement("tr",{"aria-hidden":"true",className:"".concat(r,"-measure-row"),style:{height:0,fontSize:0}},n.createElement(dn.Collection,{onBatchResize:function(l){l.forEach(function(c){var i=c.data,u=c.size;o(i,u.offsetWidth)})}},t.map(function(a){return n.createElement(rr,{key:a,columnKey:a,onColumnResize:o})})))}function ar(e){var r=e.data,t=e.getRowKey,o=e.measureColumnWidth,a=e.expandedKeys,l=e.onRow,c=e.rowExpandable,i=e.emptyNode,u=e.childrenColumnName,d=J(Qn,"onColumnResize"),f=J(ue,["prefixCls","getComponent"]),s=f.prefixCls,m=f.getComponent,p=J(Ye,"flattenColumns"),v=Yt(r,u,a,t),k=n.useRef({renderWithProps:!1}),R=n.useState(-1),w=V(R,2),M=w[0],H=w[1],X=n.useState(-1),g=V(X,2),L=g[0],U=g[1],K=n.useCallback(function(y,$){H(y),U($)},[]),j=n.useMemo(function(){var y=m(["body","wrapper"],"tbody"),$=m(["body","row"],"tr"),N=m(["body","cell"],"td"),h=m(["body","cell"],"th"),S;r.length?S=v.map(function(T,E){var P=T.record,z=T.indent,_=T.index,Y=t(P,E);return n.createElement(lt,{key:Y,rowKey:Y,record:P,recordKey:Y,index:E,renderIndex:_,rowComponent:$,cellComponent:N,scopeCellComponent:h,expandedKeys:a,onRow:l,getRowKey:t,rowExpandable:c,childrenColumnName:u,indent:z})}):S=n.createElement(at,{expanded:!0,className:"".concat(s,"-placeholder"),prefixCls:s,component:$,cellComponent:N,colSpan:p.length,isEmpty:!0},i);var A=Ge(p);return n.createElement(y,{className:"".concat(s,"-tbody")},o&&n.createElement(or,{prefixCls:s,columnsKey:A,onColumnResize:d}),S)},[r,s,l,o,a,t,m,i,p,u,d,c,v]);return n.createElement(_n.Provider,{value:k.current},n.createElement(Jn.Provider,{value:{startRow:M,endRow:L,onHover:K}},j))}var it=n.memo(ar);it.displayName="Body";var lr=["expandable"],ct="RC_TABLE_INTERNAL_COL_DEFINE";function ir(e){var r=e.expandable,t=Ee(e,lr),o;return"expandable"in e?o=x(x({},t),r):o=t,o.showExpandColumn===!1&&(o.expandIconColumnIndex=-1),o}var cr=["columnType"];function st(e){for(var r=e.colWidths,t=e.columns,o=e.columCount,a=[],l=o||t.length,c=!1,i=l-1;i>=0;i-=1){var u=r[i],d=t&&t[i],f=d&&d[ct];if(u||f||c){var s=f||{};s.columnType;var m=Ee(s,cr);a.unshift(n.createElement("col",ee({key:i,style:{width:u}},m))),c=!0}}return n.createElement("colgroup",null,a)}var we={},sr=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function ur(e,r){return n.useMemo(function(){for(var t=[],o=0;o<r;o+=1){var a=e[o];if(a!==void 0)t[o]=a;else return null}return t},[e.join("_"),r])}var sn=n.forwardRef(function(e,r){var t=e.className,o=e.noData,a=e.columns,l=e.flattenColumns,c=e.colWidths,i=e.columCount,u=e.stickyOffsets,d=e.direction,f=e.fixHeader,s=e.stickyTopOffset,m=e.stickyBottomOffset,p=e.stickyClassName,v=e.onScroll,k=e.maxContentScroll,R=e.children,w=Ee(e,sr),M=J(ue,["prefixCls","scrollbarSize","isSticky"]),H=M.prefixCls,X=M.scrollbarSize,g=M.isSticky,L=g&&!f?0:X,U=n.useRef(null),K=n.useCallback(function(T){An(r,T),An(U,T)},[]);n.useEffect(function(){var T;function E(P){var z=P,_=z.currentTarget,Y=z.deltaX;Y&&(v({currentTarget:_,scrollLeft:_.scrollLeft+Y}),P.preventDefault())}return(T=U.current)===null||T===void 0||T.addEventListener("wheel",E),function(){var P;(P=U.current)===null||P===void 0||P.removeEventListener("wheel",E)}},[]);var j=n.useMemo(function(){return l.every(function(T){return T.width>=0})},[l]),y=l[l.length-1],$={fixed:y?y.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(H,"-cell-scrollbar")}}},N=n.useMemo(function(){return L?[].concat(ne(a),[$]):a},[L,a]),h=n.useMemo(function(){return L?[].concat(ne(l),[$]):l},[L,l]),S=n.useMemo(function(){var T=u.right,E=u.left;return x(x({},u),{},{left:d==="rtl"?[].concat(ne(E.map(function(P){return P+L})),[0]):E,right:d==="rtl"?T:[].concat(ne(T.map(function(P){return P+L})),[0]),isSticky:g})},[L,u,g]),A=ur(c,i);return n.createElement("div",{style:x({overflow:"hidden"},g?{top:s,bottom:m}:{}),ref:K,className:se(t,I({},p,!!p))},n.createElement("table",{style:{tableLayout:"fixed",visibility:o||A?null:"hidden"}},(!o||!k||j)&&n.createElement(st,{colWidths:A?[].concat(ne(A),[L]):[],columCount:i+1,columns:h}),R(x(x({},w),{},{stickyOffsets:S,columns:N,flattenColumns:h}))))});sn.displayName="FixedHolder";function mn(e,r,t,o,a){var l=t[e]||{},c=t[r]||{},i,u;l.fixed==="left"?i=o.left[e]:c.fixed==="right"&&(u=o.right[r]);var d=!1,f=!1,s=!1,m=!1,p=t[r+1],v=t[e-1];if(a==="rtl"){if(i!==void 0){var k=v&&v.fixed==="left";m=!k}else if(u!==void 0){var R=p&&p.fixed==="right";s=!R}}else if(i!==void 0){var w=p&&p.fixed==="left";d=!w}else if(u!==void 0){var M=v&&v.fixed==="right";f=!M}return{fixLeft:i,fixRight:u,lastFixLeft:d,firstFixRight:f,lastFixRight:s,firstFixLeft:m,isSticky:o.isSticky}}var ut=n.createContext({});function dr(e){var r=e.className,t=e.index,o=e.children,a=e.colSpan,l=a===void 0?1:a,c=e.rowSpan,i=e.align,u=J(ue,["prefixCls","direction"]),d=u.prefixCls,f=u.direction,s=n.useContext(ut),m=s.scrollColumnIndex,p=s.stickyOffsets,v=s.flattenColumns,k=t+l-1,R=k+1===m?l+1:l,w=mn(t,t+R-1,v,p,f);return n.createElement(Be,ee({className:r,index:t,component:"td",prefixCls:d,record:null,dataIndex:null,align:i,colSpan:R,rowSpan:c,render:function(){return o}},w))}var fr=["children"];function mr(e){var r=e.children,t=Ee(e,fr);return n.createElement("tr",t,r)}function qe(e){var r=e.children;return r}qe.Row=mr;qe.Cell=dr;function Xe(e){var r=e.children,t=e.stickyOffsets,o=e.flattenColumns,a=J(ue,"prefixCls"),l=o.length-1,c=o[l],i=n.useMemo(function(){return{stickyOffsets:t,flattenColumns:o,scrollColumnIndex:c!=null&&c.scrollbar?l:null}},[c,o,l,t]);return n.createElement(ut.Provider,{value:i},n.createElement("tfoot",{className:"".concat(a,"-summary")},r))}var vr=qe;function dt(e){var r=e.cells,t=e.stickyOffsets,o=e.flattenColumns,a=e.rowComponent,l=e.cellComponent,c=e.tdCellComponent,i=e.onHeaderRow,u=e.index,d=J(ue,["prefixCls","direction"]),f=d.prefixCls,s=d.direction,m;i&&(m=i(r.map(function(v){return v.column}),u));var p=Ge(r.map(function(v){return v.column}));return n.createElement(a,m,r.map(function(v,k){var R=v.column,w=mn(v.colStart,v.colEnd,o,t,s),M;return R&&R.onHeaderCell&&(M=v.column.onHeaderCell(R)),n.createElement(Be,ee({},v,{scope:R.title?v.colSpan>1?"colgroup":"col":null,ellipsis:R.ellipsis,align:R.align,component:R.title?l:c,prefixCls:f,key:p[k]},w,{additionalProps:M,rowType:"header"}))}))}dt.displayName="HeaderRow";function pr(e){var r=[];function t(c,i){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;r[u]=r[u]||[];var d=i,f=c.filter(Boolean).map(function(s){var m={key:s.key,className:s.className||"",children:s.title,column:s,colStart:d},p=1,v=s.children;return v&&v.length>0&&(p=t(v,d,u+1).reduce(function(k,R){return k+R},0),m.hasSubColumns=!0),"colSpan"in s&&(p=s.colSpan),"rowSpan"in s&&(m.rowSpan=s.rowSpan),m.colSpan=p,m.colEnd=m.colStart+p-1,r[u].push(m),d+=p,p});return f}t(e,0);for(var o=r.length,a=function(i){r[i].forEach(function(u){!("rowSpan"in u)&&!u.hasSubColumns&&(u.rowSpan=o-i)})},l=0;l<o;l+=1)a(l);return r}function jn(e){var r=e.stickyOffsets,t=e.columns,o=e.flattenColumns,a=e.onHeaderRow,l=J(ue,["prefixCls","getComponent"]),c=l.prefixCls,i=l.getComponent,u=n.useMemo(function(){return pr(t)},[t]),d=i(["header","wrapper"],"thead"),f=i(["header","row"],"tr"),s=i(["header","cell"],"th"),m=i(["header","cell"],"td");return n.createElement(d,{className:"".concat(c,"-thead")},u.map(function(p,v){var k=n.createElement(dt,{key:v,flattenColumns:o,cells:p,stickyOffsets:r,rowComponent:f,cellComponent:s,tdCellComponent:m,onHeaderRow:a,index:v});return k}))}var xr=["children"],Cr=["fixed"];function ft(e){return At(e).filter(function(r){return n.isValidElement(r)}).map(function(r){var t=r.key,o=r.props,a=o.children,l=Ee(o,xr),c=x({key:t},l);return a&&(c.children=ft(a)),c})}function un(e){return e.reduce(function(r,t){var o=t.fixed,a=o===!0?"left":o,l=t.children;return l&&l.length>0?[].concat(ne(r),ne(un(l).map(function(c){return x({fixed:a},c)}))):[].concat(ne(r),[x(x({},t),{},{fixed:a})])},[])}function yr(e){return e.map(function(r){var t=r.fixed,o=Ee(r,Cr),a=t;return t==="left"?a="right":t==="right"&&(a="left"),x({fixed:a},o)})}function hr(e,r){var t=e.prefixCls,o=e.columns,a=e.children,l=e.expandable,c=e.expandedKeys,i=e.columnTitle,u=e.getRowKey,d=e.onTriggerExpand,f=e.expandIcon,s=e.rowExpandable,m=e.expandIconColumnIndex,p=e.direction,v=e.expandRowByClick,k=e.columnWidth,R=e.fixed,w=n.useMemo(function(){return o||ft(a)},[o,a]),M=n.useMemo(function(){if(l){var g,L=w.slice();if(!L.includes(we)){var U=m||0;U>=0&&L.splice(U,0,we)}var K=L.indexOf(we);L=L.filter(function(N,h){return N!==we||h===K});var j=w[K],y;(R==="left"||R)&&!m?y="left":(R==="right"||R)&&m===w.length?y="right":y=j?j.fixed:null;var $=(g={},I(g,ct,{className:"".concat(t,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),I(g,"title",i),I(g,"fixed",y),I(g,"className","".concat(t,"-row-expand-icon-cell")),I(g,"width",k),I(g,"render",function(h,S,A){var T=u(S,A),E=c.has(T),P=s?s(S):!0,z=f({prefixCls:t,expanded:E,expandable:P,record:S,onExpand:d});return v?n.createElement("span",{onClick:function(Y){return Y.stopPropagation()}},z):z}),g);return L.map(function(N){return N===we?$:N})}return w.filter(function(N){return N!==we})},[l,w,u,c,f,p]),H=n.useMemo(function(){var g=M;return r&&(g=r(g)),g.length||(g=[{render:function(){return null}}]),g},[r,M,p]),X=n.useMemo(function(){return p==="rtl"?yr(un(H)):un(H)},[H,p]);return[H,X]}function mt(e){var r=n.useRef(e),t=n.useState({}),o=V(t,2),a=o[1],l=n.useRef(null),c=n.useRef([]);function i(u){c.current.push(u);var d=Promise.resolve();l.current=d,d.then(function(){if(l.current===d){var f=c.current,s=r.current;c.current=[],f.forEach(function(m){r.current=m(r.current)}),l.current=null,s!==r.current&&a({})}})}return n.useEffect(function(){return function(){l.current=null}},[]),[r.current,i]}function Sr(e){var r=n.useRef(e||null),t=n.useRef();function o(){window.clearTimeout(t.current)}function a(c){r.current=c,o(),t.current=window.setTimeout(function(){r.current=null,t.current=void 0},100)}function l(){return r.current}return n.useEffect(function(){return o},[]),[a,l]}var Yn=Dt()?window:null;function Rr(e,r){var t=je(e)==="object"?e:{},o=t.offsetHeader,a=o===void 0?0:o,l=t.offsetSummary,c=l===void 0?0:l,i=t.offsetScroll,u=i===void 0?0:i,d=t.getContainer,f=d===void 0?function(){return Yn}:d,s=f()||Yn;return n.useMemo(function(){var m=!!e;return{isSticky:m,stickyClassName:m?"".concat(r,"-sticky-holder"):"",offsetHeader:a,offsetSummary:c,offsetScroll:u,container:s}},[u,a,c,r,s])}function gr(e,r,t){var o=n.useMemo(function(){for(var a=[],l=[],c=0,i=0,u=0;u<r;u+=1)if(t==="rtl"){l[u]=i,i+=e[u]||0;var d=r-u-1;a[d]=c,c+=e[d]||0}else{a[u]=c,c+=e[u]||0;var f=r-u-1;l[f]=i,i+=e[f]||0}return{left:a,right:l}},[e,r,t]);return o}function Gn(e){var r=e.className,t=e.children;return n.createElement("div",{className:r},t)}var wr=function(r,t){var o,a,l=r.scrollBodyRef,c=r.onScroll,i=r.offsetScroll,u=r.container,d=J(ue,"prefixCls"),f=((o=l.current)===null||o===void 0?void 0:o.scrollWidth)||0,s=((a=l.current)===null||a===void 0?void 0:a.clientWidth)||0,m=f&&s*(s/f),p=n.useRef(),v=mt({scrollLeft:0,isHiddenScrollBar:!1}),k=V(v,2),R=k[0],w=k[1],M=n.useRef({delta:0,x:0}),H=n.useState(!1),X=V(H,2),g=X[0],L=X[1],U=function(){L(!1)},K=function(h){h.persist(),M.current.delta=h.pageX-R.scrollLeft,M.current.x=0,L(!0),h.preventDefault()},j=function(h){var S,A=h||((S=window)===null||S===void 0?void 0:S.event),T=A.buttons;if(!g||T===0){g&&L(!1);return}var E=M.current.x+h.pageX-M.current.x-M.current.delta;E<=0&&(E=0),E+m>=s&&(E=s-m),c({scrollLeft:E/s*(f+2)}),M.current.x=h.pageX},y=function(){if(!!l.current){var h=Vn(l.current).top,S=h+l.current.offsetHeight,A=u===window?document.documentElement.scrollTop+window.innerHeight:Vn(u).top+u.clientHeight;S-Dn()<=A||h>=A-i?w(function(T){return x(x({},T),{},{isHiddenScrollBar:!0})}):w(function(T){return x(x({},T),{},{isHiddenScrollBar:!1})})}},$=function(h){w(function(S){return x(x({},S),{},{scrollLeft:h/f*s||0})})};return n.useImperativeHandle(t,function(){return{setScrollLeft:$}}),n.useEffect(function(){var N=Ue(document.body,"mouseup",U,!1),h=Ue(document.body,"mousemove",j,!1);return y(),function(){N.remove(),h.remove()}},[m,g]),n.useEffect(function(){var N=Ue(u,"scroll",y,!1),h=Ue(window,"resize",y,!1);return function(){N.remove(),h.remove()}},[u]),n.useEffect(function(){R.isHiddenScrollBar||w(function(N){var h=l.current;return h?x(x({},N),{},{scrollLeft:h.scrollLeft/h.scrollWidth*h.clientWidth}):N})},[R.isHiddenScrollBar]),f<=s||!m||R.isHiddenScrollBar?null:n.createElement("div",{style:{height:Dn(),width:s,bottom:i},className:"".concat(d,"-sticky-scroll")},n.createElement("div",{onMouseDown:K,ref:p,className:se("".concat(d,"-sticky-scroll-bar"),I({},"".concat(d,"-sticky-scroll-bar-active"),g)),style:{width:"".concat(m,"px"),transform:"translate3d(".concat(R.scrollLeft,"px, 0, 0)")}}))};const Er=n.forwardRef(wr);function Nr(e){return null}function br(e){return null}function kr(e){var r,t=e.prefixCls,o=e.record,a=e.onExpand,l=e.expanded,c=e.expandable,i="".concat(t,"-row-expand-icon");if(!c)return n.createElement("span",{className:se(i,"".concat(t,"-row-spaced"))});var u=function(f){a(o,f),f.stopPropagation()};return n.createElement("span",{className:se(i,(r={},I(r,"".concat(t,"-row-expanded"),l),I(r,"".concat(t,"-row-collapsed"),!l),r)),onClick:u})}function Tr(e,r,t){var o=[];function a(l){(l||[]).forEach(function(c,i){o.push(r(c,i)),a(c[t])})}return a(e),o}var Lr=[],Ir={},ln="rc-table-internal-hook",Mr=n.memo(function(e){var r=e.children;return r},function(e,r){return fn(e.props,r.props)?e.pingLeft!==r.pingLeft||e.pingRight!==r.pingRight:!1});function Je(e){var r,t=x({rowKey:"key",prefixCls:"rc-table",emptyText:function(){return"No Data"}},e),o=t.prefixCls,a=t.className,l=t.rowClassName,c=t.style,i=t.data,u=t.rowKey,d=t.scroll,f=t.tableLayout,s=t.direction,m=t.title,p=t.footer,v=t.summary,k=t.caption,R=t.id,w=t.showHeader,M=t.components,H=t.emptyText,X=t.onRow,g=t.onHeaderRow,L=t.internalHooks,U=t.transformColumns,K=t.internalRefs,j=t.sticky,y=i||Lr,$=!!y.length,N=n.useCallback(function(C,b){return nt(M||{},C)||b},[M]),h=n.useMemo(function(){return typeof u=="function"?u:function(C){var b=C&&C[u];return b}},[u]),S=ir(t),A=S.expandIcon,T=S.expandedRowKeys,E=S.defaultExpandedRowKeys,P=S.defaultExpandAllRows,z=S.expandedRowRender,_=S.columnTitle,Y=S.onExpand,ve=S.onExpandedRowsChange,de=S.expandRowByClick,he=S.rowExpandable,O=S.expandIconColumnIndex,oe=S.expandedRowClassName,pe=S.childrenColumnName,Se=S.indentSize,Re=A||kr,xe=pe||"children",Ne=n.useMemo(function(){return z?"row":t.expandable&&L===ln&&t.expandable.__PARENT_RENDER_ICON__||y.some(function(C){return C&&je(C)==="object"&&C[xe]})?"nest":!1},[!!z,y]),ge=n.useState(function(){return E||(P?Tr(y,h,xe):[])}),F=V(ge,2),G=F[0],Q=F[1],D=n.useMemo(function(){return new Set(T||G||[])},[T,G]),te=n.useCallback(function(C){var b=h(C,y.indexOf(C)),W,Z=D.has(b);Z?(D.delete(b),W=ne(D)):W=[].concat(ne(D),[b]),Q(W),Y&&Y(!Z,C),ve&&ve(W)},[h,D,y,Y,ve]),ae=n.useState(0),be=V(ae,2),fe=be[0],ke=be[1],Te=hr(x(x(x({},t),S),{},{expandable:!!z,columnTitle:_,expandedKeys:D,getRowKey:h,onTriggerExpand:te,expandIcon:Re,expandIconColumnIndex:O,direction:s}),L===ln?U:null),le=V(Te,2),q=le[0],B=le[1],He=n.useMemo(function(){return{columns:q,flattenColumns:B}},[q,B]),Oe=n.useRef(),vn=n.useRef(),ie=n.useRef(),pn=n.useRef(),xn=n.useRef(),vt=n.useState(!1),Cn=V(vt,2),yn=Cn[0],$e=Cn[1],pt=n.useState(!1),hn=V(pt,2),Sn=hn[0],Fe=hn[1],xt=mt(new Map),Rn=V(xt,2),Ct=Rn[0],yt=Rn[1],ht=Ge(B),gn=ht.map(function(C){return Ct.get(C)}),wn=n.useMemo(function(){return gn},[gn.join("_")]),Le=gr(wn,B.length,s),re=d&&cn(d.y),ce=d&&cn(d.x)||Boolean(S.fixed),Pe=ce&&B.some(function(C){var b=C.fixed;return b}),En=n.useRef(),Ie=Rr(j,o),Ce=Ie.isSticky,St=Ie.offsetHeader,Rt=Ie.offsetSummary,gt=Ie.offsetScroll,wt=Ie.stickyClassName,Et=Ie.container,me=v==null?void 0:v(y),We=(re||Ce)&&n.isValidElement(me)&&me.type===qe&&me.props.fixed,_e,Ke,Qe;re&&(Ke={overflowY:"scroll",maxHeight:d.y}),ce&&(_e={overflowX:"auto"},re||(Ke={overflowY:"hidden"}),Qe={width:(d==null?void 0:d.x)===!0?"auto":d==null?void 0:d.x,minWidth:"100%"});var Nn=n.useCallback(function(C,b){Vt(Oe.current)&&yt(function(W){if(W.get(C)!==b){var Z=new Map(W);return Z.set(C,b),Z}return W})},[]),Nt=Sr(null),bn=V(Nt,2),bt=bn[0],kn=bn[1];function Ae(C,b){!b||(typeof b=="function"?b(C):b.scrollLeft!==C&&(b.scrollLeft=C,b.scrollLeft!==C&&setTimeout(function(){b.scrollLeft=C},0)))}var Me=function(b){var W=b.currentTarget,Z=b.scrollLeft,Ft=s==="rtl",ye=typeof Z=="number"?Z:W.scrollLeft,Kn=W||Ir;if(!kn()||kn()===Kn){var rn;bt(Kn),Ae(ye,vn.current),Ae(ye,ie.current),Ae(ye,xn.current),Ae(ye,(rn=En.current)===null||rn===void 0?void 0:rn.setScrollLeft)}if(W){var on=W.scrollWidth,an=W.clientWidth;if(on===an){$e(!1),Fe(!1);return}Ft?($e(-ye<on-an),Fe(-ye>0)):($e(ye>0),Fe(ye<on-an))}},Tn=function(){ce&&ie.current?Me({currentTarget:ie.current}):($e(!1),Fe(!1))},kt=function(b){var W=b.width;W!==fe&&(Tn(),ke(Oe.current?Oe.current.offsetWidth:W))},Ln=n.useRef(!1);n.useEffect(function(){Ln.current&&Tn()},[ce,i,q.length]),n.useEffect(function(){Ln.current=!0},[]);var Tt=n.useState(0),In=V(Tt,2),De=In[0],Mn=In[1],Lt=n.useState(!0),Hn=V(Lt,2),It=Hn[0],Mt=Hn[1];n.useEffect(function(){ie.current instanceof Element?Mn(Un(ie.current).width):Mn(Un(pn.current).width),Mt(Ut("position","sticky"))},[]),n.useEffect(function(){L===ln&&K&&(K.body.current=ie.current)});var Pn=N(["table"],"table"),Ve=n.useMemo(function(){return f||(Pe?(d==null?void 0:d.x)==="max-content"?"auto":"fixed":re||Ce||B.some(function(C){var b=C.ellipsis;return b})?"fixed":"auto")},[re,Pe,B,f,Ce]),Ze,en={colWidths:wn,columCount:B.length,stickyOffsets:Le,onHeaderRow:g,fixHeader:re,scroll:d},Ht=n.useMemo(function(){return $?null:typeof H=="function"?H():H},[$,H]),zn=n.createElement(it,{data:y,measureColumnWidth:re||ce||Ce,expandedKeys:D,rowExpandable:he,getRowKey:h,onRow:X,emptyNode:Ht,childrenColumnName:xe}),Bn=n.createElement(st,{colWidths:B.map(function(C){var b=C.width;return b}),columns:B}),On=k!=null?n.createElement("caption",{className:"".concat(o,"-caption")},k):void 0,$n=N(["body"]),Pt=Xn(t,{data:!0}),Fn=Xn(t,{aria:!0});if(re||Ce){var nn;typeof $n=="function"?(nn=$n(y,{scrollbarSize:De,ref:ie,onScroll:Me}),en.colWidths=B.map(function(C,b){var W=C.width,Z=b===q.length-1?W-De:W;return typeof Z=="number"&&!Number.isNaN(Z)?Z:(Xt(!1,"When use `components.body` with render props. Each column should have a fixed `width` value."),0)})):nn=n.createElement("div",{style:x(x({},_e),Ke),onScroll:Me,ref:ie,className:se("".concat(o,"-body"))},n.createElement(Pn,ee({style:x(x({},Qe),{},{tableLayout:Ve})},Fn),On,Bn,zn,!We&&me&&n.createElement(Xe,{stickyOffsets:Le,flattenColumns:B},me)));var Wn=x(x(x({noData:!y.length,maxContentScroll:ce&&d.x==="max-content"},en),He),{},{direction:s,stickyClassName:wt,onScroll:Me});Ze=n.createElement(n.Fragment,null,w!==!1&&n.createElement(sn,ee({},Wn,{stickyTopOffset:St,className:"".concat(o,"-header"),ref:vn}),function(C){return n.createElement(n.Fragment,null,n.createElement(jn,C),We==="top"&&n.createElement(Xe,C,me))}),nn,We&&We!=="top"&&n.createElement(sn,ee({},Wn,{stickyBottomOffset:Rt,className:"".concat(o,"-summary"),ref:xn}),function(C){return n.createElement(Xe,C,me)}),Ce&&n.createElement(Er,{ref:En,offsetScroll:gt,scrollBodyRef:ie,onScroll:Me,container:Et}))}else Ze=n.createElement("div",{style:x(x({},_e),Ke),className:se("".concat(o,"-content")),onScroll:Me,ref:ie},n.createElement(Pn,ee({style:x(x({},Qe),{},{tableLayout:Ve})},Fn),On,Bn,w!==!1&&n.createElement(jn,ee({},en,He)),zn,me&&n.createElement(Xe,{stickyOffsets:Le,flattenColumns:B},me)));var tn=n.createElement("div",ee({className:se(o,a,(r={},I(r,"".concat(o,"-rtl"),s==="rtl"),I(r,"".concat(o,"-ping-left"),yn),I(r,"".concat(o,"-ping-right"),Sn),I(r,"".concat(o,"-layout-fixed"),f==="fixed"),I(r,"".concat(o,"-fixed-header"),re),I(r,"".concat(o,"-fixed-column"),Pe),I(r,"".concat(o,"-scroll-horizontal"),ce),I(r,"".concat(o,"-has-fix-left"),B[0]&&B[0].fixed),I(r,"".concat(o,"-has-fix-right"),B[B.length-1]&&B[B.length-1].fixed==="right"),r)),style:c,id:R,ref:Oe},Pt),n.createElement(Mr,{pingLeft:yn,pingRight:Sn,props:x(x({},t),{},{stickyOffsets:Le,mergedExpandedKeys:D})},m&&n.createElement(Gn,{className:"".concat(o,"-title")},m(y)),n.createElement("div",{ref:pn,className:"".concat(o,"-container")},Ze),p&&n.createElement(Gn,{className:"".concat(o,"-footer")},p(y))));ce&&(tn=n.createElement(dn,{onResize:kt},tn));var zt=n.useMemo(function(){return{prefixCls:o,getComponent:N,scrollbarSize:De,direction:s,fixedInfoList:B.map(function(C,b){return mn(b,b,B,Le,s)}),isSticky:Ce}},[o,N,De,s,B,Le,Ce]),Bt=n.useMemo(function(){return x(x({},He),{},{tableLayout:Ve,rowClassName:l,expandedRowClassName:oe,expandIcon:Re,expandableType:Ne,expandRowByClick:de,expandedRowRender:z,onTriggerExpand:te,expandIconColumnIndex:O,indentSize:Se,allColumnsFixedLeft:He.flattenColumns.every(function(C){return C.fixed==="left"})})},[He,Ve,l,oe,Re,Ne,de,z,te,O,Se]),Ot=n.useMemo(function(){return{componentWidth:fe,fixHeader:re,fixColumn:Pe,horizonScroll:ce}},[fe,re,Pe,ce]),$t=n.useMemo(function(){return{onColumnResize:Nn}},[Nn]);return n.createElement(tt.Provider,{value:It},n.createElement(ue.Provider,{value:zt},n.createElement(Ye.Provider,{value:Bt},n.createElement(ot.Provider,{value:Ot},n.createElement(Qn.Provider,{value:$t},tn)))))}Je.EXPAND_COLUMN=we;Je.Column=Nr;Je.ColumnGroup=br;Je.Summary=vr;export{vr as F,ct as I,Je as T,ln as a,ft as c};
