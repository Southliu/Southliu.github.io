import{c as V,b as te,h as ee,d as je,g as Ee,e as v,f as I}from"./@babel_runtime.0b96ec9f.js";import{c as ce}from"./classnames.96a48171.js";import{R as ut}from"./rc-resize-observer.c02c0b35.js";import{i as Wn,b as Gt,s as Kn,D as Kt,t as An,c as Dn,p as Ue,g as At,G as Dt,q as Vn,H as Vt,I as Un,x as Ut,a as Xn}from"./rc-util.88348ebb.js";import{r as t}from"./react.017637b6.js";import{s as dt}from"./shallowequal.6a8ebf1c.js";import{r as jn}from"./react-dom.9b851fd7.js";function Be(e){var r=t.exports.createContext(e),n=function(a){var l=a.value,i=a.children,s=t.exports.useRef(l);s.current=l;var u=t.exports.useState(function(){return{getValue:function(){return s.current},listeners:new Set}}),d=V(u,1),f=d[0];return Gt(function(){jn.exports.unstable_batchedUpdates(function(){f.listeners.forEach(function(c){c(l)})})},[l]),t.exports.createElement(r.Provider,{value:f},i)};return{Context:r,Provider:n}}function _(e,r){var n=Wn(typeof r=="function"?r:function(c){if(!Array.isArray(r))return c[r];var p={};return r.forEach(function(m){p[m]=c[m]}),p}),o=t.exports.useContext(e==null?void 0:e.Context),a=o||{},l=a.listeners,i=a.getValue,s=t.exports.useRef();s.current=n(o?i():null);var u=t.exports.useState({}),d=V(u,2),f=d[1];return Gt(function(){if(!o)return;function c(p){var m=n(p);dt(s.current,m)||f({})}return l.add(c),function(){l.delete(c)}},[o]),s.current}var Ye=Be(),qt=Be(),_t=t.exports.createContext({renderWithProps:!1}),Jt=Be(),ue=Be();function Qt(e,r,n,o,a,l){var i=[];i.push({record:e,indent:r,index:l});var s=a(e),u=o==null?void 0:o.has(s);if(e&&Array.isArray(e[n])&&u)for(var d=0;d<e[n].length;d+=1){var f=Qt(e[n][d],r+1,n,o,a,d);i.push.apply(i,te(f))}return i}function Yn(e,r,n,o){var a=t.exports.useMemo(function(){if(n!=null&&n.size){for(var l=[],i=0;i<(e==null?void 0:e.length);i+=1){var s=e[i];l.push.apply(l,te(Qt(s,0,r,n,o,i)))}return l}return e==null?void 0:e.map(function(u,d){return{record:u,indent:0,index:d}})},[e,r,n,o]);return a}var Gn="RC_TABLE_KEY";function Zt(e){return e==null?[]:Array.isArray(e)?e:[e]}function en(e,r){if(!r&&typeof r!="number")return e;for(var n=Zt(r),o=e,a=0;a<n.length;a+=1){if(!o)return null;var l=n[a];o=o[l]}return o}function Ge(e){var r=[],n={};return e.forEach(function(o){for(var a=o||{},l=a.key,i=a.dataIndex,s=l||Zt(i).join("-")||Gn;n[s];)s="".concat(s,"_next");n[s]=!0,r.push(s)}),r}function st(e){return e!=null}var tn=t.exports.createContext(!1),qn=["colSpan","rowSpan","style","className"];function _n(e,r,n,o){var a=e+r-1;return e<=o&&a>=n}function Jn(e){return e&&je(e)==="object"&&!Array.isArray(e)&&!t.exports.isValidElement(e)}function Qn(e){return typeof e=="string"?!0:Kn(e)}var Zn=function(r){var n=r.ellipsis,o=r.rowType,a=r.children,l,i=n===!0?{showTitle:!0}:n;return i&&(i.showTitle||o==="header")&&(typeof a=="string"||typeof a=="number"?l=a.toString():t.exports.isValidElement(a)&&typeof a.props.children=="string"&&(l=a.props.children)),l};function er(e,r){var n,o,a,l=e.prefixCls,i=e.className,s=e.record,u=e.index,d=e.renderIndex,f=e.dataIndex,c=e.render,p=e.children,m=e.component,x=m===void 0?"td":m,k=e.colSpan,R=e.rowSpan,w=e.scope,M=e.fixLeft,H=e.fixRight,X=e.firstFixLeft,g=e.lastFixLeft,L=e.firstFixRight,U=e.lastFixRight,K=e.appendNode,j=e.additionalProps,y=j===void 0?{}:j,$=e.ellipsis,N=e.align,h=e.rowType,S=e.isSticky,A=e.hovering,T=e.onHover,E="".concat(l,"-cell"),P=t.exports.useContext(_t),B=t.exports.useContext(tn),J=_(Ye,"allColumnsFixedLeft"),Y=t.exports.useMemo(function(){if(st(p))return[p];var Te=en(s,f),le=Te,q=void 0;if(c){var z=c(Te,s,d);Jn(z)?(le=z.children,q=z.props,P.renderWithProps=!0):le=z}return[le,q]},[P.renderWithProps?Math.random():0,p,f,P,s,c,d]),xe=V(Y,2),de=xe[0],he=xe[1],O=de;je(O)==="object"&&!Array.isArray(O)&&!t.exports.isValidElement(O)&&(O=null),$&&(g||L)&&(O=t.exports.createElement("span",{className:"".concat(E,"-content")},O));var oe=he||{},me=oe.colSpan,Se=oe.rowSpan,Re=oe.style,ve=oe.className,Ne=Ee(oe,qn),ge=(n=me!==void 0?me:k)!==null&&n!==void 0?n:1,F=(o=Se!==void 0?Se:R)!==null&&o!==void 0?o:1;if(ge===0||F===0)return null;var G={},Q=typeof M=="number"&&B,D=typeof H=="number"&&B;Q&&(G.position="sticky",G.left=M),D&&(G.position="sticky",G.right=H);var ne={};N&&(ne.textAlign=N);var ae=function(le){var q;s&&T(u,u+F-1),y==null||(q=y.onMouseEnter)===null||q===void 0||q.call(y,le)},be=function(le){var q;s&&T(-1,-1),y==null||(q=y.onMouseLeave)===null||q===void 0||q.call(y,le)},fe=Zn({rowType:h,ellipsis:$,children:de}),ke=v(v(v({title:fe},Ne),y),{},{colSpan:ge!==1?ge:null,rowSpan:F!==1?F:null,scope:w,className:ce(E,i,(a={},I(a,"".concat(E,"-fix-left"),Q&&B),I(a,"".concat(E,"-fix-left-first"),X&&B),I(a,"".concat(E,"-fix-left-last"),g&&B),I(a,"".concat(E,"-fix-left-all"),g&&J&&B),I(a,"".concat(E,"-fix-right"),D&&B),I(a,"".concat(E,"-fix-right-first"),L&&B),I(a,"".concat(E,"-fix-right-last"),U&&B),I(a,"".concat(E,"-ellipsis"),$),I(a,"".concat(E,"-with-append"),K),I(a,"".concat(E,"-fix-sticky"),(Q||D)&&S&&B),I(a,"".concat(E,"-row-hover"),!he&&A),a),y.className,ve),style:v(v(v(v({},y.style),ne),G),Re),onMouseEnter:ae,onMouseLeave:be,ref:Qn(x)?r:null});return t.exports.createElement(x,ke,K,O)}var nn=t.exports.forwardRef(er);nn.displayName="Cell";var tr=["expanded","className","hovering"],nr=t.exports.memo(nn,function(e,r){return r.shouldCellUpdate?tr.every(function(n){return e[n]===r[n]})&&!r.shouldCellUpdate(r.record,e.record):dt(e,r)}),ze=t.exports.forwardRef(function(e,r){var n=e.index,o=e.additionalProps,a=o===void 0?{}:o,l=e.colSpan,i=e.rowSpan,s=a.colSpan,u=a.rowSpan,d=l??s,f=i??u,c=_(qt,function(x){var k=_n(n,f||1,x==null?void 0:x.startRow,x==null?void 0:x.endRow);return{onHover:x==null?void 0:x.onHover,hovering:k}}),p=c.onHover,m=c.hovering;return t.exports.createElement(nr,ee({},e,{colSpan:d,rowSpan:f,hovering:m,ref:r,onHover:p}))});ze.displayName="WrappedCell";var rn=Be(null);function on(e){var r=e.prefixCls,n=e.children,o=e.component,a=e.cellComponent,l=e.className,i=e.expanded,s=e.colSpan,u=e.isEmpty,d=_(ue,"scrollbarSize"),f=_(rn,["fixHeader","fixColumn","componentWidth","horizonScroll"]),c=f.fixHeader,p=f.fixColumn,m=f.componentWidth,x=f.horizonScroll;return t.exports.useMemo(function(){var k=n;return(u?x:p)&&(k=t.exports.createElement("div",{style:{width:m-(c?d:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(r,"-expanded-row-fixed")},m!==0&&k)),t.exports.createElement(o,{className:l,style:{display:i?null:"none"}},t.exports.createElement(ze,{component:a,prefixCls:r,colSpan:s},k))},[n,o,l,i,s,u,d,m,p,c,x])}function an(e){var r=e.className,n=e.style,o=e.record,a=e.index,l=e.renderIndex,i=e.rowKey,s=e.rowExpandable,u=e.expandedKeys,d=e.onRow,f=e.indent,c=f===void 0?0:f,p=e.rowComponent,m=e.cellComponent,x=e.scopeCellComponent,k=e.childrenColumnName,R=_(ue,["prefixCls","fixedInfoList"]),w=R.prefixCls,M=R.fixedInfoList,H=_(Ye,["flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex"]),X=H.flattenColumns,g=H.expandableType,L=H.expandRowByClick,U=H.onTriggerExpand,K=H.rowClassName,j=H.expandedRowClassName,y=H.indentSize,$=H.expandIcon,N=H.expandedRowRender,h=H.expandIconColumnIndex,S=t.exports.useState(!1),A=V(S,2),T=A[0],E=A[1],P=u&&u.has(e.recordKey);t.exports.useEffect(function(){P&&E(!0)},[P]);var B=g==="row"&&(!s||s(o)),J=g==="nest",Y=k&&o&&o[k],xe=B||J,de=t.exports.useRef(U);de.current=U;var he=function(){de.current.apply(de,arguments)},O=d==null?void 0:d(o,a),oe=function(G){var Q;L&&xe&&he(o,G);for(var D=arguments.length,ne=new Array(D>1?D-1:0),ae=1;ae<D;ae++)ne[ae-1]=arguments[ae];O==null||(Q=O.onClick)===null||Q===void 0||Q.call.apply(Q,[O,G].concat(ne))},me;typeof K=="string"?me=K:typeof K=="function"&&(me=K(o,a,c));var Se=Ge(X),Re=t.exports.createElement(p,ee({},O,{"data-row-key":i,className:ce(r,"".concat(w,"-row"),"".concat(w,"-row-level-").concat(c),me,O&&O.className),style:v(v({},n),O?O.style:null),onClick:oe}),X.map(function(F,G){var Q=F.render,D=F.dataIndex,ne=F.className,ae=Se[G],be=M[G],fe;G===(h||0)&&J&&(fe=t.exports.createElement(t.exports.Fragment,null,t.exports.createElement("span",{style:{paddingLeft:"".concat(y*c,"px")},className:"".concat(w,"-row-indent indent-level-").concat(c)}),$({prefixCls:w,expanded:P,expandable:Y,record:o,onExpand:he})));var ke;return F.onCell&&(ke=F.onCell(o,a)),t.exports.createElement(ze,ee({className:ne,ellipsis:F.ellipsis,align:F.align,scope:F.rowScope,component:F.rowScope?x:m,prefixCls:w,key:ae,record:o,index:a,renderIndex:l,dataIndex:D,render:Q,shouldCellUpdate:F.shouldCellUpdate,expanded:fe&&P},be,{appendNode:fe,additionalProps:ke}))})),ve;if(B&&(T||P)){var Ne=N(o,a,c+1,P),ge=j&&j(o,a,c);ve=t.exports.createElement(on,{expanded:P,className:ce("".concat(w,"-expanded-row"),"".concat(w,"-expanded-row-level-").concat(c+1),ge),prefixCls:w,component:p,cellComponent:m,colSpan:X.length,isEmpty:!1},Ne)}return t.exports.createElement(t.exports.Fragment,null,Re,ve)}an.displayName="BodyRow";function rr(e){var r=e.columnKey,n=e.onColumnResize,o=t.exports.useRef();return t.exports.useEffect(function(){o.current&&n(r,o.current.offsetWidth)},[]),t.exports.createElement(ut,{data:r},t.exports.createElement("td",{ref:o,style:{padding:0,border:0,height:0}},t.exports.createElement("div",{style:{height:0,overflow:"hidden"}},"Â ")))}function or(e){var r=e.prefixCls,n=e.columnsKey,o=e.onColumnResize;return t.exports.createElement("tr",{"aria-hidden":"true",className:"".concat(r,"-measure-row"),style:{height:0,fontSize:0}},t.exports.createElement(ut.Collection,{onBatchResize:function(l){l.forEach(function(i){var s=i.data,u=i.size;o(s,u.offsetWidth)})}},n.map(function(a){return t.exports.createElement(rr,{key:a,columnKey:a,onColumnResize:o})})))}function ar(e){var r=e.data,n=e.getRowKey,o=e.measureColumnWidth,a=e.expandedKeys,l=e.onRow,i=e.rowExpandable,s=e.emptyNode,u=e.childrenColumnName,d=_(Jt,"onColumnResize"),f=_(ue,["prefixCls","getComponent"]),c=f.prefixCls,p=f.getComponent,m=_(Ye,"flattenColumns"),x=Yn(r,u,a,n),k=t.exports.useRef({renderWithProps:!1}),R=t.exports.useState(-1),w=V(R,2),M=w[0],H=w[1],X=t.exports.useState(-1),g=V(X,2),L=g[0],U=g[1],K=t.exports.useCallback(function(y,$){H(y),U($)},[]),j=t.exports.useMemo(function(){var y=p(["body","wrapper"],"tbody"),$=p(["body","row"],"tr"),N=p(["body","cell"],"td"),h=p(["body","cell"],"th"),S;r.length?S=x.map(function(T,E){var P=T.record,B=T.indent,J=T.index,Y=n(P,E);return t.exports.createElement(an,{key:Y,rowKey:Y,record:P,recordKey:Y,index:E,renderIndex:J,rowComponent:$,cellComponent:N,scopeCellComponent:h,expandedKeys:a,onRow:l,getRowKey:n,rowExpandable:i,childrenColumnName:u,indent:B})}):S=t.exports.createElement(on,{expanded:!0,className:"".concat(c,"-placeholder"),prefixCls:c,component:$,cellComponent:N,colSpan:m.length,isEmpty:!0},s);var A=Ge(m);return t.exports.createElement(y,{className:"".concat(c,"-tbody")},o&&t.exports.createElement(or,{prefixCls:c,columnsKey:A,onColumnResize:d}),S)},[r,c,l,o,a,n,p,s,m,u,d,i,x]);return t.exports.createElement(_t.Provider,{value:k.current},t.exports.createElement(qt.Provider,{value:{startRow:M,endRow:L,onHover:K}},j))}var ln=t.exports.memo(ar);ln.displayName="Body";var lr=["expandable"],sn="RC_TABLE_INTERNAL_COL_DEFINE";function sr(e){var r=e.expandable,n=Ee(e,lr),o;return"expandable"in e?o=v(v({},n),r):o=n,o.showExpandColumn===!1&&(o.expandIconColumnIndex=-1),o}var ir=["columnType"];function cn(e){for(var r=e.colWidths,n=e.columns,o=e.columCount,a=[],l=o||n.length,i=!1,s=l-1;s>=0;s-=1){var u=r[s],d=n&&n[s],f=d&&d[sn];if(u||f||i){var c=f||{};c.columnType;var p=Ee(c,ir);a.unshift(t.exports.createElement("col",ee({key:s,style:{width:u}},p))),i=!0}}return t.exports.createElement("colgroup",null,a)}var we={},cr=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function ur(e,r){return t.exports.useMemo(function(){for(var n=[],o=0;o<r;o+=1){var a=e[o];if(a!==void 0)n[o]=a;else return null}return n},[e.join("_"),r])}var it=t.exports.forwardRef(function(e,r){var n=e.className,o=e.noData,a=e.columns,l=e.flattenColumns,i=e.colWidths,s=e.columCount,u=e.stickyOffsets,d=e.direction,f=e.fixHeader,c=e.stickyTopOffset,p=e.stickyBottomOffset,m=e.stickyClassName,x=e.onScroll,k=e.maxContentScroll,R=e.children,w=Ee(e,cr),M=_(ue,["prefixCls","scrollbarSize","isSticky"]),H=M.prefixCls,X=M.scrollbarSize,g=M.isSticky,L=g&&!f?0:X,U=t.exports.useRef(null),K=t.exports.useCallback(function(T){Kt(r,T),Kt(U,T)},[]);t.exports.useEffect(function(){var T;function E(P){var B=P,J=B.currentTarget,Y=B.deltaX;Y&&(x({currentTarget:J,scrollLeft:J.scrollLeft+Y}),P.preventDefault())}return(T=U.current)===null||T===void 0||T.addEventListener("wheel",E),function(){var P;(P=U.current)===null||P===void 0||P.removeEventListener("wheel",E)}},[]);var j=t.exports.useMemo(function(){return l.every(function(T){return T.width>=0})},[l]),y=l[l.length-1],$={fixed:y?y.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(H,"-cell-scrollbar")}}},N=t.exports.useMemo(function(){return L?[].concat(te(a),[$]):a},[L,a]),h=t.exports.useMemo(function(){return L?[].concat(te(l),[$]):l},[L,l]),S=t.exports.useMemo(function(){var T=u.right,E=u.left;return v(v({},u),{},{left:d==="rtl"?[].concat(te(E.map(function(P){return P+L})),[0]):E,right:d==="rtl"?T:[].concat(te(T.map(function(P){return P+L})),[0]),isSticky:g})},[L,u,g]),A=ur(i,s);return t.exports.createElement("div",{style:v({overflow:"hidden"},g?{top:c,bottom:p}:{}),ref:K,className:ce(n,I({},m,!!m))},t.exports.createElement("table",{style:{tableLayout:"fixed",visibility:o||A?null:"hidden"}},(!o||!k||j)&&t.exports.createElement(cn,{colWidths:A?[].concat(te(A),[L]):[],columCount:s+1,columns:h}),R(v(v({},w),{},{stickyOffsets:S,columns:N,flattenColumns:h}))))});it.displayName="FixedHolder";function ft(e,r,n,o,a){var l=n[e]||{},i=n[r]||{},s,u;l.fixed==="left"?s=o.left[e]:i.fixed==="right"&&(u=o.right[r]);var d=!1,f=!1,c=!1,p=!1,m=n[r+1],x=n[e-1];if(a==="rtl"){if(s!==void 0){var k=x&&x.fixed==="left";p=!k}else if(u!==void 0){var R=m&&m.fixed==="right";c=!R}}else if(s!==void 0){var w=m&&m.fixed==="left";d=!w}else if(u!==void 0){var M=x&&x.fixed==="right";f=!M}return{fixLeft:s,fixRight:u,lastFixLeft:d,firstFixRight:f,lastFixRight:c,firstFixLeft:p,isSticky:o.isSticky}}var un=t.exports.createContext({});function dr(e){var r=e.className,n=e.index,o=e.children,a=e.colSpan,l=a===void 0?1:a,i=e.rowSpan,s=e.align,u=_(ue,["prefixCls","direction"]),d=u.prefixCls,f=u.direction,c=t.exports.useContext(un),p=c.scrollColumnIndex,m=c.stickyOffsets,x=c.flattenColumns,k=n+l-1,R=k+1===p?l+1:l,w=ft(n,n+R-1,x,m,f);return t.exports.createElement(ze,ee({className:r,index:n,component:"td",prefixCls:d,record:null,dataIndex:null,align:s,colSpan:R,rowSpan:i,render:function(){return o}},w))}var fr=["children"];function pr(e){var r=e.children,n=Ee(e,fr);return t.exports.createElement("tr",n,r)}function qe(e){var r=e.children;return r}qe.Row=pr;qe.Cell=dr;function Xe(e){var r=e.children,n=e.stickyOffsets,o=e.flattenColumns,a=_(ue,"prefixCls"),l=o.length-1,i=o[l],s=t.exports.useMemo(function(){return{stickyOffsets:n,flattenColumns:o,scrollColumnIndex:i!=null&&i.scrollbar?l:null}},[i,o,l,n]);return t.exports.createElement(un.Provider,{value:s},t.exports.createElement("tfoot",{className:"".concat(a,"-summary")},r))}var xr=qe;function dn(e){var r=e.cells,n=e.stickyOffsets,o=e.flattenColumns,a=e.rowComponent,l=e.cellComponent,i=e.tdCellComponent,s=e.onHeaderRow,u=e.index,d=_(ue,["prefixCls","direction"]),f=d.prefixCls,c=d.direction,p;s&&(p=s(r.map(function(x){return x.column}),u));var m=Ge(r.map(function(x){return x.column}));return t.exports.createElement(a,p,r.map(function(x,k){var R=x.column,w=ft(x.colStart,x.colEnd,o,n,c),M;return R&&R.onHeaderCell&&(M=x.column.onHeaderCell(R)),t.exports.createElement(ze,ee({},x,{scope:R.title?x.colSpan>1?"colgroup":"col":null,ellipsis:R.ellipsis,align:R.align,component:R.title?l:i,prefixCls:f,key:m[k]},w,{additionalProps:M,rowType:"header"}))}))}dn.displayName="HeaderRow";function mr(e){var r=[];function n(i,s){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;r[u]=r[u]||[];var d=s,f=i.filter(Boolean).map(function(c){var p={key:c.key,className:c.className||"",children:c.title,column:c,colStart:d},m=1,x=c.children;return x&&x.length>0&&(m=n(x,d,u+1).reduce(function(k,R){return k+R},0),p.hasSubColumns=!0),"colSpan"in c&&(m=c.colSpan),"rowSpan"in c&&(p.rowSpan=c.rowSpan),p.colSpan=m,p.colEnd=p.colStart+m-1,r[u].push(p),d+=m,m});return f}n(e,0);for(var o=r.length,a=function(s){r[s].forEach(function(u){!("rowSpan"in u)&&!u.hasSubColumns&&(u.rowSpan=o-s)})},l=0;l<o;l+=1)a(l);return r}function Xt(e){var r=e.stickyOffsets,n=e.columns,o=e.flattenColumns,a=e.onHeaderRow,l=_(ue,["prefixCls","getComponent"]),i=l.prefixCls,s=l.getComponent,u=t.exports.useMemo(function(){return mr(n)},[n]),d=s(["header","wrapper"],"thead"),f=s(["header","row"],"tr"),c=s(["header","cell"],"th"),p=s(["header","cell"],"td");return t.exports.createElement(d,{className:"".concat(i,"-thead")},u.map(function(m,x){var k=t.exports.createElement(dn,{key:x,flattenColumns:o,cells:m,stickyOffsets:r,rowComponent:f,cellComponent:c,tdCellComponent:p,onHeaderRow:a,index:x});return k}))}var vr=["children"],Cr=["fixed"];function fn(e){return An(e).filter(function(r){return t.exports.isValidElement(r)}).map(function(r){var n=r.key,o=r.props,a=o.children,l=Ee(o,vr),i=v({key:n},l);return a&&(i.children=fn(a)),i})}function ct(e){return e.reduce(function(r,n){var o=n.fixed,a=o===!0?"left":o,l=n.children;return l&&l.length>0?[].concat(te(r),te(ct(l).map(function(i){return v({fixed:a},i)}))):[].concat(te(r),[v(v({},n),{},{fixed:a})])},[])}function yr(e){return e.map(function(r){var n=r.fixed,o=Ee(r,Cr),a=n;return n==="left"?a="right":n==="right"&&(a="left"),v({fixed:a},o)})}function hr(e,r){var n=e.prefixCls,o=e.columns,a=e.children,l=e.expandable,i=e.expandedKeys,s=e.columnTitle,u=e.getRowKey,d=e.onTriggerExpand,f=e.expandIcon,c=e.rowExpandable,p=e.expandIconColumnIndex,m=e.direction,x=e.expandRowByClick,k=e.columnWidth,R=e.fixed,w=t.exports.useMemo(function(){return o||fn(a)},[o,a]),M=t.exports.useMemo(function(){if(l){var g,L=w.slice();if(!L.includes(we)){var U=p||0;U>=0&&L.splice(U,0,we)}var K=L.indexOf(we);L=L.filter(function(N,h){return N!==we||h===K});var j=w[K],y;(R==="left"||R)&&!p?y="left":(R==="right"||R)&&p===w.length?y="right":y=j?j.fixed:null;var $=(g={},I(g,sn,{className:"".concat(n,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),I(g,"title",s),I(g,"fixed",y),I(g,"className","".concat(n,"-row-expand-icon-cell")),I(g,"width",k),I(g,"render",function(h,S,A){var T=u(S,A),E=i.has(T),P=c?c(S):!0,B=f({prefixCls:n,expanded:E,expandable:P,record:S,onExpand:d});return x?t.exports.createElement("span",{onClick:function(Y){return Y.stopPropagation()}},B):B}),g);return L.map(function(N){return N===we?$:N})}return w.filter(function(N){return N!==we})},[l,w,u,i,f,m]),H=t.exports.useMemo(function(){var g=M;return r&&(g=r(g)),g.length||(g=[{render:function(){return null}}]),g},[r,M,m]),X=t.exports.useMemo(function(){return m==="rtl"?yr(ct(H)):ct(H)},[H,m]);return[H,X]}function pn(e){var r=t.exports.useRef(e),n=t.exports.useState({}),o=V(n,2),a=o[1],l=t.exports.useRef(null),i=t.exports.useRef([]);function s(u){i.current.push(u);var d=Promise.resolve();l.current=d,d.then(function(){if(l.current===d){var f=i.current,c=r.current;i.current=[],f.forEach(function(p){r.current=p(r.current)}),l.current=null,c!==r.current&&a({})}})}return t.exports.useEffect(function(){return function(){l.current=null}},[]),[r.current,s]}function Sr(e){var r=t.exports.useRef(e||null),n=t.exports.useRef();function o(){window.clearTimeout(n.current)}function a(i){r.current=i,o(),n.current=window.setTimeout(function(){r.current=null,n.current=void 0},100)}function l(){return r.current}return t.exports.useEffect(function(){return o},[]),[a,l]}var jt=Dn()?window:null;function Rr(e,r){var n=je(e)==="object"?e:{},o=n.offsetHeader,a=o===void 0?0:o,l=n.offsetSummary,i=l===void 0?0:l,s=n.offsetScroll,u=s===void 0?0:s,d=n.getContainer,f=d===void 0?function(){return jt}:d,c=f()||jt;return t.exports.useMemo(function(){var p=!!e;return{isSticky:p,stickyClassName:p?"".concat(r,"-sticky-holder"):"",offsetHeader:a,offsetSummary:i,offsetScroll:u,container:c}},[u,a,i,r,c])}function gr(e,r,n){var o=t.exports.useMemo(function(){for(var a=[],l=[],i=0,s=0,u=0;u<r;u+=1)if(n==="rtl"){l[u]=s,s+=e[u]||0;var d=r-u-1;a[d]=i,i+=e[d]||0}else{a[u]=i,i+=e[u]||0;var f=r-u-1;l[f]=s,s+=e[f]||0}return{left:a,right:l}},[e,r,n]);return o}function Yt(e){var r=e.className,n=e.children;return t.exports.createElement("div",{className:r},n)}var wr=function(r,n){var o,a,l=r.scrollBodyRef,i=r.onScroll,s=r.offsetScroll,u=r.container,d=_(ue,"prefixCls"),f=((o=l.current)===null||o===void 0?void 0:o.scrollWidth)||0,c=((a=l.current)===null||a===void 0?void 0:a.clientWidth)||0,p=f&&c*(c/f),m=t.exports.useRef(),x=pn({scrollLeft:0,isHiddenScrollBar:!1}),k=V(x,2),R=k[0],w=k[1],M=t.exports.useRef({delta:0,x:0}),H=t.exports.useState(!1),X=V(H,2),g=X[0],L=X[1],U=function(){L(!1)},K=function(h){h.persist(),M.current.delta=h.pageX-R.scrollLeft,M.current.x=0,L(!0),h.preventDefault()},j=function(h){var S,A=h||((S=window)===null||S===void 0?void 0:S.event),T=A.buttons;if(!g||T===0){g&&L(!1);return}var E=M.current.x+h.pageX-M.current.x-M.current.delta;E<=0&&(E=0),E+p>=c&&(E=c-p),i({scrollLeft:E/c*(f+2)}),M.current.x=h.pageX},y=function(){if(!!l.current){var h=Dt(l.current).top,S=h+l.current.offsetHeight,A=u===window?document.documentElement.scrollTop+window.innerHeight:Dt(u).top+u.clientHeight;S-At()<=A||h>=A-s?w(function(T){return v(v({},T),{},{isHiddenScrollBar:!0})}):w(function(T){return v(v({},T),{},{isHiddenScrollBar:!1})})}},$=function(h){w(function(S){return v(v({},S),{},{scrollLeft:h/f*c||0})})};return t.exports.useImperativeHandle(n,function(){return{setScrollLeft:$}}),t.exports.useEffect(function(){var N=Ue(document.body,"mouseup",U,!1),h=Ue(document.body,"mousemove",j,!1);return y(),function(){N.remove(),h.remove()}},[p,g]),t.exports.useEffect(function(){var N=Ue(u,"scroll",y,!1),h=Ue(window,"resize",y,!1);return function(){N.remove(),h.remove()}},[u]),t.exports.useEffect(function(){R.isHiddenScrollBar||w(function(N){var h=l.current;return h?v(v({},N),{},{scrollLeft:h.scrollLeft/h.scrollWidth*h.clientWidth}):N})},[R.isHiddenScrollBar]),f<=c||!p||R.isHiddenScrollBar?null:t.exports.createElement("div",{style:{height:At(),width:c,bottom:s},className:"".concat(d,"-sticky-scroll")},t.exports.createElement("div",{onMouseDown:K,ref:m,className:ce("".concat(d,"-sticky-scroll-bar"),I({},"".concat(d,"-sticky-scroll-bar-active"),g)),style:{width:"".concat(p,"px"),transform:"translate3d(".concat(R.scrollLeft,"px, 0, 0)")}}))};const Er=t.exports.forwardRef(wr);function Nr(e){return null}function br(e){return null}function kr(e){var r,n=e.prefixCls,o=e.record,a=e.onExpand,l=e.expanded,i=e.expandable,s="".concat(n,"-row-expand-icon");if(!i)return t.exports.createElement("span",{className:ce(s,"".concat(n,"-row-spaced"))});var u=function(f){a(o,f),f.stopPropagation()};return t.exports.createElement("span",{className:ce(s,(r={},I(r,"".concat(n,"-row-expanded"),l),I(r,"".concat(n,"-row-collapsed"),!l),r)),onClick:u})}function Tr(e,r,n){var o=[];function a(l){(l||[]).forEach(function(i,s){o.push(r(i,s)),a(i[n])})}return a(e),o}var Lr=[],Ir={},lt="rc-table-internal-hook",Mr=t.exports.memo(function(e){var r=e.children;return r},function(e,r){return dt(e.props,r.props)?e.pingLeft!==r.pingLeft||e.pingRight!==r.pingRight:!1});function _e(e){var r,n=v({rowKey:"key",prefixCls:"rc-table",emptyText:function(){return"No Data"}},e),o=n.prefixCls,a=n.className,l=n.rowClassName,i=n.style,s=n.data,u=n.rowKey,d=n.scroll,f=n.tableLayout,c=n.direction,p=n.title,m=n.footer,x=n.summary,k=n.caption,R=n.id,w=n.showHeader,M=n.components,H=n.emptyText,X=n.onRow,g=n.onHeaderRow,L=n.internalHooks,U=n.transformColumns,K=n.internalRefs,j=n.sticky,y=s||Lr,$=!!y.length,N=t.exports.useCallback(function(C,b){return en(M||{},C)||b},[M]),h=t.exports.useMemo(function(){return typeof u=="function"?u:function(C){var b=C&&C[u];return b}},[u]),S=sr(n),A=S.expandIcon,T=S.expandedRowKeys,E=S.defaultExpandedRowKeys,P=S.defaultExpandAllRows,B=S.expandedRowRender,J=S.columnTitle,Y=S.onExpand,xe=S.onExpandedRowsChange,de=S.expandRowByClick,he=S.rowExpandable,O=S.expandIconColumnIndex,oe=S.expandedRowClassName,me=S.childrenColumnName,Se=S.indentSize,Re=A||kr,ve=me||"children",Ne=t.exports.useMemo(function(){return B?"row":n.expandable&&L===lt&&n.expandable.__PARENT_RENDER_ICON__||y.some(function(C){return C&&je(C)==="object"&&C[ve]})?"nest":!1},[!!B,y]),ge=t.exports.useState(function(){return E||(P?Tr(y,h,ve):[])}),F=V(ge,2),G=F[0],Q=F[1],D=t.exports.useMemo(function(){return new Set(T||G||[])},[T,G]),ne=t.exports.useCallback(function(C){var b=h(C,y.indexOf(C)),W,Z=D.has(b);Z?(D.delete(b),W=te(D)):W=[].concat(te(D),[b]),Q(W),Y&&Y(!Z,C),xe&&xe(W)},[h,D,y,Y,xe]),ae=t.exports.useState(0),be=V(ae,2),fe=be[0],ke=be[1],Te=hr(v(v(v({},n),S),{},{expandable:!!B,columnTitle:J,expandedKeys:D,getRowKey:h,onTriggerExpand:ne,expandIcon:Re,expandIconColumnIndex:O,direction:c}),L===lt?U:null),le=V(Te,2),q=le[0],z=le[1],He=t.exports.useMemo(function(){return{columns:q,flattenColumns:z}},[q,z]),Oe=t.exports.useRef(),pt=t.exports.useRef(),se=t.exports.useRef(),xt=t.exports.useRef(),mt=t.exports.useRef(),xn=t.exports.useState(!1),vt=V(xn,2),Ct=vt[0],$e=vt[1],mn=t.exports.useState(!1),yt=V(mn,2),ht=yt[0],Fe=yt[1],vn=pn(new Map),St=V(vn,2),Cn=St[0],yn=St[1],hn=Ge(z),Rt=hn.map(function(C){return Cn.get(C)}),gt=t.exports.useMemo(function(){return Rt},[Rt.join("_")]),Le=gr(gt,z.length,c),re=d&&st(d.y),ie=d&&st(d.x)||Boolean(S.fixed),Pe=ie&&z.some(function(C){var b=C.fixed;return b}),wt=t.exports.useRef(),Ie=Rr(j,o),Ce=Ie.isSticky,Sn=Ie.offsetHeader,Rn=Ie.offsetSummary,gn=Ie.offsetScroll,wn=Ie.stickyClassName,En=Ie.container,pe=x==null?void 0:x(y),We=(re||Ce)&&t.exports.isValidElement(pe)&&pe.type===qe&&pe.props.fixed,Je,Ke,Qe;re&&(Ke={overflowY:"scroll",maxHeight:d.y}),ie&&(Je={overflowX:"auto"},re||(Ke={overflowY:"hidden"}),Qe={width:(d==null?void 0:d.x)===!0?"auto":d==null?void 0:d.x,minWidth:"100%"});var Et=t.exports.useCallback(function(C,b){Vn(Oe.current)&&yn(function(W){if(W.get(C)!==b){var Z=new Map(W);return Z.set(C,b),Z}return W})},[]),Nn=Sr(null),Nt=V(Nn,2),bn=Nt[0],bt=Nt[1];function Ae(C,b){!b||(typeof b=="function"?b(C):b.scrollLeft!==C&&(b.scrollLeft=C,b.scrollLeft!==C&&setTimeout(function(){b.scrollLeft=C},0)))}var Me=function(b){var W=b.currentTarget,Z=b.scrollLeft,Fn=c==="rtl",ye=typeof Z=="number"?Z:W.scrollLeft,Wt=W||Ir;if(!bt()||bt()===Wt){var rt;bn(Wt),Ae(ye,pt.current),Ae(ye,se.current),Ae(ye,mt.current),Ae(ye,(rt=wt.current)===null||rt===void 0?void 0:rt.setScrollLeft)}if(W){var ot=W.scrollWidth,at=W.clientWidth;if(ot===at){$e(!1),Fe(!1);return}Fn?($e(-ye<ot-at),Fe(-ye>0)):($e(ye>0),Fe(ye<ot-at))}},kt=function(){ie&&se.current?Me({currentTarget:se.current}):($e(!1),Fe(!1))},kn=function(b){var W=b.width;W!==fe&&(kt(),ke(Oe.current?Oe.current.offsetWidth:W))},Tt=t.exports.useRef(!1);t.exports.useEffect(function(){Tt.current&&kt()},[ie,s,q.length]),t.exports.useEffect(function(){Tt.current=!0},[]);var Tn=t.exports.useState(0),Lt=V(Tn,2),De=Lt[0],It=Lt[1],Ln=t.exports.useState(!0),Mt=V(Ln,2),In=Mt[0],Mn=Mt[1];t.exports.useEffect(function(){se.current instanceof Element?It(Vt(se.current).width):It(Vt(xt.current).width),Mn(Un("position","sticky"))},[]),t.exports.useEffect(function(){L===lt&&K&&(K.body.current=se.current)});var Ht=N(["table"],"table"),Ve=t.exports.useMemo(function(){return f||(Pe?(d==null?void 0:d.x)==="max-content"?"auto":"fixed":re||Ce||z.some(function(C){var b=C.ellipsis;return b})?"fixed":"auto")},[re,Pe,z,f,Ce]),Ze,et={colWidths:gt,columCount:z.length,stickyOffsets:Le,onHeaderRow:g,fixHeader:re,scroll:d},Hn=t.exports.useMemo(function(){return $?null:typeof H=="function"?H():H},[$,H]),Pt=t.exports.createElement(ln,{data:y,measureColumnWidth:re||ie||Ce,expandedKeys:D,rowExpandable:he,getRowKey:h,onRow:X,emptyNode:Hn,childrenColumnName:ve}),Bt=t.exports.createElement(cn,{colWidths:z.map(function(C){var b=C.width;return b}),columns:z}),zt=k!=null?t.exports.createElement("caption",{className:"".concat(o,"-caption")},k):void 0,Ot=N(["body"]),Pn=Ut(n,{data:!0}),$t=Ut(n,{aria:!0});if(re||Ce){var tt;typeof Ot=="function"?(tt=Ot(y,{scrollbarSize:De,ref:se,onScroll:Me}),et.colWidths=z.map(function(C,b){var W=C.width,Z=b===q.length-1?W-De:W;return typeof Z=="number"&&!Number.isNaN(Z)?Z:(Xn(!1,"When use `components.body` with render props. Each column should have a fixed `width` value."),0)})):tt=t.exports.createElement("div",{style:v(v({},Je),Ke),onScroll:Me,ref:se,className:ce("".concat(o,"-body"))},t.exports.createElement(Ht,ee({style:v(v({},Qe),{},{tableLayout:Ve})},$t),zt,Bt,Pt,!We&&pe&&t.exports.createElement(Xe,{stickyOffsets:Le,flattenColumns:z},pe)));var Ft=v(v(v({noData:!y.length,maxContentScroll:ie&&d.x==="max-content"},et),He),{},{direction:c,stickyClassName:wn,onScroll:Me});Ze=t.exports.createElement(t.exports.Fragment,null,w!==!1&&t.exports.createElement(it,ee({},Ft,{stickyTopOffset:Sn,className:"".concat(o,"-header"),ref:pt}),function(C){return t.exports.createElement(t.exports.Fragment,null,t.exports.createElement(Xt,C),We==="top"&&t.exports.createElement(Xe,C,pe))}),tt,We&&We!=="top"&&t.exports.createElement(it,ee({},Ft,{stickyBottomOffset:Rn,className:"".concat(o,"-summary"),ref:mt}),function(C){return t.exports.createElement(Xe,C,pe)}),Ce&&t.exports.createElement(Er,{ref:wt,offsetScroll:gn,scrollBodyRef:se,onScroll:Me,container:En}))}else Ze=t.exports.createElement("div",{style:v(v({},Je),Ke),className:ce("".concat(o,"-content")),onScroll:Me,ref:se},t.exports.createElement(Ht,ee({style:v(v({},Qe),{},{tableLayout:Ve})},$t),zt,Bt,w!==!1&&t.exports.createElement(Xt,ee({},et,He)),Pt,pe&&t.exports.createElement(Xe,{stickyOffsets:Le,flattenColumns:z},pe)));var nt=t.exports.createElement("div",ee({className:ce(o,a,(r={},I(r,"".concat(o,"-rtl"),c==="rtl"),I(r,"".concat(o,"-ping-left"),Ct),I(r,"".concat(o,"-ping-right"),ht),I(r,"".concat(o,"-layout-fixed"),f==="fixed"),I(r,"".concat(o,"-fixed-header"),re),I(r,"".concat(o,"-fixed-column"),Pe),I(r,"".concat(o,"-scroll-horizontal"),ie),I(r,"".concat(o,"-has-fix-left"),z[0]&&z[0].fixed),I(r,"".concat(o,"-has-fix-right"),z[z.length-1]&&z[z.length-1].fixed==="right"),r)),style:i,id:R,ref:Oe},Pn),t.exports.createElement(Mr,{pingLeft:Ct,pingRight:ht,props:v(v({},n),{},{stickyOffsets:Le,mergedExpandedKeys:D})},p&&t.exports.createElement(Yt,{className:"".concat(o,"-title")},p(y)),t.exports.createElement("div",{ref:xt,className:"".concat(o,"-container")},Ze),m&&t.exports.createElement(Yt,{className:"".concat(o,"-footer")},m(y))));ie&&(nt=t.exports.createElement(ut,{onResize:kn},nt));var Bn=t.exports.useMemo(function(){return{prefixCls:o,getComponent:N,scrollbarSize:De,direction:c,fixedInfoList:z.map(function(C,b){return ft(b,b,z,Le,c)}),isSticky:Ce}},[o,N,De,c,z,Le,Ce]),zn=t.exports.useMemo(function(){return v(v({},He),{},{tableLayout:Ve,rowClassName:l,expandedRowClassName:oe,expandIcon:Re,expandableType:Ne,expandRowByClick:de,expandedRowRender:B,onTriggerExpand:ne,expandIconColumnIndex:O,indentSize:Se,allColumnsFixedLeft:He.flattenColumns.every(function(C){return C.fixed==="left"})})},[He,Ve,l,oe,Re,Ne,de,B,ne,O,Se]),On=t.exports.useMemo(function(){return{componentWidth:fe,fixHeader:re,fixColumn:Pe,horizonScroll:ie}},[fe,re,Pe,ie]),$n=t.exports.useMemo(function(){return{onColumnResize:Et}},[Et]);return t.exports.createElement(tn.Provider,{value:In},t.exports.createElement(ue.Provider,{value:Bn},t.exports.createElement(Ye.Provider,{value:zn},t.exports.createElement(rn.Provider,{value:On},t.exports.createElement(Jt.Provider,{value:$n},nt)))))}_e.EXPAND_COLUMN=we;_e.Column=Nr;_e.ColumnGroup=br;_e.Summary=xr;export{xr as F,sn as I,_e as T,lt as a,fn as c};
