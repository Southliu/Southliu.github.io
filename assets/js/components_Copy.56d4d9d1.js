import{r as p,j as u}from"./react.e58b2294.js";import{I as f,m as a,B as d}from"./antd.2930504f.js";import{I as C}from"./@iconify_react.fa3c46fd.js";function l(){const o=p.useRef(null),r=p.useCallback(n=>new Promise((s,c)=>{var y;try{let t=n;if(t||(t=(y=o.current)==null?void 0:y.value),!t){c("复制的内容不能为空");return}if(typeof t!="string"&&typeof t!="number"){c("复制的内容必须是字符串或数字");return}navigator.clipboard.writeText(t.toString()).then(()=>{s(t)}).catch(i=>{c(i)})}catch(t){c(t)}}),[]),e=p.useCallback(()=>navigator.clipboard.readText(),[]);return[o,r,e]}const{Search:m}=f;function h(o){const[,r]=l(),e=n=>{if(!n)return a.warning({content:"请输入复制内容",key:"copy"});try{r(n),a.success({content:"复制成功",key:"copy"})}catch{a.warning({content:"复制失败",key:"copy"})}};return u.jsx(m,{...o,placeholder:"请输入",enterButton:"复制",onSearch:e})}function k(o){const{text:r,value:e}=o,[,n]=l(),s=()=>{try{n(e),a.success({content:"复制成功",key:"copy"})}catch{a.warning({content:"复制失败",key:"copy"})}};return u.jsx(d,{...o,icon:u.jsx(C,{icon:"ant-design:copy-outlined"}),onClick:s,children:r})}export{h as C,k as a};
