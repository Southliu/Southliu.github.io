import{c as an}from"./react-dom@18.2.0_react@18.2.0-9dcc96ec.js";import{H as rn}from"./react-router-dom@6.4.3_biqbaboplfbrettd7655fr4n2y-3bf50407.js";import{r as l,R as j}from"./react@18.2.0-52f219d3.js";import{n as nt}from"./nprogress@0.2.0-701519fb.js";import{I as $}from"./@iconify_react@3.2.2_react@18.2.0-56e0de16.js";import{j as s,b,F as O}from"./@ant-design_cssinjs@1.0.2_biqbaboplfbrettd7655fr4n2y-bf6e9dad.js";import{c as ve,a as ln}from"./@reduxjs_toolkit@1.9.0_k4ae6lp43ej6mezo3ztvx6pykq-51f91baa.js";import{u as G,a as B,P as cn}from"./react-redux@8.0.5_cn3ejhfta5lq2dae4xucvtkwvu-c17f531b.js";import{u as q,a as xe,O as un,b as dn}from"./react-router@6.4.3_react@18.2.0-257aa3a6.js";import"./hoist-non-react-statics@3.3.2-45eb0518.js";import"./react-is@18.2.0-8137d776.js";import{B as Y,m as H,S as ft,T as gt,a as xt,D as yt,b as bt,I as ee,c as mn,A as pn,C as Ct,R as hn,d as fn,e as gn,f as xn,U as yn,F as K,g as bn,h as Cn,M as Be,i as Ft,j as Fn,P as wn,k as ae,l as kn,n as wt,o as We,p as Sn,q as En,z as Dn,t as vn}from"./antd@5.0.1_biqbaboplfbrettd7655fr4n2y-c6b43328.js";import{a as kt}from"./axios@0.27.2-039bacb1.js";import{a as St,U as Bn}from"./crypto-js@4.1.1-399bf918.js";import{d as z}from"./dayjs@1.11.6-31c60f6b.js";import{u as Ye,a as Nn}from"./ahooks@3.7.2_react@18.2.0-4b91372f.js";import"./@wangeditor_editor@5.1.23-ae9fde5d.js";import{c as An,u as Pn}from"./@wangeditor_editor-for-react@1.0.6_g2n2jaet4p6hcjvgwca4efbhfm-6daa0789.js";import{S as $n,P as Tn,B as In,G as Rn,J as Et,K as _n,N as Ln,O as Mn,T as On,V as zn,c as Kn,W as Hn,X as st}from"./@ant-design_icons@4.8.0_biqbaboplfbrettd7655fr4n2y-57973138.js";import{K as jn,r as ye}from"./react-activation@0.12.2_react@18.2.0-a63fa06c.js";import{u as Un,i as Vn,a as Gn,b as Wn,c as Yn,d as qn,e as Jn,f as Xn,g as Zn,h as Qn,j as es,k as ts,l as ns,m as ss,n as os,o as as,p as rs,q as is,r as ls,s as cs,t as us,v as ds,w as Ce}from"./echarts@5.4.0-89366f14.js";import{R as ms}from"./react-resizable@3.0.4_biqbaboplfbrettd7655fr4n2y-3dce84ba.js";import{F as ps}from"./react-window@1.8.8_biqbaboplfbrettd7655fr4n2y-202670a4.js";import{A as hs}from"./react-virtualized-auto-sizer@1.0.7_biqbaboplfbrettd7655fr4n2y-005ef42c.js";import{c as fs}from"./react-draggable@4.4.5_biqbaboplfbrettd7655fr4n2y-47e90e7f.js";import"./@babel_runtime@7.20.1-5f192e20.js";import"./scheduler@0.23.0-65b5f0cc.js";import"./@remix-run_router@1.0.3-a37d51dc.js";import"./rc-util@5.24.6_biqbaboplfbrettd7655fr4n2y-e98ccc02.js";import"./react-is@16.13.1-140c6955.js";import"./@emotion_hash@0.8.0-b8f6374b.js";import"./@emotion_unitless@0.7.5-1bd516b4.js";import"./stylis@4.1.3-2a3770a4.js";import"./immer@9.0.16-794b725b.js";import"./redux@4.2.0-97063c68.js";import"./redux-thunk@2.4.2_redux@4.2.0-b59b9d2c.js";import"./use-sync-external-store@1.2.0_react@18.2.0-1deef343.js";import"./classnames@2.3.2-d75d9a59.js";import"./rc-resize-observer@1.2.0_biqbaboplfbrettd7655fr4n2y-50de0980.js";import"./resize-observer-polyfill@1.5.1-1e2b0dc8.js";import"./rc-motion@2.6.2_biqbaboplfbrettd7655fr4n2y-948a0f38.js";import"./rc-trigger@5.3.4_biqbaboplfbrettd7655fr4n2y-a29aed73.js";import"./rc-align@4.0.12_biqbaboplfbrettd7655fr4n2y-b28fcdcb.js";import"./dom-align@1.12.4-7970bd81.js";import"./lodash@4.17.21-29628d20.js";import"./rc-picker@3.1.2_hk4it2saoa6yurflmehlixyvbq-a020a2c2.js";import"./shallowequal@1.1.0-be60d069.js";import"./rc-tabs@12.3.0_biqbaboplfbrettd7655fr4n2y-27fa2ccf.js";import"./rc-menu@9.7.2_biqbaboplfbrettd7655fr4n2y-161d358d.js";import"./rc-overflow@1.2.8_biqbaboplfbrettd7655fr4n2y-4406ad70.js";import"./rc-dropdown@4.0.1_biqbaboplfbrettd7655fr4n2y-35c9ec5b.js";import"./rc-select@14.1.14_biqbaboplfbrettd7655fr4n2y-20f909ab.js";import"./rc-virtual-list@3.4.11_biqbaboplfbrettd7655fr4n2y-a1f30739.js";import"./rc-tree@5.7.1_biqbaboplfbrettd7655fr4n2y-1d20759e.js";import"./rc-field-form@1.27.3_biqbaboplfbrettd7655fr4n2y-39928db0.js";import"./async-validator@4.2.5-f1555ba6.js";import"./scroll-into-view-if-needed@2.2.29-43a47374.js";import"./compute-scroll-into-view@1.0.17-4f947f73.js";import"./rc-dialog@9.0.2_biqbaboplfbrettd7655fr4n2y-ad489e37.js";import"./@rc-component_portal@1.0.3_biqbaboplfbrettd7655fr4n2y-3f88a938.js";import"./rc-input-number@7.3.11_biqbaboplfbrettd7655fr4n2y-c68b2ea2.js";import"./rc-notification@5.0.0-alpha.9_biqbaboplfbrettd7655fr4n2y-9a684d4e.js";import"./rc-rate@2.9.2_biqbaboplfbrettd7655fr4n2y-48c5199e.js";import"./rc-slider@10.0.1_biqbaboplfbrettd7655fr4n2y-0c4bc5c3.js";import"./@ctrl_tinycolor@3.4.1-87b86e7f.js";import"./rc-switch@4.0.0_biqbaboplfbrettd7655fr4n2y-71c9e2af.js";import"./rc-table@7.26.0_biqbaboplfbrettd7655fr4n2y-93310289.js";import"./rc-pagination@3.2.0_biqbaboplfbrettd7655fr4n2y-c5389fb6.js";import"./rc-checkbox@2.3.2_biqbaboplfbrettd7655fr4n2y-fdea3e62.js";import"./rc-input@0.1.4_biqbaboplfbrettd7655fr4n2y-39eb39e5.js";import"./rc-textarea@0.4.7_biqbaboplfbrettd7655fr4n2y-7d844e1f.js";import"./@ant-design_colors@6.0.0-41e78357.js";import"./rc-tree-select@5.5.5_biqbaboplfbrettd7655fr4n2y-dc3c114b.js";import"./rc-upload@4.3.4_biqbaboplfbrettd7655fr4n2y-b24eacf9.js";import"./rc-progress@3.4.1_biqbaboplfbrettd7655fr4n2y-235208f9.js";import"./rc-tooltip@5.2.2_biqbaboplfbrettd7655fr4n2y-56b5d047.js";import"./@ant-design_icons-svg@4.2.1-c289f888.js";import"./szfe-tools@0.0.0-beta.7-ae4d7de5.js";import"./create-react-context@0.3.0_react@18.2.0-9e303391.js";import"./prop-types@15.8.1-20765e74.js";import"./gud@1.0.0-6c1a0023.js";import"./warning@4.0.3-84a434bd.js";import"./react-node-key@0.4.0_react@18.2.0-98ddd705.js";import"./zrender@5.4.0-eaf71f4d.js";import"./tslib@2.3.0-6fdb4d67.js";import"./memoize-one@5.2.1-b0f16465.js";import"./clsx@1.2.1-6d4a173a.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();function gs(e){const t=[];for(let n=0;n<e.length;n++)e[n].path!=="login"&&t.push(e[n]);return t}const xs=[{label:"\u7CFB\u7EDF\u7BA1\u7406",key:"system",icon:s($,{icon:"ion:settings-outline"}),children:[{label:"\u7528\u6237\u7BA1\u7406",key:"/system/user",rule:"/authority/user"},{label:"\u83DC\u5355\u7BA1\u7406",key:"/system/menu",rule:"/authority/menu"}]}],ys=[{label:"\u7EC4\u4EF6",key:"demo",icon:s($,{icon:"fluent:box-20-regular"}),children:[{label:"\u526A\u5207\u677F",key:"/demo/copy",rule:"/demo/copy"},{label:"\u6C34\u5370",key:"/demo/watermark",rule:"/demo/watermark"},{label:"\u865A\u62DF\u6EDA\u52A8",key:"/demo/virtualScroll",rule:"/demo/virtualScroll"},{label:"\u5BCC\u6587\u672C",key:"/demo/editor",rule:"/demo/editor"},{label:"\u5C42\u7EA71",key:"/demo/level1",children:[{label:"\u5C42\u7EA72",key:"/demo/level1/level2",children:[{label:"\u5C42\u7EA73",key:"/demo/level1/level2/level3",rule:"/demo/watermark"}]}]}]}],bs=[{label:"\u5185\u5BB9\u7BA1\u7406",key:"content",icon:s($,{icon:"majesticons:article-search-line"}),children:[{label:"\u6587\u7AE0\u7BA1\u7406",key:"/content/article",rule:"/content/article"}]}],W=[{label:"\u4EEA\u8868\u76D8",key:"dashboard",icon:s($,{icon:"la:tachometer-alt"}),children:[{label:"\u6570\u636E\u603B\u89C8",key:"/dashboard",rule:"/dashboard"}]},...ys,...xs,...bs];function Ne(e){const t=ie(e),n=[];if(t.length>0&&n.push(t[0]),t.length>2){let o="/"+t[0];for(let a=1;a<t.length-1;a++)o+="/"+t[a],n.push(o)}return n}function Cs(e,t){const n=[],o=ie(e);let a=0;const i=o.length;for(let r=0;r<t.length;r++){const{path:u}=t[r];if((u==null?void 0:u[a])===o[a]&&(n.push(t[r].label),a<i-1&&a++),a===i)return n}return n}function ie(e){if(!e||typeof e!="string")return[];const t=(e==null?void 0:e.split("/"))||[];return(t==null?void 0:t[0])===""&&t.shift(),t}function Dt(e){var r,u;const{menus:t,permissions:n,value:o}=e;let{currentPath:a,result:i}=e;if(!(t!=null&&t.length)||!o)return[];a||(a=[]),i||(i=[]);for(let c=0;c<t.length;c++)if(ce(t[c])){a.push({label:t[c].label,path:ie(t[c].key)});const m={menus:t[c].children,permissions:n,value:o,currentPath:a,result:i},d=Dt(m);d.length?i.concat(d):a.pop()}else if(((u=(r=t[c])==null?void 0:r.label)==null?void 0:u.includes(o))&&Ae(t[c],n)){a.push({label:t[c].label,path:ie(t[c].key)});const m=Cs(t[c].key,a),{label:d,key:p}=t[c];i.push({label:d,key:p,nav:m})}return i}function te(e){var r;const{menus:t,permissions:n,key:o}=e;let{fatherNav:a,result:i}=e;if(!(t!=null&&t.length))return i;a||(a=[]),i!=null&&i.key||(i={key:"",label:"",nav:[]});for(let u=0;u<t.length;u++){if(!o||i.key)return i;if(ce(t[u])){a.push(t[u].label);const c={menus:t[u].children,permissions:n,key:o,fatherNav:a,result:i},m=te(c);m!=null&&m.key?i=m:a.pop()}else if(((r=t[u])==null?void 0:r.key)===o&&Ae(t[u],n)){a.push(t[u].label);const{label:c,key:m}=t[u];m&&(i={label:c,key:m,nav:a})}}return i}function vt(e,t){const n=[];for(let o=0;o<e.length;o++){if(ce(e[o])){const a=vt(e[o].children,t);e[o].children=a!=null&&a.length?a:void 0}(Ae(e[o],t)||ce(e[o]))&&n.push(e[o])}return n}function le(e,t,n=""){if(n)return n;for(let o=0;o<e.length;o++){if(ce(e[o])&&!n){const a=le(e[o].children,t,n);if(a)return n=a,n}Ae(e[o],t)&&!ce(e[o])&&(n=e[o].key)}return n}function Ae(e,t){return t==null?void 0:t.includes((e==null?void 0:e.rule)||"")}function ce(e){var t;return Boolean((t=e.children)==null?void 0:t.length)}const Bt=ve({name:"tabs",initialState:{isLock:!1,isMaximize:!1,activeKey:"",nav:[],tabs:[]},reducers:{toggleLock:(e,t)=>{e.isLock=!!t.payload},toggleMaximize:(e,t)=>{e.isMaximize=!!t.payload},setActiveKey:(e,t)=>{e.activeKey=t.payload},setNav:(e,t)=>{e.nav=t.payload},addTabs:(e,t)=>{const{tabs:n}=e,{payload:o}=t;n.find(i=>i.key===o.key)||n.push(o),n!=null&&n.length&&(n[0].closable=(n==null?void 0:n.length)>1)},closeTabs:(e,t)=>{var i;const{tabs:n}=e,{payload:o}=t,a=n.findIndex(r=>r.key===o);if(a>=0&&n.splice(a,1),o===e.activeKey){let r="";a===0?r=((i=n==null?void 0:n[a])==null?void 0:i.key)||"":r=n[a-1].key,e.activeKey=r,e.isLock=!0}n!=null&&n.length&&(n[0].closable=(n==null?void 0:n.length)>1)},closeTabGoNext:(e,t)=>{const{tabs:n}=e,{payload:o}=t,{key:a,nextPath:i}=o,r=n.findIndex(u=>u.key===a);r>=0&&n.splice(r,1),a===e.activeKey&&(e.activeKey=i,e.isLock=!0),n!=null&&n.length&&(n[0].closable=(n==null?void 0:n.length)>1)},closeLeft:(e,t)=>{const{tabs:n}=e,{payload:o}=t,a=n.findIndex(i=>i.key===o);a>=0&&n.splice(0,a),e.activeKey=n[0].key,n!=null&&n.length&&(n[0].closable=(n==null?void 0:n.length)>1)},closeRight:(e,t)=>{const{tabs:n}=e,{payload:o}=t,a=n.findIndex(i=>i.key===o);a>=0&&n.splice(a+1,n.length-a-1),e.activeKey=n[n.length-1].key,n!=null&&n.length&&(n[0].closable=(n==null?void 0:n.length)>1)},closeOther:(e,t)=>{const{tabs:n}=e,{payload:o}=t,a=n.find(i=>i.key===o);a&&(e.tabs=[a],e.activeKey=a.key,e.isLock=!0),n[0].closable=!1},closeAllTab:e=>{e.tabs=[]}}}),{toggleLock:Fs,toggleMaximize:ws,setActiveKey:ne,setNav:he,addTabs:re,closeTabs:Nt,closeTabGoNext:ks,closeLeft:Ss,closeRight:Es,closeOther:Ds,closeAllTab:vs}=Bt.actions,Bs=Bt.reducer,Ns="_animation_1tk4a_1",As="_shake_1tk4a_1",At={animation:Ns,shake:As};function qe(){const e=q(),t=G(),n=B(a=>a.user.permissions),o=()=>{const a=le(W,n);e(a);const r=te({menus:W,permissions:n,key:a});r!=null&&r.key&&(t(ne(r.key)),t(re(r)))};return b("div",{className:"absolute left-50% top-50% -translate-x-1/2 -translate-y-1/2 text-center",children:[s("h1",{className:`${At.animation} w-full text-6rem font-bold`,children:"403"}),s("p",{className:"w-full text-20px font-bold mt-15px text-dark-700",children:"\u5F88\u62B1\u6B49\uFF0C\u60A8\u7684\u8BBF\u95EE\u8BF7\u6C42\u88AB\u7981\u6B62!"}),s(Y,{className:"mt-25px margin-auto",onClick:o,children:"\u8FD4\u56DE\u9996\u9875"})]})}const Ps="/assets/png/welcome-49086098.png";function $s(){return s("div",{className:"flex justify-center",children:s("img",{src:Ps,alt:"Image",className:"w-980px h-full container"})})}function Ts(){const e=q(),t=G(),n=B(a=>a.user.permissions),o=()=>{const a=le(W,n);e(a);const r=te({menus:W,permissions:n,key:a});r!=null&&r.key&&(t(ne(r.key)),t(re(r)))};return b("div",{className:"absolute left-50% top-50% -translate-x-1/2 -translate-y-1/2 text-center",children:[s("h1",{className:`${At.animation} w-full text-6rem font-bold`,children:"404"}),s("p",{className:"w-full text-20px font-bold mt-15px text-dark-700",children:"\u5F53\u524D\u9875\u9762\u65E0\u6CD5\u8BBF\u95EE\uFF0C\u53EF\u80FD\u6CA1\u6743\u9650\u6216\u5DF2\u5220\u9664"}),s(Y,{className:"mt-25px margin-auto",onClick:o,children:"\u8FD4\u56DE\u9996\u9875"})]})}const ot="\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF",Oe="admin_token",Pt="__Vite_Admin_Secret__",me="theme_key",fe="\u8BF7\u8F93\u5165",Z="\u8BF7\u9009\u62E9",$t="responsive",se=[{required:!0,message:fe}],Ke=[{required:!0,message:Z}],Is="https://www.fastmock.site/mock/bdd0efa89c5ddba1b003043010702b77/v1",at=`${Is}/authority/file/upload-file`,De="\u65B0\u589E",Tt=e=>`\u7F16\u8F91${e?`(${e})`:""}`,Rs={pattern:/^(?=.*\d)(?=.*[a-zA-Z])[\da-zA-Z~!@#$%^&*+\.\_\-*]{6,30}$/,message:"\u5BC6\u7801\u4E3A6-30\u4F4D\u5FC5\u987B\u5305\u542B\u5B57\u6BCD\u548C\u6570\u5B57!"};function _s(e,t=Pt){const n=JSON.stringify(e);return St.exports.encrypt(n,t).toString()}function Ls(e,t=Pt){const o=St.exports.decrypt(e,t).toString(Bn);return o?JSON.parse(o):null}const Ms=60*60*24*2;function Os(e,t,n=Ms){const o=n!==null?new Date().getTime()+n*1e3:null,i=_s({value:t,expire:o});localStorage.setItem(e,i)}function zs(e){const t=localStorage.getItem(e);if(t){let n=null;try{n=Ls(t)}catch{H.error({content:"\u6570\u636E\u89E3\u5BC6\u5931\u8D25",key:"decryption"})}if(n){const{value:o,expire:a}=n;if(a===null||a>=Date.now())return o}return It(e),null}return null}function It(e){localStorage.removeItem(e)}function Pe(){return[()=>zs(Oe)||"",o=>{Os(Oe,o)},()=>{It(Oe)}]}const Ks="https://www.fastmock.site/mock/bdd0efa89c5ddba1b003043010702b77/v1",pe=[],Hs=kt.CancelToken,js=Hs.source(),R=kt.create({baseURL:Ks,timeout:180*1e3}),de=(e,t)=>{console.error("\u9519\u8BEF\u4FE1\u606F:",e),H.error({content:t||e||"\u670D\u52A1\u5668\u9519\u8BEF",key:"error"})};R.interceptors.request.use(e=>{const[t]=Pe(),n=t()||"";(e==null?void 0:e.headers)&&n&&(e.headers.Authorization=`Bearer ${n}`);const o=JSON.stringify(e.url)+JSON.stringify(e.data)+"&"+e.method;return pe.includes(o)?js.cancel():pe.push(o),e},e=>(de(e,"\u670D\u52A1\u5668\u9519\u8BEF"),Promise.reject(e)));R.interceptors.response.use(e=>{const t=e.data,n=JSON.stringify(e.config.url)+JSON.stringify(e.config.data)+"&"+e.config.method,o=pe.findIndex(a=>a===n);return pe.splice(o,1),(t==null?void 0:t.code)===0?(de(t==null?void 0:t.message,"\u6743\u9650\u4E0D\u8DB3\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55"),Promise.reject(e)):(t==null?void 0:t.code)===601||(t==null?void 0:t.code)!==200?(de(t==null?void 0:t.message),Promise.reject(e)):Promise.resolve(e)},e=>(pe.length=0,de(e,"\u670D\u52A1\u5668\u9519\u8BEF"),Promise.reject(e)));function Us(e){return R.get("/dashboard",{params:e})}const Vs=[{label:"\u65E5\u671F",name:"pay_date",component:"RangePicker",componentProps:{allowClear:!1}},{label:"\u6E38\u620FID",name:"game_ids",wrapperCol:200,component:"GameSelect"},{label:"\u5408\u4F5C\u516C\u53F8",name:"partners",wrapperCol:200,component:"PartnerSelect"},{label:"\u5168\u670D\u5145\u503C",name:"all_pay",wrapperCol:15,component:"Checkbox"}];function J(e){const t=ot+e?`${e} - ${ot}`:"";l.exports.useEffect(()=>{document.title=t},[t])}const oe="YYYY-MM-DD",ze="YYYY-MM-DD hh:mm:ss",Gs=[{label:"\u5F00\u542F",value:1},{label:"\u5173\u95ED",value:0}],Rt=[{label:"\u663E\u793A",value:1},{label:"\u9690\u85CF",value:0}],_t=[{value:"authority",label:"\u6743\u9650\u7CFB\u7EDF"},{value:"platform",label:"\u8FD0\u8425\u7CFB\u7EDF"},{value:"stat",label:"\u7EDF\u8BA1\u7CFB\u7EDF"},{value:"ad",label:"\u6295\u653E\u7CFB\u7EDF"},{value:"cs",label:"\u5BA2\u670D\u7CFB\u7EDF"},{value:"log",label:"\u65E5\u5FD7\u7CFB\u7EDF"}],Ws=[{value:"create",label:"\u521B\u5EFA"},{value:"update",label:"\u66F4\u65B0"},{value:"delete",label:"\u5220\u9664"},{value:"detail",label:"\u8BE6\u60C5"},{value:"export",label:"\u5BFC\u51FA"},{value:"status",label:"\u72B6\u6001"}];function Lt(e){switch(e){case"Switch":case"Checkbox":case"CheckboxGroup":return"checked";case"Upload":return"fileList";default:return"value"}}function Ys(e){switch(e){case"Select":return{allowClear:!0,placeholder:Z};case"InputNumber":return{placeholder:fe};case"Checkbox":return{};case"CheckboxGroup":return{};case"DatePicker":return{placeholder:Z,format:oe};case"RangePicker":return{placeholder:[Z,Z],format:[oe,oe]};case"TimePicker":return{placeholder:Z,format:ze};case"TimeRangePicker":return{placeholder:[Z,Z],format:[ze,ze]};default:return{allowClear:!0,placeholder:fe}}}function qs(e){return`${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,",")}function Js(e,t){var a;if(!e||!t)return"";(e==null?void 0:e[0])==="?"&&(e=e.substring(1,e.length));const n=e.split("&"),o=[];for(let i=0;i<n.length;i++){const r=(a=n[i])==null?void 0:a.split("=");(r==null?void 0:r.length)===2&&o.push([r[0],r[1]])}for(let i=0;i<o.length;i++)if(o[0][0]===t)return o[0][1];return""}function Mt(e,t){if(e.length===0)return[];const n=[];for(let o=0;o<e.length;o++){const a=e[o],i=t(a),r=a.children?Mt(a.children,t):void 0;n.push({...i,children:r})}return n}function Xs(e){return new Promise((t,n)=>{R.get("/authority/common/games",{params:e}).then(o=>{var i;const a=Mt((i=o==null?void 0:o.data)==null?void 0:i.data,r=>{const{id:u,name:c}=r;return{value:u,label:`${u}:${c}`}});t(a)}).catch(()=>n([]))})}function Ot(){return s("div",{className:"absolute left-50% top-50% -translate-x-1/2 -translate-y-1/2 text-center",children:s(ft,{spinning:!0})})}function zt(e){const[t,n]=l.exports.useState(!1),[o,a]=l.exports.useState([]),i={...e};delete i.api,delete i.params;const r=async()=>{var c;try{n(!0);const m=await((c=e.api)==null?void 0:c.call(e,e==null?void 0:e.params));a(m||[])}finally{n(!1)}};return s(gt,{allowClear:!0,maxTagCount:$t,placeholder:Z,...i,loading:t,treeData:o,notFoundContent:t&&s(Ot,{}),onDropdownVisibleChange:c=>{var m;c&&r(),(m=e.onDropdownVisibleChange)==null||m.call(e,c)}})}function Zs(e){return s(O,{children:s(zt,{...e,multiple:!0,api:Xs})})}function Qs(e){return new Promise((t,n)=>{R.get("/platform/partner",{params:e}).then(o=>{var i;const a=[];(i=o==null?void 0:o.data)==null||i.data.forEach(r=>{a.push({label:r.name,value:r.id})}),t(a)}).catch(()=>n([]))})}function Kt(e){const[t,n]=l.exports.useState(!1),[o,a]=l.exports.useState([]),i={...e};delete i.api,delete i.params;const r=async()=>{var c;try{n(!0);const m=await((c=e.api)==null?void 0:c.call(e,e==null?void 0:e.params));a(m||[])}finally{n(!1)}};return s(xt,{allowClear:!0,maxTagCount:$t,placeholder:Z,optionFilterProp:"label",...i,loading:t,options:o,notFoundContent:t&&s(Ot,{}),onDropdownVisibleChange:c=>{var m;c&&r(),(m=e.onDropdownVisibleChange)==null||m.call(e,c)}})}function eo(e){return s(Kt,{...e,api:Qs,mode:"multiple"})}function to(){je("GameSelect",Zs),je("PartnerSelect",eo)}function no(e,t=oe){return z.isDayjs(e)?e.format(t):e}function Ht(e){return z.isDayjs(e)?e:z(e)}function so(e,t=oe){if(!!e)return(e==null?void 0:e.length)>1&&z.isDayjs(e==null?void 0:e[0])&&z.isDayjs(e==null?void 0:e[1])?[e[0].format(t),e[1].format(t)]:e}function jt(e){if(!!e)return(e==null?void 0:e.length)>1&&!z.isDayjs(e==null?void 0:e[0])&&z.isDayjs(e==null?void 0:e[1])?[z(e[0]),e[1]]:(e==null?void 0:e.length)>1&&z.isDayjs(e==null?void 0:e[0])&&!z.isDayjs(e==null?void 0:e[1])?[e[0],z(e[1])]:(e==null?void 0:e.length)>1&&!z.isDayjs(e==null?void 0:e[0])&&!z.isDayjs(e==null?void 0:e[1])?[z(e[0]),z(e[1])]:e}function rt(e,t){var n;for(let o=0;o<e.length;o++)if(e[o].name===t)return((n=e[o].componentProps)==null?void 0:n.format)||oe;return oe}function Ut(e,t){var n;for(const o in e){if(((n=e[o])==null?void 0:n.length)===2&&z.isDayjs(e[o][0])&&z.isDayjs(e[o][1])){const a=rt(t,o);e[o]=so(e[o],a)}if((e==null?void 0:e[o])&&z.isDayjs(e[o])){const a=rt(t,o);e[o]=no(e[o],a)}}return e}function oo(e){const{value:t}=e,n={...e};return t&&(n.value=Ht(t)),s(yt,{...n})}const{RangePicker:ao}=yt;function ro(e){const{value:t}=e,n={...e};return t&&(n.value=jt(t)),s(ao,{...n})}function io(e){const{value:t}=e,n={...e};return t&&(n.value=Ht(t)),s(bt,{...n})}const{RangePicker:lo}=bt;function co(e){const{value:t}=e,n={...e};return t&&(n.value=jt(t)),s(lo,{...n})}const uo=new Array(5).fill(0).map((e,t)=>t+1);function mo(e){const{strength:t}=e;return s("div",{className:"flex items-center",children:uo.map(n=>s("div",{className:`
              w-19%
              h-5px
              mt-5px
              mr-1%
              rounded-10px
              bg-light-900
              ${n<=t&&t>3?"!bg-green-400":""}
              ${n<=t&&t===3?"!bg-yellow-400":""}
              ${n<=t&&t<3?"!bg-red-400":""}
            `},n))})}function He(e){const{value:t}=e,[n,o]=l.exports.useState(0),a=Ye(i=>{if(!i)return;let r=0;/\d/.test(i)&&r++,/[a-z]/.test(i)&&r++,/[A-Z]/.test(i)&&r++,i.length>10&&r++,/[\.\~\@\#\$\^\&\*]/.test(i)&&r++,o(r)},{wait:500});return l.exports.useEffect(()=>{a.run(t)},[a,t]),b(O,{children:[s(ee.Password,{value:t,allowClear:!0,placeholder:fe,autoComplete:"password",...e,onChange:i=>{var r;(r=e.onChange)==null||r.call(e,i),a.run(i.target.value)}}),!!n&&s(mo,{strength:n})]})}function Vt(e){const{value:t,height:n,className:o,onChange:a}=e,[i,r]=l.exports.useState(null),[u,c]=l.exports.useState(t),m={},d={placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9...",MENU_CONF:{uploadImage:{server:at},uploadVideo:{server:at}}};return l.exports.useEffect(()=>{c(t||"")},[t]),l.exports.useEffect(()=>()=>{i!==null&&(i.destroy(),r(null))},[i]),b("div",{className:o,style:{border:"1px solid #ccc",zIndex:100},children:[s(An,{editor:i,defaultConfig:m,mode:"default",style:{borderBottom:"1px solid #ccc"}}),s(Pn,{defaultConfig:d,value:u,onCreated:r,onChange:g=>{c(g.getHtml()),a(g.getHtml())},mode:"default",style:{height:n||300,overflowY:"hidden"}})]})}const _=new Map;_.set("Input",ee);_.set("InputNumber",mn);_.set("InputPassword",ee.Password);_.set("AutoComplete",pn);_.set("Select",xt);_.set("TreeSelect",gt);_.set("Checkbox",Ct);_.set("CheckboxGroup",Ct.Group);_.set("RadioGroup",hn.Group);_.set("Switch",fn);_.set("Rate",gn);_.set("Slider",xn);_.set("Upload",yn);_.set("DatePicker",oo);_.set("RangePicker",ro);_.set("TimePicker",io);_.set("TimeRangePicker",co);_.set("ApiSelect",Kt);_.set("ApiTreeSelect",zt);_.set("PasswordStrength",He);_.set("Editor",Vt);to();function Gt(e){const{component:t,componentProps:n}=e;if(t==="customize"){const{render:a}=e;if(!a)return s(O,{});je("customize",a)}const o=_.get(t);return o?s(o,{...Ys(t),...n}):s(O,{})}function je(e,t){_.set(e,t)}function po(e){const{list:t,data:n,formRef:o,isLoading:a,isSearch:i,isCreate:r,children:u,labelCol:c,wrapperCol:m,handleFinish:d}=e,[p]=K.useForm();l.exports.useImperativeHandle(o,()=>({getFieldValue:x=>p.getFieldValue(x),getFieldsValue:()=>p.getFieldsValue(),handleReset:()=>{p.resetFields()},handleSubmit:()=>{p.submit()}}));const g=()=>{var x;(x=e.onCreate)==null||x.call(e)};return s("div",{id:"searches",className:"py-3",children:b(K,{name:"basic",layout:"inline",form:p,labelCol:c||{span:8},wrapperCol:m||{span:16},initialValues:n,onFinish:x=>{if(d){const k=Ut(x,t);d==null||d(k)}},onFinishFailed:x=>{console.warn("\u641C\u7D22\u9519\u8BEF:",x)},autoComplete:"off",children:[t==null?void 0:t.map(x=>s(K.Item,{label:x.label,name:x.name,className:"!mb-5px",labelCol:{style:{width:x.labelCol}},wrapperCol:{style:{width:x.wrapperCol}},rules:x.rules,valuePropName:Lt(x.component),children:Gt(x)},`${x.name}`)),i!==!1&&s(K.Item,{children:s(Y,{type:"primary",htmlType:"submit",className:"!mb-5px",loading:a,icon:s($n,{}),children:"\u641C\u7D22"})}),r!==!1&&s(K.Item,{children:s(Y,{type:"primary",className:"!mb-5px",icon:s(Tn,{}),onClick:g,children:"\u65B0\u589E"})}),u]})})}const $e=l.exports.memo(po);function be(e){const{isPermission:t,children:n}=e,{pathname:o}=xe();return b("div",{className:"min-w-980px h-full p-10px box-border overflow-auto",children:[t!==!1&&s("div",{id:"content",className:`
            relative
            box-border
            px-5
            pt-5
            pb-2
          `,children:s(jn,{id:o,name:o,children:n})}),t===!1&&s(qe,{})]})}Un([Vn,Gn,Wn,Yn,qn,Jn,Xn,Zn,Qn,es,ts,ns,ss,os,as,rs,is,ls,cs,us,ds]);function Wt(e){let{width:t,height:n}=e;const{className:o,option:a}=e,i=l.exports.useRef(null),[r,u]=l.exports.useState(!1),[c,m]=l.exports.useState(null);t||(t="100%"),n||(n="100%"),l.exports.useEffect(()=>{m(setTimeout(()=>{u(!0)},100))},[]),l.exports.useEffect(()=>()=>{c&&(clearTimeout(c),m(null))},[c]);const d=()=>{var g;i.current&&Ce!==null&&Ce!==void 0&&((g=Ce)==null||g.dispose(i.current))},p=l.exports.useCallback(()=>{r&&(d(),Ce.init(i.current).setOption(a))},[r,a]);return l.exports.useEffect(()=>{a&&r&&p()},[p,r,a]),l.exports.useEffect(()=>(p(),window.addEventListener("resize",()=>p(),!1),()=>{window.removeEventListener("resize",()=>p()),d()}),[p]),s(O,{children:r&&s("div",{ref:i,className:`echarts ${o}`,style:{height:n,width:t}})})}const ho={title:{text:"\u6709\u6548\u5145\u503C\u5360\u6BD4",left:30,top:5},xAxis:{type:"category",boundaryGap:!1,data:["07-11","07-12","07-13","07-14","07-15","07-16","07-17"]},yAxis:{type:"value"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},series:[{name:"\u5145\u503C\u6570",type:"line",areaStyle:{color:"#1890ff",opacity:.2},emphasis:{focus:"series"},data:[120,140,120,190,150,111,160]},{name:"\u7528\u6237\u6570\u6570",type:"line",areaStyle:{color:"#1890ff",opacity:.3},emphasis:{focus:"series"},data:[90,122,90,140,123,280,200]}]};function fo(){return s("div",{className:"w-60% border border-gray-200 rounded-10px",children:s(Wt,{className:"w-full mt-10px",width:"100%",height:"500px",option:ho})})}const go={title:{text:"\u5F53\u65E5\u5145\u503C\u6392\u884C",left:30,top:5},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",data:["\u5B64\u72EC\u7684\u9738\u6C14","\u51CC\u4E91\u9F50\u5929","\u590F\u81F3\u672A\u81F3","\u53F6\u7483\u6EAA","\u826F\u8FB0\u7F8E\u666F\u5948\u4F55\u5929","\u51F9\u51F8\u66FC","\u516D\u6708\u79BB\u522B","\u79BB\u6B4C","\u7EC8\u6781\u6218\u72AF","\u6C34\u6D17\u6674\u7A7A","\u5B89\u57CE\u5982\u6CAB","\u6E23\u6E23\u7070"]},series:[{name:"\u5145\u503C\u6570",type:"bar",data:[96285,102352,111235,112356,123984,138205,142059,152362,162231,164324,178291,192830]}]};function xo(){return s("div",{className:"w-38% border border-gray-200 rounded-10px",children:s(Wt,{className:"w-full mt-10px",width:"100%",height:"500px",option:go})})}function it(e){const{prefix:t,start:n,end:o}=e,[a,i]=l.exports.useState(n),[r,u]=l.exports.useState(null);return l.exports.useEffect(()=>{const c=o-n,m=2*60,d=Math.floor(c/m)||1;u(setInterval(()=>{i(p=>p+d)}))},[o,n]),l.exports.useEffect(()=>{a>=o&&(r&&(clearInterval(r),u(null)),i(o))},[o,a,r]),l.exports.useEffect(()=>()=>{r&&(clearInterval(r),u(null))},[r]),b("span",{children:[t,qs(a)]})}const yo=[{title:"\u7528\u6237\u6570",num:14966,all:16236,icon:"icon-park:peoples"},{title:"\u5145\u503C\u6570",num:4286,all:6142,icon:"icon-park:paper-money"},{title:"\u8BA2\u5355\u6570",num:5649,all:5232,icon:"icon-park:transaction-order"},{title:"\u6E38\u620F\u6570",num:619,all:2132,icon:"icon-park:game-handle"}];function bo(){return s(bn,{gutter:16,children:yo.map(e=>s(Cn,{span:6,children:b("div",{className:`
                border
                border-gray-200
                px-30px
                py-20px
                box-border
                rounded-10px
              `,children:[s("div",{className:"text-20px font-bold",children:e.title}),b("div",{className:"flex items-center justify-between text-35px mb-15px",children:[s(it,{className:"font-bold",start:0,end:e.num}),s($,{icon:e.icon})]}),b("div",{className:"flex align-center justify-between",children:[s("span",{children:"\u603B\u6570\uFF1A"}),s(it,{start:0,end:e.all})]})]})},e.title))})}const lt={pay_date:["2022-10-19","2022-10-29"]};function Co(){J("\u6570\u636E\u5C55\u89C8");const[e,t]=l.exports.useState(!1),n=l.exports.useCallback(async o=>{o.all_pay=o.all_pay?1:void 0;const a={...o};try{t(!0),await Us(a)}finally{t(!1)}},[]);return l.exports.useEffect(()=>{n(lt)},[n]),s(be,{isPermission:!0,children:b(O,{children:[s($e,{list:Vs,data:lt,isLoading:e,isCreate:!1,handleFinish:n}),s("div",{className:"py-10px",children:s(bo,{})}),b("div",{className:"flex justify-between",children:[s(fo,{}),s(xo,{})]})]})})}function Fo(){return J("\u52A0\u8F7D\u4E2D"),s("div",{className:`
      absolute
      left-50%
      top-50%
      -rotate-x-50%
      -rotate-y-50%
    `,children:s($,{className:"text-40px animate-spin",icon:"ri:loader-2-fill"})})}const Yt=ve({name:"public",initialState:{theme:"light",isFullscreen:!1},reducers:{setThemeValue:(e,t)=>{e.theme=t.payload},setFullscreen:(e,t)=>{e.isFullscreen=t.payload}}}),{setThemeValue:Ue,setFullscreen:ct}=Yt.actions,wo=Yt.reducer;function ko(e){return R.post("/login",e)}function So(e){return R.post("/update-password",e)}const qt=ve({name:"user",initialState:{permissions:[],userInfo:{id:0,username:"",email:"",phone:""}},reducers:{setUserInfo:(e,t)=>{e.userInfo=t.payload},setPermissions:(e,t)=>{e.permissions=t.payload},clearInfo:e=>{e.userInfo={id:0,username:"",email:"",phone:""}}}}),{setUserInfo:Jt,setPermissions:Ve,clearInfo:Eo}=qt.actions,Do=qt.reducer,Xt=e=>{const t=[];for(let n=0;n<e.length;n++){const{id:o,operation:a}=e[n];t.push(`/${o}`);for(let i=0;i<a.length;i++)t.push(`/${o}/${a[i]}`)}return t},V=(e,t)=>!t||t.length===0?!1:t.includes(e),Zt="/assets/svg/logo-63a26457.svg";function Qt(){J("\u767B\u5F55");const e=q(),t=G(),[n,o]=Pe(),[a,i]=l.exports.useState(!1),r=B(d=>d.user.permissions),u=localStorage.getItem(me)||"light";return l.exports.useEffect(()=>{u||localStorage.setItem(me,"light"),u==="dark"&&(document.body.className="theme-dark"),t(Ue(u==="dark"?"dark":"light"))},[u]),l.exports.useEffect(()=>{if(n()){const d=le(W,r);e(d)}},[n,e,r]),s(O,{children:s("div",{className:`
        ${u==="dark"?"bg-black text-white":"bg-light-400"}
        w-screen
        h-screen
        relative
      `,children:b("div",{className:`
          w-300px
          h-290px
          p-30px
          rounded-5px
          ${u==="dark"?"bg-black bg-dark-200":"bg-white"}
          box-border
          absolute
          left-1/2
          top-1/2
          -translate-x-1/2
          -translate-y-1/2
        `,children:[b("div",{className:"pb-30px pt-10px flex items-center justify-center",children:[s("img",{className:"mr-2 object-contain",width:"30",height:"30",src:Zt,alt:"LOGO"}),s("span",{className:"text-xl font-bold tracking-2px",children:"\u7CFB\u7EDF\u767B\u5F55"})]}),b(K,{name:"horizontal_login",autoComplete:"on",onFinish:async d=>{try{i(!0);const{data:p}=await ko(d),{data:{token:g,user:h,permissions:F}}=p,x=Xt(F),k=le(W,x);o(g),t(Jt(h)),t(Ve(x)),e(k)}finally{i(!1)}},onFinishFailed:d=>{console.error("\u9519\u8BEF\u4FE1\u606F:",d)},initialValues:{username:"admin",password:"admin123456"},children:[s(K.Item,{name:"username",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}],children:s(ee,{"allow-clear":"true",placeholder:"\u7528\u6237\u540D","data-test":"username",autoComplete:"username",addonBefore:s(In,{className:"change"})})}),s(K.Item,{name:"password",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801"},Rs],children:s(ee.Password,{placeholder:"\u5BC6\u7801",autoComplete:"current-password",addonBefore:s(Rn,{className:"change"})})}),s(K.Item,{children:s(Y,{type:"primary",htmlType:"submit",className:"w-full mt-5px rounded-5px tracking-2px",loading:a,children:"\u767B\u5F55"})})]})]})})})}function vo(e){return b(O,{children:[s(ee,{...e,placeholder:"\u8BF7\u8F93\u5165"}),s("div",{className:"mb-5px text-red",children:"\u6CE8\uFF1A\u6807\u9898\u4E0D\u80FD\u542B\u6709\u654F\u611F\u4FE1\u606F!"})]})}const Bo=[{label:"\u7528\u6237\u540D",name:"username",component:"Input"},{label:"\u6807\u9898",name:"title",component:"Input"}],No=e=>[{title:"ID",dataIndex:"id",width:400,fixed:"left"},{title:"\u7528\u6237\u540D",dataIndex:"username",width:400,fixed:"left"},{title:"\u6807\u9898",dataIndex:"title",width:400},{title:"\u5185\u5BB9",dataIndex:"content",width:400},{title:"\u64CD\u4F5C",dataIndex:"operate",width:200,fixed:"right",render:(t,n)=>e(t,n)}],Ao=[{label:"\u7528\u6237\u540D",name:"username",rules:se,component:"Input"},{label:"\u5D4C\u5957\u6570\u636E",name:["user","name","test"],rules:se,component:"Input"},{label:"\u6807\u9898",name:"title",rules:se,component:"customize",render:vo},{label:"\u5185\u5BB9",name:"content",component:"Editor"}];function Je(e){const{isLoading:t}=e,n={...e};return delete n.isLoading,s(Y,{type:"primary",...n,loading:!!t,children:"\u7F16\u8F91"})}const{confirm:Po}=Be;function Xe(e){const{isLoading:t,handleDelete:n}=e,o={...e};return delete o.isLoading,delete o.handleDelete,s(Y,{danger:!0,type:"primary",...o,loading:!!t,onClick:()=>{Po({title:"\u63D0\u793A",icon:s(Et,{}),content:"\u786E\u5B9A\u8981\u5220\u9664\u5417?",okText:"\u786E\u8BA4",okType:"danger",cancelText:"\u53D6\u6D88",onOk(){n()}})},children:"\u5220\u9664"})}function $o(e){return R.get("/content/article/index",{params:e})}function To(e){return R.get(`/content/article/${e}`)}function Io(e){return R.post("/content/article",e)}function Ro(e,t){return R.put(`/content/article/${e}`,t)}function _o(e){return R.delete(`/content/article/${e}`)}function Lo(){const e=document.getElementById("content"),t=e==null?void 0:e.clientHeight,n=document.getElementById("searches"),o=n==null?void 0:n.clientHeight,a=document.getElementById("pagination"),i=a==null?void 0:a.clientHeight;let r=t||0;return o&&r>0&&(r-=o),i&&r>0&&(r-=i),r>0?r+50:450}function ut(e){const{onResize:t,width:n,...o}=e;return n?s(ms,{width:n,height:0,handle:s("span",{className:"react-resizable-handle",onClick:a=>{a.stopPropagation()}}),onResize:t,draggableOpts:{enableUserSelectHack:!1},children:s("th",{...o})}):s("th",{...o})}function Mo(e,t){switch(t.type){case"changeScroll":let n=t.curScrollTop||0,o=t.scrollHeight||0;const a=t.tableScrollY||0;return o<=0&&(o=0),o!==0&&a===e.tableScrollY&&(o=e.scrollHeight),e.scrollHeight&&n>e.scrollHeight&&(n=e.scrollHeight),{...e,curScrollTop:n,scrollHeight:o,tableScrollY:a};case"reset":return{...e,curScrollTop:0,scrollHeight:0};default:throw new Error("\u8868\u683C\uFF1A\u672A\u77E5\u9519\u8BEF\u7C7B\u578B!")}}function dt(e){return typeof e=="number"&&isFinite(e)}const en=l.exports.createContext({dispatch:void 0,renderLen:1,start:0,offsetStart:0,rowHeight:46,totalLen:0});function Oo(e){const{children:t,...n}=e,{renderLen:o,start:a,offsetStart:i}=l.exports.useContext(en);let r=null;if(t&&t!==null){const u=t==null?void 0:t[1];Array.isArray(u)&&u.length?r=[t==null?void 0:t[0],u.slice(a,a+o).map(c=>Array.isArray(c)?c[0]:c)]:r=t}return s("tbody",{...n,style:{transform:`translateY(-${i}px)`},children:r})}const zo={rowHeight:46,curScrollTop:0,scrollHeight:0,tableScrollY:0};let Ge=0;function Ko(e){var P,N,T,I,v,E;const{style:t,children:n,...o}=e,{width:a,...i}=t,[r,u]=l.exports.useReducer(Mo,zo),c=l.exports.useRef(null),m=l.exports.useRef(null),[d,p]=l.exports.useState((I=(T=(N=(P=n[1])==null?void 0:P.props)==null?void 0:N.data)==null?void 0:T.length)!=null?I:0);l.exports.useEffect(()=>{var f,w,y,L,A,X;dt((y=(w=(f=n[1])==null?void 0:f.props)==null?void 0:w.data)==null?void 0:y.length)&&p((X=(A=(L=n[1])==null?void 0:L.props)==null?void 0:A.data)==null?void 0:X.length)},[n]);const g=l.exports.useMemo(()=>{let f="auto";return r.rowHeight&&d&&(f=r.rowHeight*d+10),f},[r.rowHeight,d]);let h=0;typeof Ge=="string"?h=(E=(v=c.current)==null?void 0:v.parentNode)==null?void 0:E.offsetHeight:h=Ge,dt(g)&&g<h&&(h=g),h<=0&&(h=0);const F=l.exports.useMemo(()=>{let f=1;if(r.rowHeight&&d&&h)if(h<=0)f=0;else{const w=(h/r.rowHeight|0)+3;f=w>d?d:w}return f},[r.rowHeight,d,h]);let x=r.rowHeight?r.curScrollTop/r.rowHeight|0:0,k=r.rowHeight?r.curScrollTop%r.rowHeight:0;r.curScrollTop&&r.rowHeight&&r.curScrollTop>r.rowHeight?x>d-F?k=0:x>1&&(x=x-1,k+=r.rowHeight):x=0,l.exports.useEffect(()=>{var w;const f=(w=c.current)==null?void 0:w.parentNode;f&&(f.scrollTop=0),u({type:"reset"})},[d]);const C=Nn(f=>{var y,L,A;const w=(L=(y=f==null?void 0:f.target)==null?void 0:y.scrollTop)!=null?L:0;if(w!==r.curScrollTop){const X=((A=f==null?void 0:f.target)==null?void 0:A.scrollHeight)-h;u({type:"changeScroll",curScrollTop:w,scrollHeight:X,tableScrollY:h})}},{wait:60});return l.exports.useEffect(()=>{var w;const f=(w=c==null?void 0:c.current)==null?void 0:w.parentNode;return f&&f.addEventListener("scroll",y=>C.run(y)),()=>{f.removeEventListener("scroll",y=>C.run(y))}},[c,r.curScrollTop,h,r.scrollHeight,C]),s("div",{className:"virtualTable",ref:c,style:{width:"100%",position:"relative",height:g,boxSizing:"border-box",paddingTop:r.curScrollTop},children:s(en.Provider,{value:{dispatch:u,rowHeight:r.rowHeight,start:x,offsetStart:k,renderLen:F,totalLen:d},children:s("table",{...o,ref:m,style:{...i,width:a,position:"relative"},children:n})})})}function Ho(e){return Ge=e.height,{table:Ko,body:{wrapper:Oo}}}function jo(e){const{loading:t,isZebra:n,isBordered:o,isVirtual:a,scrollX:i,scrollY:r}=e,[u,c]=l.exports.useState(e.columns);l.exports.useEffect(()=>{c(e.columns)},[e.columns]);const m=Lo(),d=k=>(C,{size:P})=>{const N=[...u];N[k]={...N[k],width:P.width},c(N)},p=u.map((k,C)=>({...k,onHeaderCell:P=>({width:P.width,onResize:d(C)})})),g=Ho({height:m}),h=l.exports.useMemo(()=>({header:{cell:ut},body:{wrapper:g.body.wrapper},table:g.table}),[g]),F=a!==!1?h:{header:{cell:ut}},x={...e.scroll,x:i,y:r||m};return b("div",{id:"table",className:`
        overflow-auto
        ${o!==!1?"bordered":""}
        ${n!==!1?"zebra":""}
      `,children:[!m&&s(Ft,{}),m&&s(Fn,{size:"small",rowKey:"id",pagination:!1,loading:t,...e,bordered:o!==!1,scroll:x,components:F,columns:p})]})}const Te=l.exports.memo(jo);function Uo(e){return s("div",{id:"pagination",className:`
        w-full
        flex
        items-center
        justify-end
        min-h-40px
        box-border
        z-999
      `,children:s(wn,{showSizeChanger:!0,showQuickJumper:!0,size:"small",showTotal:n=>`\u5171 ${n||0} \u6761\u6570\u636E`,...e})})}const Ze=l.exports.memo(Uo),Fe={page:1,pageSize:20};function Vo(){J("\u6587\u7AE0\u7BA1\u7406");const e=q(),t=l.exports.useRef(null),[n,o]=l.exports.useState(!1),[a,i]=l.exports.useState(Fe.page),[r,u]=l.exports.useState(Fe.pageSize),[c,m]=l.exports.useState(0),[d,p]=l.exports.useState([]),g=B(E=>E.user.permissions),h="/content/article",F={page:V(`${h}/index`,g),create:V(`${h}/create`,g),update:V(`${h}/update`,g),delete:V(`${h}/delete`,g)},x=E=>{i(1),k({page:1,pageSize:r,...E})},k=l.exports.useCallback(async E=>{try{o(!0);const{data:{data:f}}=await $o(E),{items:w,total:y}=f;m(y),p(w)}finally{o(!1)}},[]);l.exports.useEffect(()=>{F.page&&k({...Fe})},[k,F.page]);const C=()=>{e("/content/article/option")},P=E=>{e(`/content/article/option?id=${E}`)},N=()=>{var w;const f={...((w=t.current)==null?void 0:w.getFieldsValue())||{},page:a,pageSize:r};k(f)},T=async E=>{try{o(!0);const{data:f}=await _o(E);(f==null?void 0:f.code)===200&&(H.success((f==null?void 0:f.message)||"\u5220\u9664\u6210\u529F"),N())}finally{o(!1)}},I=(E,f)=>{var y;i(E),u(f);const w=(y=t.current)==null?void 0:y.getFieldsValue();k({...w,page:E,pageSize:f})},v=(E,f)=>b(O,{children:[F.update===!0&&s(Je,{className:"mr-5px",isLoading:n,onClick:()=>P(f.id)}),F.delete===!0&&s(Xe,{className:"mr-5px",isLoading:n,handleDelete:()=>T(f.id)})]});return s(be,{isPermission:F.page,children:b(O,{children:[s($e,{formRef:t,list:Bo,data:Fe,isLoading:n,isCreate:F.create,onCreate:C,handleFinish:x}),s(Te,{loading:n,columns:No(v),dataSource:d}),s(Ze,{disabled:n,current:a,pageSize:r,total:c,onChange:I})]})})}const tn=ve({name:"menu",initialState:{isPhone:!1,isCollapsed:!1,selectedKeys:"dashboard",openKeys:["Dashboard"]},reducers:{toggleCollapsed:(e,t)=>{e.isCollapsed=!!t.payload},togglePhone:(e,t)=>{e.isPhone=!!t.payload},setSelectedKeys:(e,t)=>{e.selectedKeys=t.payload},setOpenKeys:(e,t)=>{e.openKeys=t.payload}}}),{toggleCollapsed:Qe,togglePhone:Go,setSelectedKeys:nn,setOpenKeys:ge}=tn.actions,Wo=tn.reducer;function et(e){const{list:t,data:n,children:o,labelCol:a,wrapperCol:i,formRef:r,handleFinish:u}=e,[c]=K.useForm();return l.exports.useImperativeHandle(r,()=>({getFieldValue:p=>c.getFieldValue(p)||{},getFieldsValue:()=>c.getFieldsValue()||{},handleReset:()=>{c.resetFields()},handleSubmit:()=>{c.submit()}})),l.exports.useEffect(()=>{c.resetFields(),c.setFieldsValue(e.data)},[c,e.data]),s("div",{children:b(K,{name:"basic",form:c,labelCol:a||{span:6},wrapperCol:i||{span:15},initialValues:n,onFinish:p=>{if(u){const g=Ut(p,t);u==null||u(g)}},onFinishFailed:p=>{console.warn("\u8868\u5355\u9519\u8BEF:",p)},autoComplete:"off",children:[t==null?void 0:t.map(p=>s(K.Item,{label:p.label,name:p.name,rules:p.hidden?[]:p.rules,className:p.hidden?"!hidden":"",valuePropName:Lt(p.component),children:Gt(p)},`${p.name}`)),o]})})}const mt={content:"<h4>\u521D\u59CB\u5316\u5185\u5BB9</h4>"},we="/content/article";function Yo(){const{refresh:e}=ye.exports.useAliveController(),{pathname:t,search:n}=xe(),o=t+n,a=Js(n,"id"),i=l.exports.useRef(null),r=G(),[u,c]=l.exports.useState(!1),[m,d]=l.exports.useState(""),[p,g]=l.exports.useState(mt),h=B(w=>w.user.permissions),F=B(w=>w.menu.isCollapsed),x=B(w=>w.menu.isPhone),k="/content/article",C={create:V(`${k}/create`,h),update:V(`${k}/update`,h)};l.exports.useEffect(()=>{const w=Ne(we);!x&&!F&&(r(ge(w)),r(nn(we)))},[]);const P=l.exports.useCallback((w=t)=>{if(w==="/")return;const L=`${a?"\u7F16\u8F91":"\u65B0\u589E"}\u6587\u7AE0\u7BA1\u7406${a?`(${a})`:""}`,A={label:L,key:o,nav:["\u5185\u5BB9\u7BA1\u7406","\u6587\u7AE0\u7BA1\u7406",L]};r(ne(A.key)),r(he(A.nav)),r(re(A))},[a,t,n]);l.exports.useEffect(()=>{P()},[P]),l.exports.useEffect(()=>{a?T(a):N()},[a]);const N=()=>{d(""),g(mt)},T=async w=>{try{d(w),c(!0);const{data:{data:y}}=await To(w);g(y)}finally{c(!1)}},I=()=>{var w;(w=i.current)==null||w.handleSubmit()},v=()=>{var w;(w=i.current)==null||w.handleReset(),r(ks({key:o,nextPath:we}))},E=()=>{e(we),v()},f=async w=>{var y;try{c(!0);const L=()=>m?Ro(m,w):Io(w),{data:A}=await L();H.success((A==null?void 0:A.message)||"\u64CD\u4F5C\u6210\u529F"),(y=i.current)==null||y.handleReset(),E()}finally{c(!1)}};return s(be,{isPermission:a?C.update:C.creae,children:b(O,{children:[s("div",{className:"mb-50px",children:s(ft,{spinning:u,children:s(et,{formRef:i,list:Ao,data:p,labelCol:{span:5},handleFinish:f})})}),b("div",{className:`
          bg
          fixed
          flex
          justify-end
          left-0
          right-0
          bottom-0
          py-5px
          px-30px
          box-border
          shadow
          shadow-gray-500
        `,children:[s(Y,{className:"mr-10px",danger:!0,onClick:v,children:"\u8FD4\u56DE"}),s(Y,{type:"primary",onClick:I,children:"\u63D0\u4EA4"})]})]})})}function sn(){const e=l.exports.useRef(null),t=l.exports.useCallback(o=>new Promise((a,i)=>{var r;try{let u=o;if(u||(u=(r=e.current)==null?void 0:r.value),!u){i("\u590D\u5236\u7684\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A");return}if(typeof u!="string"&&typeof u!="number"){i("\u590D\u5236\u7684\u5185\u5BB9\u5FC5\u987B\u662F\u5B57\u7B26\u4E32\u6216\u6570\u5B57");return}navigator.clipboard.writeText(u.toString()).then(()=>{a(u)}).catch(c=>{i(c)})}catch(u){i(u)}}),[]),n=l.exports.useCallback(()=>navigator.clipboard.readText(),[]);return[e,t,n]}const{Search:qo}=ee;function Jo(e){const[,t]=sn();return s(qo,{...e,placeholder:"\u8BF7\u8F93\u5165",enterButton:"\u590D\u5236",onSearch:o=>{if(!o)return H.warning({content:"\u8BF7\u8F93\u5165\u590D\u5236\u5185\u5BB9",key:"copy"});try{t(o),H.success({content:"\u590D\u5236\u6210\u529F",key:"copy"})}catch{H.warning({content:"\u590D\u5236\u5931\u8D25",key:"copy"})}}})}function Xo(e){const{text:t,value:n}=e,[,o]=sn();return s(Y,{...e,icon:s($,{icon:"ant-design:copy-outlined"}),onClick:()=>{try{o(n),H.success({content:"\u590D\u5236\u6210\u529F",key:"copy"})}catch{H.warning({content:"\u590D\u5236\u5931\u8D25",key:"copy"})}},children:t})}function Zo(){return J("\u526A\u5207\u677F"),b("div",{className:"max-w-350px m-30px",children:[s("h1",{children:"\u526A\u5207\u677F\uFF1A"}),s(Jo,{className:"w-350px"}),b("div",{className:"flex items-center mt-50px",children:[s("span",{className:"text-lg",children:"\u5C06\u201Cadmin\u201D\u4F20\u5165\u590D\u5236\u6309\u94AE\u4E2D\uFF1A"}),s(Xo,{text:"\u590D\u5236",value:"admin"})]})]})}function Qo(){J("\u5BCC\u6587\u672C");const[e,t]=l.exports.useState("<p>hello</p>");return s("div",{className:"m-30px",children:s(Vt,{value:e,onChange:n=>t(n)})})}function ea(){const e=B(n=>n.public.theme),t=({index:n,style:o})=>b("div",{className:`
        text-center
        ${n%2?"bg-#f8f8f0":""}
        ${e==="dark"&&n%2?"!bg-#141414":""}
      `,style:o,children:["Row ",n+1]});return s(hs,{children:({height:n,width:o})=>s(ps,{height:n,itemCount:1e4,itemSize:35,width:o,children:t})})}function ta(){const e=[{title:"ID",dataIndex:"id",width:200},{title:"\u540D\u79F0",dataIndex:"name",width:200},{title:"\u7535\u8BDD",dataIndex:"phone",width:200},{title:"\u6570\u91CF",dataIndex:"number",width:200}],t=new Array(0).fill({});for(let n=0;n<1e4;n++){const o=n+1;t.push({id:o,name:"name"+o,phone:o*13,number:o*3})}return s(Te,{columns:e,dataSource:t,style:{borderBottom:"1px solid rgba(0, 0, 0, .05)"}})}function na(){return J("\u865A\u62DF\u6EDA\u52A8"),b("div",{className:"flex p-30px h-full",children:[b("div",{className:"flex flex-col mr-30px",children:[s("h2",{children:"\u865A\u62DF\u6EDA\u52A8\u5217\u8868(10000\u6761)\uFF1A"}),s("div",{className:"h-500px w-300px border border-cool-gray-100",children:s(ea,{})})]}),b("div",{children:[s("h2",{children:"\u865A\u62DF\u6EDA\u52A8\u8868\u683C(10000\u6761)\uFF1A"}),s(ta,{})]})]})}function sa(){return[n=>{const{content:o,height:a,width:i,rotate:r,color:u,fontSize:c,opacity:m}=n;if(document.getElementById("south_watermark")!==null)return;const d=Math.floor(document.body.clientWidth/i)*2;let p="";for(let k=0;k<d;k++){const C=`
        display: inline-block;
        line-height: ${a}px;
        width: ${i}px;
        text-align: center;
        transform:rotate( ${r}deg);
        color: ${u};
        font-size: ${c}px;
        opacity: ${m};
        `;p+=`
        <span style="${C}">
          ${o}
        </span>
      `}const g=document.createElement("div");g.innerHTML=p;const h=Math.floor(document.body.clientHeight/a)*2||4;let F="";for(let k=0;k<h;k++)F+=`<div style="white-space: nowrap;">${g.innerHTML}</div>`;const x=document.createElement("div");x.innerHTML=F,x.id="south_watermark",x.style.position="fixed",x.style.top="0px",x.style.left="-100px",x.style.zIndex="999999",x.style.pointerEvents="none",x.style.userSelect="none",document.body.appendChild(x)},()=>{if(document.getElementById("south_watermark")!==null&&document.getElementById("south_watermark")!==null){const n=document.getElementById("south_watermark");document.body.removeChild(n)}}]}function oa(){J("\u6C34\u5370");const[e,t]=sa();return b("div",{className:"p-30px",children:[s(Y,{onClick:()=>{e({content:"\u8FD9\u662F\u6C34\u5370",height:300,width:350,rotate:-20,color:"#000",fontSize:30,opacity:.07})},children:"\u6253\u5F00\u6C34\u5370"}),s(Y,{danger:!0,onClick:()=>{t()},children:"\u9690\u85CF\u6C34\u5370"})]})}function aa(){return J("\u4E09\u5C42\u7ED3\u6784"),s("div",{className:"m-30px",children:"\u4E09\u5C42\u7ED3\u6784"})}const ra=[{label:"\u72B6\u6001",name:"status",component:"Select",componentProps:{options:Rt}},{label:"\u6A21\u5757",name:"module",wrapperCol:170,component:"Select",componentProps:{options:_t}},{label:"\u63A7\u5236\u5668",name:"controller",component:"Input"}],ia=e=>[{title:"ID",dataIndex:"id",width:200},{title:"\u540D\u79F0",dataIndex:"name",width:200},{title:"\u72B6\u6001",dataIndex:"status",width:200},{title:"\u6A21\u5757",dataIndex:"module",width:200},{title:"\u63A7\u5236\u5668",dataIndex:"controller",width:200},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"created_at",width:200},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updated_at",width:200},{title:"\u64CD\u4F5C",dataIndex:"operate",width:200,fixed:"right",render:(t,n)=>e(t,n)}],la=e=>[{label:"\u540D\u79F0",name:"name",rules:se,component:"Input"},{label:"\u72B6\u6001",name:"status",rules:Ke,component:"Select",componentProps:{options:Rt}},{label:"\u6A21\u5757",name:"module",rules:Ke,component:"Select",componentProps:{options:_t}},{label:"\u63A7\u5236\u5668",name:"controller",rules:se,component:"Input"},{label:"\u521B\u5EFA\u83DC\u5355",name:"actions",hidden:!!e,component:"CheckboxGroup",componentProps:{options:Ws}}];function ca(e){return R.get("/authority/menu/index",{params:e})}function ua(e){return R.get(`/authority/menu/${e}`)}function da(e){return R.post("/authority/menu",e)}function ma(e,t){return R.put(`/authority/menu/${e}`,t)}function pa(e){return R.delete(`/authority/menu/${e}`)}function tt(e){const{onCancel:t}=e,[n,o]=l.exports.useState(!0),[a,i]=l.exports.useState(!1),[r,u]=l.exports.useState({left:0,top:0,bottom:0,right:0}),c=l.exports.useRef(null),m=(x,k)=>{var T;const{clientWidth:C,clientHeight:P}=window.document.documentElement,N=(T=c.current)==null?void 0:T.getBoundingClientRect();!N||u({left:-N.left+k.x,right:C-(N.right-k.x),top:-N.top+k.y,bottom:P-(N.bottom-k.y)})},d=()=>{n&&o(!1)},p=()=>{i(x=>(x||u({left:0,top:0,bottom:0,right:0}),!x))},g=()=>b("div",{className:"flex items-center justify-end absolute right-15px",children:[s(ae,{className:"hover:text-#404040",placement:"bottom",title:a?"\u9000\u51FA\u6700\u5927\u5316":"\u6700\u5927\u5316",children:s("div",{className:"p-10px mt-3px cursor-pointer",onClick:p,children:s($,{className:"text-lg",icon:a?"ant-design:fullscreen-exit-outlined":"ant-design:fullscreen-outlined"})})}),s(ae,{placement:"bottom",title:"\u5173\u95ED",children:s("div",{className:"p-10px mt-3px cursor-pointer",onClick:x=>t==null?void 0:t(x),children:s($,{className:"text-lg",icon:"ant-design:close-outlined"})})})]}),h=b("div",{className:"w-full cursor-move flex items-center justify-between",onMouseOver:d,onMouseOut:()=>o(!0),children:[s("span",{children:e.title||""}),g()]}),F=x=>s(fs.exports,{disabled:n,bounds:r,onStart:m,position:a?{x:0,y:0}:void 0,children:s("div",{ref:c,children:x})});return s(Be,{destroyOnClose:!0,closable:!1,maskClosable:!1,width:a?"100%":e.width||520,wrapClassName:a?"full-modal":"",modalRender:F,...e,title:h,children:e.children})}const ke={page:1,pageSize:20},pt={status:1};function ha(){J("\u83DC\u5355\u7BA1\u7406");const e=l.exports.useRef(null),t=l.exports.useRef(null),[n,o]=l.exports.useState(!1),[a,i]=l.exports.useState(!1),[r,u]=l.exports.useState(!1),[c,m]=l.exports.useState(De),[d,p]=l.exports.useState(""),[g,h]=l.exports.useState(pt),[F,x]=l.exports.useState(ke.page),[k,C]=l.exports.useState(ke.pageSize),[P,N]=l.exports.useState(0),[T,I]=l.exports.useState([]),v=B(S=>S.user.permissions),E="/authority/menu",f={page:V(`${E}/index`,v),create:V(`${E}/create`,v),update:V(`${E}/update`,v),delete:V(`${E}/delete`,v)},w=S=>{x(1),y({page:1,pageSize:k,...S})},y=l.exports.useCallback(async S=>{try{i(!0);const{data:{data:D}}=await ca(S),{items:M,total:Q}=D;N(Q),I(M)}finally{i(!1)}},[]);l.exports.useEffect(()=>{f.page&&y({...ke})},[y,f.page]);const L=()=>{o(!0),m(De),p(""),h(pt)},A=async S=>{try{o(!0),m(Tt(S)),p(S),u(!0);const{data:{data:D}}=await ua(S);h(D)}finally{u(!1)}},X=()=>{var S;(S=t.current)==null||S.handleSubmit()},Ie=()=>{o(!1)},ue=()=>{var M;const D={...((M=e.current)==null?void 0:M.getFieldsValue())||{},page:F,pageSize:k};y(D)},Re=async S=>{try{u(!0);const D=()=>d?ma(d,S):da(S),{data:M}=await D();H.success((M==null?void 0:M.message)||"\u64CD\u4F5C\u6210\u529F"),o(!1),ue()}finally{u(!1)}},_e=async S=>{try{i(!0);const{data:D}=await pa(S);(D==null?void 0:D.code)===200&&(H.success((D==null?void 0:D.message)||"\u5220\u9664\u6210\u529F"),ue())}finally{i(!1)}},Le=l.exports.useCallback((S,D)=>{var Q;x(S),C(D);const M=(Q=e.current)==null?void 0:Q.getFieldsValue();y({...M,page:S,pageSize:D})},[y]),Me=(S,D)=>b(O,{children:[f.update===!0&&s(Je,{className:"mr-5px",isLoading:a,onClick:()=>A(D.id)}),f.delete===!0&&s(Xe,{className:"mr-5px",isLoading:a,handleDelete:()=>_e(D.id)})]});return s(be,{isPermission:f.page,children:b(O,{children:[s($e,{formRef:e,list:ra,data:ke,isLoading:a,isCreate:f.create,onCreate:L,handleFinish:w}),s(Te,{loading:a,columns:ia(Me),dataSource:T}),s(Ze,{disabled:a,current:F,pageSize:k,total:P,onChange:Le}),s(tt,{width:600,title:c,open:n,confirmLoading:r,onOk:X,onCancel:Ie,children:s(et,{formRef:t,list:la(d),data:g,labelCol:{span:4},wrapperCol:{span:19},handleFinish:Re})})]})})}const fa=[{label:"\u5E74\u9F84",name:"age",component:"InputNumber"},{label:"\u540D\u5B57",name:"keyword",component:"Input"}],ga=e=>[{title:"ID",dataIndex:"id",width:400,fixed:"left"},{title:"\u7528\u6237\u540D",dataIndex:"username",width:400,fixed:"left"},{title:"\u59D3\u540D",dataIndex:"real_name",width:400},{title:"\u89D2\u8272",dataIndex:"roles_name",width:400},{title:"\u624B\u673A\u53F7",dataIndex:"phone",width:400},{title:"\u90AE\u7BB1",dataIndex:"email",width:400},{title:"\u72B6\u6001",dataIndex:"status",width:200,render:t=>s("span",{children:t?"\u5F00\u542F":"\u5173\u95ED"})},{title:"\u64CD\u4F5C",dataIndex:"operate",width:200,fixed:"right",render:(t,n)=>e(t,n)}],xa=[{label:"\u7528\u6237\u540D",name:"username",rules:se,component:"Input"},{label:"\u59D3\u540D",name:"real_name",rules:se,component:"Input"},{label:"\u89D2\u8272",name:"roles_name",rules:se,component:"Input"},{label:"\u72B6\u6001",name:"status",rules:Ke,component:"Select",componentProps:{options:Gs}}];function ya(e){return R.get("/authority/user/index",{params:e})}function ba(e){return R.get(`/authority/user/${e}`)}function Ca(e){return R.post("/authority/user",e)}function Fa(e,t){return R.put(`/authority/user/${e}`,t)}function wa(e){return R.delete(`/authority/user/${e}`)}const Se={page:1,pageSize:20},ht={status:1};function ka(){J("\u7528\u6237\u7BA1\u7406");const e=l.exports.useRef(null),t=l.exports.useRef(null),[n,o]=l.exports.useState(!1),[a,i]=l.exports.useState(!1),[r,u]=l.exports.useState(!1),[c,m]=l.exports.useState(De),[d,p]=l.exports.useState(""),[g,h]=l.exports.useState(ht),[F,x]=l.exports.useState(Se.page),[k,C]=l.exports.useState(Se.pageSize),[P,N]=l.exports.useState(0),[T,I]=l.exports.useState([]),v=B(S=>S.user.permissions),E="/authority/user",f={page:V(`${E}/index`,v),create:V(`${E}/create`,v),update:V(`${E}/update`,v),delete:V(`${E}/delete`,v)},w=S=>{x(1),y({page:1,pageSize:k,...S})},y=l.exports.useCallback(async S=>{try{o(!0);const{data:{data:D}}=await ya(S),{items:M,total:Q}=D;N(Q),I(M)}finally{o(!1)}},[]);l.exports.useEffect(()=>{f.page&&y({...Se})},[y,f.page]);const L=()=>{u(!0),m(De),p(""),h(ht)},A=async S=>{try{u(!0),m(Tt(S)),p(S),i(!0);const{data:{data:D}}=await ba(S);h(D)}finally{i(!1)}},X=()=>{var S;(S=t.current)==null||S.handleSubmit()},Ie=()=>{u(!1)},ue=()=>{var M;const D={...((M=e.current)==null?void 0:M.getFieldsValue())||{},page:F,pageSize:k};y(D)},Re=async S=>{try{i(!0);const D=()=>d?Fa(d,S):Ca(S),{data:M}=await D();H.success((M==null?void 0:M.message)||"\u64CD\u4F5C\u6210\u529F"),u(!1),ue()}finally{i(!1)}},_e=async S=>{try{o(!0);const{data:D}=await wa(S);(D==null?void 0:D.code)===200&&(H.success((D==null?void 0:D.message)||"\u5220\u9664\u6210\u529F"),ue())}finally{o(!1)}},Le=(S,D)=>{var Q;x(S),C(D);const M=(Q=e.current)==null?void 0:Q.getFieldsValue();y({...M,page:S,pageSize:D})},Me=(S,D)=>b(O,{children:[f.update===!0&&s(Je,{className:"mr-5px",isLoading:n,onClick:()=>A(D.id)}),f.delete===!0&&s(Xe,{className:"mr-5px",isLoading:n,handleDelete:()=>_e(D.id)})]});return s(be,{isPermission:f.page,children:b(O,{children:[s($e,{formRef:e,list:fa,data:Se,isLoading:n,isCreate:f.create,onCreate:L,handleFinish:w}),s(Te,{loading:n,columns:ga(Me),dataSource:T}),s(Ze,{disabled:n,current:F,pageSize:k,total:P,onChange:Le}),s(tt,{title:c,open:r,confirmLoading:a,onOk:X,onCancel:Ie,children:s(et,{formRef:t,list:xa,data:g,labelCol:{span:6},handleFinish:Re})})]})})}const Sa=[{caseSensitive:!1,path:"403",element:j.createElement(qe)},{caseSensitive:!1,path:"/",element:j.createElement($s)},{caseSensitive:!1,path:"*",element:j.createElement(Ts)},{caseSensitive:!1,path:"dashboard",children:[{caseSensitive:!1,path:"",element:j.createElement(Co)}]},{caseSensitive:!1,path:"loading",children:[{caseSensitive:!1,path:"",element:j.createElement(Fo)}]},{caseSensitive:!1,path:"login",children:[{caseSensitive:!1,path:"",element:j.createElement(Qt)}]},{caseSensitive:!1,path:"content",children:[{caseSensitive:!1,path:"article",children:[{caseSensitive:!1,path:"",element:j.createElement(Vo)},{caseSensitive:!1,path:"option",element:j.createElement(Yo)}]}]},{caseSensitive:!1,path:"demo",children:[{caseSensitive:!1,path:"copy",children:[{caseSensitive:!1,path:"",element:j.createElement(Zo)}]},{caseSensitive:!1,path:"editor",children:[{caseSensitive:!1,path:"",element:j.createElement(Qo)}]},{caseSensitive:!1,path:"virtualScroll",children:[{caseSensitive:!1,path:"",element:j.createElement(na)}]},{caseSensitive:!1,path:"watermark",children:[{caseSensitive:!1,path:"",element:j.createElement(oa)}]},{caseSensitive:!1,path:"level1",children:[{caseSensitive:!1,path:"level2",children:[{caseSensitive:!1,path:"level3",element:j.createElement(aa)}]}]}]},{caseSensitive:!1,path:"system",children:[{caseSensitive:!1,path:"menu",children:[{caseSensitive:!1,path:"",element:j.createElement(ha)}]},{caseSensitive:!1,path:"user",children:[{caseSensitive:!1,path:"",element:j.createElement(ka)}]}]}];function Ea(e){return R.get("/authority/user/refresh-permissions",{params:e})}const Da="_header_11yja_1",va="_headerCloseMenu_11yja_12",Ba="_headerDriver_11yja_15",Na="_menu_11yja_18",Aa="_menuClose_11yja_26",Pa="_con_11yja_29",$a="_conCloseMenu_11yja_36",Ta="_conMaximize_11yja_39",Ia="_headerNone_11yja_43",Ra="_none_11yja_47",_a="_menuNone_11yja_50",La="_conPhone_11yja_54",Ma="_headerPhone_11yja_57",Oa="_leftDivide_11yja_60",U={header:Da,headerCloseMenu:va,headerDriver:Ba,menu:Na,menuClose:Aa,con:Pa,conCloseMenu:$a,conMaximize:Ta,headerNone:Ia,none:Ra,menuNone:_a,conPhone:La,headerPhone:Ma,leftDivide:Oa};function za(){const e=q(),{pathname:t}=xe(),n=G(),[o,a]=l.exports.useState([]),i=B(C=>C.menu.selectedKeys),r=B(C=>C.menu.openKeys),u=B(C=>C.tabs.isMaximize),c=B(C=>C.menu.isCollapsed),m=B(C=>C.menu.isPhone),d=B(C=>C.user.permissions);l.exports.useEffect(()=>{const C=Ne(t);!m&&!c&&(n(ge(C)),n(nn(t)))},[t]),l.exports.useEffect(()=>{if(d.length>0){const C=vt(W,d);a(C||[])}},[d]);const p=C=>{e(C);const N=te({menus:o,permissions:d,key:C});N&&(n(ne(N.key)),n(he(N.nav)),n(re(N)))},g=C=>{p(C.key),m&&k()},h=(C,P)=>{let N=!0;for(let T=0;T<C.length;T++)if(C[T]!==P[T]){N=!1;break}return N},F=C=>{const P=[];let N="";if(C.length>0){N=C[C.length-1];const T=ie(N);P.push(N);for(let I=C.length-2;I>=0;I--){const v=ie(C[I]);h(v,T)&&P.unshift(C[I])}}n(ge(P))},x=()=>{const C=le(o,d);p(C),m&&k()},k=()=>{n(Qe(!0))};return b(O,{children:[b("div",{className:`
          transition-all
          overflow-auto
          z-2
          ${U.menu}
          ${c?U.menuClose:""}
          ${u||m&&c?U.menuNone:""}
          ${m?"!z-1002":""}
        `,children:[b("div",{className:`
            text-white
            flex
            content-center
            px-5
            py-2
            cursor-pointer
            ${c?"justify-center":""}
          `,onClick:x,children:[s("img",{src:Zt,width:30,height:30,className:"object-contain",alt:"logo"}),s("span",{className:`
            text-white
            ml-3
            text-xl
            font-bold
            truncate
            ${c?"hidden":""}
          `,children:"\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF"})]}),s(kn,{className:"h-full z-1000",selectedKeys:[i],openKeys:r,mode:"inline",theme:"dark",inlineCollapsed:c,items:o,onClick:g,onOpenChange:F})]}),m&&!c&&s("div",{className:`${U.cover} fixed w-full h-full bg-gray-500 bg-opacity-10 z-1001`,onClick:k})]})}const Ka="/assets/png/avatar-07151444.png";function Ha(){const e=G(),t=B(o=>o.public.isFullscreen);return[t,()=>{var o;if(!t&&((o=document.documentElement)==null?void 0:o.requestFullscreen))return document.documentElement.requestFullscreen(),e(ct(!0)),!0;if(t&&(document==null?void 0:document.exitFullscreen))return document.exitFullscreen(),e(ct(!1)),!0}]}function ja(){const[e,t]=Ha();return s(ae,{title:e?"\u9000\u51FA\u5168\u5C4F":"\u5168\u5C4F",children:b("div",{className:"flex items-center justify-center text-lg mr-3 cursor-pointer",onClick:t,children:[e&&s($,{icon:"gridicons-fullscreen-exit"}),!e&&s($,{icon:"gridicons-fullscreen"})]})})}function Ua(e){return[n=>{var o,a,i,r,u;switch(n.key){case"ArrowUp":(o=e.ArrowUp)==null||o.call(e);break;case"ArrowDown":(a=e.ArrowDown)==null||a.call(e);break;case"ArrowLeft":(i=e.ArrowLeft)==null||i.call(e);break;case"ArrowRight":(r=e.ArrowRight)==null||r.call(e);break;case"Enter":(u=e.Enter)==null||u.call(e);break}}]}function Va(e){const{list:t,active:n,onCancel:o,changActive:a}=e,i=q(),r=G(),u=B(d=>d.user.permissions),c=d=>{i(d);const g=te({menus:W,permissions:u,key:d});r(re(g)),r(ne(d));const h=Ne(d);r(ge(h)),o()},m=d=>{a(d)};return b(O,{children:[!(t!=null&&t.length)&&b("div",{className:"flex flex-col items-center pt-5 text-warm-gray-400",children:[s($,{className:"text-40px",icon:"mdi:archive-cancel-outline"}),s("span",{className:"mt-1",children:"\u6682\u65E0\u641C\u7D22\u7ED3\u6784"})]}),(t==null?void 0:t.length)>0&&s("div",{className:"mt-5",children:t==null?void 0:t.map(d=>{var p;return b("div",{className:`
                h-56px
                mt-8px
                px-14px
                rounded-4px
                cursor-pointer
                flex
                items-center
                justify-between
                shadow-md
                border
                border-light-500
                ${n===d.key?"bg-blue-500 text-white":""}
              `,onClick:()=>c(d.key),onMouseEnter:()=>m(d.key),children:[b("div",{className:"flex items-center",children:[s($,{className:"text-lg mr-1",icon:"gg:menu-boxed"}),d.nav&&((p=d.nav)==null?void 0:p.length)>0&&d.nav.map((g,h)=>b(l.exports.Fragment,{children:[h>0&&s("span",{className:"mx-5px",children:">"}),s("span",{children:g})]},g)),!d.nav&&s("span",{children:d.label})]}),s($,{className:"icon text-20px p-2px mr-5px",icon:"ant-design:enter-outlined"})]},d.key)})})]})}const Ga="_icon_1eshe_1",Ee={icon:Ga};function Wa(){return b("div",{className:"flex items-center text-dark-50",children:[b("span",{className:"mr-14px flex items-center",children:[s($,{className:`${Ee.icon} text-20px p-2px mr-5px`,icon:"ant-design:enter-outlined"}),s("span",{children:"\u786E\u8BA4"})]}),b("span",{className:"mr-14px flex items-center",children:[s($,{className:`${Ee.icon} text-20px p-2px mr-5px`,icon:"mdi-arrow-up-thin"}),s($,{className:`${Ee.icon} text-20px p-2px mr-5px`,icon:"mdi-arrow-down-thin"}),s("span",{children:"\u5207\u6362"})]}),b("span",{className:"flex items-center",children:[s($,{className:`${Ee.icon} text-20px p-2px mr-5px`,icon:"mdi:keyboard-esc"}),s("span",{children:"\u5173\u95ED"})]})]})}function Ya(e){const t=q(),n=l.exports.useRef(null),{modalRef:o}=e,[a,i]=l.exports.useState(""),[r,u]=l.exports.useState(""),[c,m]=l.exports.useState([]),[d,p]=l.exports.useState(!1),g=G(),h=B(v=>v.user.permissions);l.exports.useImperativeHandle(o,()=>({toggle:()=>{p(!d)}})),l.exports.useLayoutEffect(()=>(d&&setTimeout(()=>{var v;(v=n.current)==null||v.focus({cursor:"end"})},0),()=>{i(""),u(""),m([])}),[d]);const F=v=>{u(v)},x=()=>{p(!1)},k=()=>{if(r){t(r);const E=te({menus:W,permissions:h,key:r});g(re(E)),g(ne(r));const f=Ne(r);g(ge(f)),x()}},C=Ye(v=>{var w;const f=Dt({menus:W,permissions:h,value:v});f!=null&&f.length?(u(((w=f==null?void 0:f[0])==null?void 0:w.key)||""),m(f)):(u(""),m([]))},{wait:200}),P=v=>{const{value:E}=v.target;i(E),C.run(E)},N=()=>{if(!c.length)return null;const v=c.findIndex(f=>f.key===r);if(v===0)return null;const E=c[v-1].key;u(E)},T=()=>{if(!c.length)return null;const v=c.length-1,E=c.findIndex(w=>w.key===r);if(E===v)return null;const f=c[E+1].key;u(f)},[I]=Ua({ArrowUp:N,ArrowDown:T,Enter:k});return l.exports.useEffect(()=>{if(c.length)return window.addEventListener("keydown",I),()=>{window.removeEventListener("keydown",I)}},[c,r,I]),b(Be,{className:"rounded-100px",open:d,closable:!1,onCancel:x,footer:s(Wa,{}),children:[s(ee,{ref:n,value:a,placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u8BCD\u641C\u7D22",allowClear:!0,prefix:s($,{className:"text-lg text-warm-gray-400",icon:"ant-design:search-outlined"}),onChange:P,onPressEnter:k}),s(Va,{list:c,active:r,onCancel:x,changActive:F})]})}function qa(){const e=l.exports.useRef(null);return b(O,{children:[s(ae,{title:"\u641C\u7D22",children:s($,{className:"flex items-center justify-center text-lg mr-3 cursor-pointer",icon:"uil-search",onClick:()=>{var n;(n=e.current)==null||n.toggle()}})}),s(Ya,{modalRef:e})]})}function Ja(){const{clear:e,refresh:t,getCachingNodes:n}=ye.exports.useAliveController(),o=G(),a=localStorage.getItem(me)||"light",[i,r]=l.exports.useState(a);l.exports.useEffect(()=>{a||localStorage.setItem(me,"light"),a==="dark"&&(document.body.className="theme-dark"),o(Ue(a==="dark"?"dark":"light"))},[a]);const u=()=>{const m=n();for(let d=0;d<(m==null?void 0:m.length);d++){const{name:p}=m[d];p&&t(p)}},c=m=>{switch(localStorage.setItem(me,m),o(Ue(m)),r(m),e(),u(),m){case"dark":document.body.className="theme-dark";break;default:document.body.className="theme-primary";break}};return s(ae,{title:"\u4E3B\u9898\u6A21\u5F0F",children:b("div",{className:"flex items-center justify-center text-lg mr-4 cursor-pointer",children:[i==="light"&&s($,{icon:"mdi-white-balance-sunny",onClick:()=>c("dark")}),i!=="light"&&s($,{icon:"mdi-moon-waning-crescent",onClick:()=>c("light")})]})})}function Xa(e){const{passwordRef:t}=e,[n]=K.useForm(),[o,a]=l.exports.useState(!1),[i,r]=l.exports.useState(!1);return l.exports.useImperativeHandle(t,()=>({open:()=>{a(!0)}})),s(tt,{title:"\u4FEE\u6539\u5BC6\u7801",open:o,confirmLoading:i,onOk:()=>{n.submit()},onCancel:()=>a(!1),children:b(K,{name:"UpdatePassword",form:n,labelCol:{span:5},wrapperCol:{span:16},onFinish:async m=>{if(m.password!==m.confirmPassword)return H.warning({content:"\u5BC6\u7801\u548C\u786E\u8BA4\u5BC6\u7801\u4E0D\u76F8\u540C!",key:"confirmPassword"});try{r(!0);const{data:d}=await So(m);d.code===200&&(a(!1),H.success(d.message))}finally{r(!1)}},autoComplete:"off",children:[s(K.Item,{label:"\u7528\u6237\u540D",name:"username",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"}],children:s(ee,{placeholder:fe})}),s(K.Item,{label:"\u5BC6\u7801",name:"password",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801!"}],children:s(He,{})}),s(K.Item,{label:"\u786E\u8BA4\u5BC6\u7801",name:"confirmPassword",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u786E\u8BA4\u5BC6\u7801!"}],children:s(He,{})})]})})}const{Item:Za}=wt;function Qa(e){const{className:t,list:n}=e,o=B(a=>a.menu.isPhone);return s(O,{children:!o&&s("div",{className:`${t} flex items-center`,children:s(wt,{children:n==null?void 0:n.map(a=>s(Za,{className:"whitespace-nowrap",children:a},a))})})})}function er(){const e=B(F=>F.menu.isCollapsed),t=B(F=>F.user.userInfo.username),n=G(),o=q(),[,,a]=Pe(),{clear:i}=ye.exports.useAliveController(),r=B(F=>F.tabs.isMaximize),u=B(F=>F.tabs.nav),c=l.exports.useRef(null),m=[{key:"password",label:s("span",{children:"\u4FEE\u6539\u5BC6\u7801"}),icon:s(Mn,{className:"mr-1"})},{key:"logout",label:s("span",{children:"\u9000\u51FA\u767B\u5F55"}),icon:s(On,{className:"mr-1"})}],d=F=>{var x;switch(F.key){case"password":(x=c.current)==null||x.open();break;case"logout":p();break}},p=()=>{Be.confirm({title:"\u6E29\u99A8\u63D0\u793A",icon:s(Et,{}),content:"\u662F\u5426\u786E\u5B9A\u9000\u51FA\u7CFB\u7EDF?",onOk(){n(Eo()),n(vs()),n(ne("")),a(),i(),o("/login")}})},g=()=>b("div",{className:"flex items-center",children:[s(qa,{}),s(ja,{}),s(Ja,{}),s(We,{className:"min-w-50px",menu:{items:m,onClick:d},children:b("div",{className:"ant-dropdown-link flex items-center cursor-pointer",onClick:F=>F.preventDefault(),children:[s("img",{src:Ka,width:27,height:27,alt:"\u5934\u50CF",className:"rounded-1/2 overflow-hidden object-cover bg-light-500"}),s("span",{className:"ml-2 text-15px min-w-50px truncate",children:t||"south-admin"})]})})]}),h=()=>b("div",{className:"text-lg cursor-pointer",onClick:()=>n(Qe(!e)),children:[e&&s(_n,{}),!e&&s(Ln,{})]});return b(O,{children:[b("header",{className:`
          border-bottom
          flex
          items-center
          justify-between
          px-6
          py-6px
          box-border
          transition-all
          ${U.headerDriver}
          ${r?U.none:""}
        `,children:[b("div",{className:"flex item-center",children:[s(h,{}),s(Qa,{className:"ml-15px",list:u})]}),s(g,{})]}),s(Xa,{passwordRef:c})]})}function on(e){const{activeKey:t,onOpenChange:n,handleRefresh:o}=e,{pathname:a}=xe(),i=q(),r=G(),u=B(p=>p.tabs.tabs),c=B(p=>p.user.permissions);return[(p=t)=>{const g=u.findIndex(h=>h.key===p);return[{key:"refresh",label:"\u91CD\u65B0\u52A0\u8F7D",disabled:p!==a,icon:s(zn,{className:"mr-5px transform rotate-270"})},{key:"close_current",label:"\u5173\u95ED\u6807\u7B7E",disabled:u.length<=1,icon:s(Kn,{className:"mr-5px"})},{key:"close_other",label:"\u5173\u95ED\u5176\u4ED6",disabled:u.length<=1,icon:s(Hn,{className:"mr-5px transform rotate-90"})},{key:"close_left",label:"\u5173\u95ED\u5DE6\u4FA7",disabled:g===0,icon:s(st,{className:"mr-5px transform rotate-270"})},{key:"close_right",label:"\u5173\u95ED\u53F3\u4FA7",disabled:g===u.length-1,icon:s(st,{className:"mr-5px transform rotate-90"})}]},(p,g=t)=>{switch(n==null||n(!1),p){case"refresh":o(g);break;case"close_current":r(Nt(g));break;case"close_other":r(Ds(g));break;case"close_left":if(r(Ss(g)),a!==g){const F=te({menus:W,permissions:c,key:g});F!=null&&F.key&&(i(g),r(he(F.nav)))}break;case"close_right":if(r(Es(g)),a!==g){const F=te({menus:W,permissions:c,key:g});F!=null&&F.key&&(i(g),r(he(F.nav)))}break}}]}function tr(e){const{isRefresh:t,onClick:n}=e;return s(ae,{title:"\u91CD\u65B0\u52A0\u8F7D",placement:"bottom",children:s($,{className:`
          change
          flex
          items-center
          justify-center
          text-lg
          cursor-pointer
          ${t?"animate-spin":""}
        `,onClick:()=>n(),icon:"ant-design:reload-outlined"})})}function nr(){const e=G(),t=B(o=>o.tabs.isMaximize);return s(ae,{title:t?"\u6700\u5C0F\u5316":"\u6700\u5927\u5316",placement:"bottom",children:s($,{className:`
          flex
          items-center
          justify-center
          text-lg
          cursor-pointer
        `,icon:t?"ant-design:compress-outlined":"ant-design:expand-outlined",onClick:()=>{e(ws(!t))}})})}function sr(e){const{activeKey:t,handleRefresh:n}=e,[o,a]=l.exports.useState(!1),i=m=>{a(m)},r={activeKey:t,onOpenChange:i,handleRefresh:n},[u,c]=on(r);return s(We,{trigger:["click"],menu:{items:u(),onClick:m=>c(m.key)},onOpenChange:i,children:s($,{className:`
          flex
          items-center
          justify-center
          text-lg
          cursor-pointer
          transition-all
          transform
          ${o?"rotate-180":"rotate-0"}
        `,icon:"ant-design:down-outlined"})})}function or(){const e=q(),{pathname:t}=xe(),n=G(),{refresh:o}=ye.exports.useAliveController(),[a,i]=l.exports.useState(!1),[r,u]=l.exports.useState(null),c=B(y=>y.tabs.tabs),m=B(y=>y.tabs.isLock),d=B(y=>y.tabs.activeKey),p=B(y=>y.user.permissions),g=B(y=>y.tabs.isMaximize),h=l.exports.useCallback((y=t)=>{if(p.length>0){if(y==="/")return;const A=te({menus:W,permissions:p,key:y});A!=null&&A.key&&(n(ne(A.key)),n(he(A.nav)),n(re(A)))}},[p]);l.exports.useEffect(()=>{h()},[h]),l.exports.useEffect(()=>{if(d!==t){const y=m?d:t;h(y),m&&(e(y),n(Fs(!1)))}},[d,t]);const F=y=>{e(y)},x=y=>{n(Nt(y))},k=(y,L)=>{L==="remove"&&x(y)},C=l.exports.useCallback((y=d)=>{typeof y=="string"&&(r||(i(!0),o(y),e("/loading"),u(setTimeout(()=>{y!==d&&n(ne(y)),i(!1),e(y),H.success({content:"\u5237\u65B0\u6210\u529F",key:"refresh"}),u(null)},1e3))))},[d,r]),P=l.exports.useMemo(()=>s(tr,{isRefresh:a,onClick:C}),[a,C]),N=l.exports.useMemo(()=>s(sr,{activeKey:d,handleRefresh:C}),[d,C]),T=l.exports.useMemo(()=>s(nr,{}),[]),I=[{element:P},{element:N},{element:T}],v={activeKey:d,handleRefresh:C},[E,f]=on(v),w=(y,L)=>s(L,{...y,children:A=>s(We,{menu:{items:E(A.key),onClick:X=>f(X.key,A.key)},trigger:["contextMenu"],children:s("div",{className:"mr-3px",children:A})},A.key)});return b("div",{className:`
      flex
      items-center
      justify-between
      mx-2
      transition-all
      ${g?U.conMaximize:""}
    `,children:[c.length>0?s(Sn,{hideAdd:!0,className:"w-full h-30px py-0",onChange:F,activeKey:d,type:"editable-card",onEdit:k,items:c,renderTabBar:w}):s("span",{}),s("div",{className:"flex",children:I==null?void 0:I.map((y,L)=>s("div",{className:`
                ${U.leftDivide}
                change
                divide-solid
                w-36px
                h-36px
                hover:opacity-70
                flex
                place-content-center
                items-center
              `,children:y.element},L))})]})}function ar(){const e=G(),t=q(),[n]=Pe(),o=n(),[a,i]=l.exports.useState(!0),r=B(h=>h.user.permissions),u=B(h=>h.user.userInfo.id),c=B(h=>h.tabs.isMaximize),m=B(h=>h.menu.isCollapsed),d=B(h=>h.menu.isPhone),p=l.exports.useCallback(async()=>{try{i(!0);const{data:h}=await Ea({refresh_cache:!1});if(h){const{data:{user:F,permissions:x}}=h,k=Xt(x);e(Jt(F)),e(Ve(k))}}catch(h){console.error("\u83B7\u53D6\u7528\u6237\u6570\u636E\u5931\u8D25:",h),Ve([])}finally{i(!1)}},[]);l.exports.useEffect(()=>{o||t("/login"),o&&!u&&p()},[p,t,o,u]);const g=Ye(()=>{const h=window.innerWidth<=768;h&&e(Qe(!0)),e(Go(h))},{wait:500});return l.exports.useEffect(()=>(window.addEventListener("resize",g.run()),()=>{window.removeEventListener("resize",g.run())}),[]),b("div",{id:"layout",children:[s(za,{}),b("div",{className:U.layout_right,children:[b("div",{className:`
          border-bottom
          transition-all
          ${U.header}
          ${m?U.headerCloseMenu:""}
          ${c?U.headerNone:""}
          ${d?"!left-0 z-999":""}
        `,children:[s(er,{}),s(or,{})]}),b("div",{id:"layoutContent",className:`
            overflow-auto
            transition-all
            ${U.con}
            ${c?U.conMaximize:""}
            ${m?U.conCloseMenu:""}
            ${d?"!left-0":""}
          `,children:[a&&r.length===0&&s(Ft,{active:!0,className:"p-30px",paragraph:{rows:10}}),!a&&r.length===0&&s(qe,{}),r.length>0&&s(un,{})]})]})]})}const rr=gs(Sa),ir=[{path:"login",element:s(Qt,{})},{path:"",element:s(ar,{}),children:rr}];function lr(){return s(O,{children:dn(ir)})}const{defaultAlgorithm:cr,darkAlgorithm:ur}=vn;function dr(){const e=B(t=>t.public.theme);return l.exports.useEffect(()=>(nt.done(),()=>{nt.start()}),[]),s(rn,{children:s(En,{locale:Dn,theme:{algorithm:[e==="dark"?ur:cr]},children:s(ye.exports.AliveScope,{children:s(lr,{})})})})}const mr=ln({reducer:{public:wo,menu:Wo,tabs:Bs,user:Do}});z.locale("zh-cn");an.createRoot(document.getElementById("root")).render(s(cn,{store:mr,children:s(dr,{})}));document!=null&&document.getElementById("first")&&(document.getElementById("first").style.display="none");
