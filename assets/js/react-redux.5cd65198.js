import{r as t}from"./react-dom.cfbe57ec.js";import"./hoist-non-react-statics.b23c5de2.js";import{r as e}from"./react.a7da97a2.js";import"./react-is.90ab392a.js";import{w as n}from"./use-sync-external-store.dbd3228b.js";let o=function(t){t()};const r=()=>o,s=Symbol.for("react-redux-context"),c="undefined"!=typeof globalThis?globalThis:{};function u(){var t;if(!e.createContext)return{};const n=null!=(t=c[s])?t:c[s]=new Map;let o=n.get(e.createContext);return o||(o=e.createContext(null),n.set(e.createContext,o)),o}const i=u();function a(t=i){return function(){return e.useContext(t)}}const l=a();let f=()=>{throw new Error("uSES not initialized!")};const b=(t,e)=>t===e;function d(t=i){const n=t===i?l:a(t);return function(t,o={}){const{equalityFn:r=b,stabilityCheck:s,noopCheck:c}="function"==typeof o?{equalityFn:o}:o,{store:u,subscription:i,getServerState:a,stabilityCheck:l,noopCheck:d}=n();e.useRef(!0);const p=e.useCallback({[t.name]:e=>t(e)}[t.name],[t,l,s]),S=f(i.addNestedSub,u.getState,a||u.getState,p,r);return e.useDebugValue(S),S}}const p=d();const S={notify(){},get:()=>[]};function h(t,e){let n,o=S;function s(){u.onStateChange&&u.onStateChange()}function c(){n||(n=e?e.addNestedSub(s):t.subscribe(s),o=function(){const t=r();let e=null,n=null;return{clear(){e=null,n=null},notify(){t((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){let t=[],n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(t){let o=!0,r=n={callback:t,next:null,prev:n};return r.prev?r.prev.next=r:e=r,function(){o&&null!==e&&(o=!1,r.next?r.next.prev=r.prev:n=r.prev,r.prev?r.prev.next=r.next:e=r.next)}}}}())}const u={addNestedSub:function(t){return c(),o.subscribe(t)},notifyNestedSubs:function(){o.notify()},handleChangeWrapper:s,isSubscribed:function(){return Boolean(n)},trySubscribe:c,tryUnsubscribe:function(){n&&(n(),n=void 0,o.clear(),o=S)},getListeners:()=>o};return u}const y=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?e.useLayoutEffect:e.useEffect;function v({store:t,context:n,children:o,serverState:r,stabilityCheck:s="once",noopCheck:c="once"}){const u=e.useMemo((()=>{const e=h(t);return{store:t,subscription:e,getServerState:r?()=>r:void 0,stabilityCheck:s,noopCheck:c}}),[t,r,s,c]),a=e.useMemo((()=>t.getState()),[t]);y((()=>{const{subscription:e}=u;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[u,a]);const l=n||i;return e.createElement(l.Provider,{value:u},o)}function x(t=i){const e=t===i?l:a(t);return function(){const{store:t}=e();return t}}const C=x();function g(t=i){const e=t===i?C:x(t);return function(){return e().dispatch}}const m=g();var k,w;k=n.useSyncExternalStoreWithSelector,f=k,w=t.unstable_batchedUpdates,o=w;export{v as P,m as a,p as u};
