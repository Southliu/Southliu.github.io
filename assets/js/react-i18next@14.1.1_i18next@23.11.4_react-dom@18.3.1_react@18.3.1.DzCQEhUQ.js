import{r as e}from"./react@18.3.1.DI4wpprY.js";const n={};function t(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];"string"==typeof t[0]&&n[t[0]]||("string"==typeof t[0]&&(n[t[0]]=new Date),function(){if(console&&console.warn){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];"string"==typeof n[0]&&(n[0]=`react-i18next:: ${n[0]}`)}}(...t))}const s=(e,n)=>()=>{if(e.isInitialized)n();else{const t=()=>{setTimeout((()=>{e.off("initialized",t)}),0),n()};e.on("initialized",t)}};function a(e,n,t){e.loadNamespaces(n,s(e,t))}function o(e,n,t,a){"string"==typeof t&&(t=[t]),t.forEach((n=>{e.options.ns.indexOf(n)<0&&e.options.ns.push(n)})),e.loadLanguages(n,s(e,a))}const r=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,i={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},c=e=>i[e];let u,l={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(r,c)};const g={type:"3rdParty",init(e){!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l={...l,...e}}(e.options.react),function(e){u=e}(e)}},p=e.createContext();class d{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach((e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)}))}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function f(e,n,t,s){return e.getFixedT(n,t,s)}function h(n){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{i18n:r}=s,{i18n:i,defaultNS:c}=e.useContext(p)||{},g=r||i||u;if(g&&!g.reportNamespaces&&(g.reportNamespaces=new d),!g){t("You will need to pass in an i18next instance by using initReactI18next");const e=(e,n)=>"string"==typeof n?n:n&&"object"==typeof n&&"string"==typeof n.defaultValue?n.defaultValue:Array.isArray(e)?e[e.length-1]:e,n=[e,{},!1];return n.t=e,n.i18n={},n.ready=!1,n}g.options.react&&void 0!==g.options.react.wait&&t("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const h={...l,...g.options.react,...s},{useSuspense:m,keyPrefix:y}=h;let b=c||g.options&&g.options.defaultNS;b="string"==typeof b?[b]:b||["translation"],g.reportNamespaces.addUsedNamespaces&&g.reportNamespaces.addUsedNamespaces(b);const N=(g.isInitialized||g.initializedStoreOnce)&&b.every((e=>function(e,n){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.languages&&n.languages.length?void 0!==n.options.ignoreJSONStructure?n.hasLoadedNamespace(e,{lng:s.lng,precheck:(n,t)=>{if(s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!t(n.isLanguageChangingTo,e))return!1}}):function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=n.languages[0],a=!!n.options&&n.options.fallbackLng,o=n.languages[n.languages.length-1];if("cimode"===s.toLowerCase())return!0;const r=(e,t)=>{const s=n.services.backendConnector.state[`${e}|${t}`];return-1===s||2===s};return!(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!r(n.isLanguageChangingTo,e)||!n.hasResourceBundle(s,e)&&n.services.backendConnector.backend&&(!n.options.resources||n.options.partialBundledLanguages)&&(!r(s,e)||a&&!r(o,e)))}(e,n,s):(t("i18n.languages were undefined or empty",n.languages),!0)}(e,g,h))),C=function(n,t,s,a){return e.useCallback(f(n,t,s,a),[n,t,s,a])}(g,s.lng||null,"fallback"===h.nsMode?b:b[0],y),k=()=>C,v=()=>f(g,s.lng||null,"fallback"===h.nsMode?b:b[0],y),[x,w]=e.useState(k);let I=b.join();s.lng&&(I=`${s.lng}${I}`);const S=((n,t)=>{const s=e.useRef();return e.useEffect((()=>{s.current=n}),[n,t]),s.current})(I),L=e.useRef(!0);e.useEffect((()=>{const{bindI18n:e,bindI18nStore:n}=h;function t(){L.current&&w(v)}return L.current=!0,N||m||(s.lng?o(g,s.lng,b,(()=>{L.current&&w(v)})):a(g,b,(()=>{L.current&&w(v)}))),N&&S&&S!==I&&L.current&&w(v),e&&g&&g.on(e,t),n&&g&&g.store.on(n,t),()=>{L.current=!1,e&&g&&e.split(" ").forEach((e=>g.off(e,t))),n&&g&&n.split(" ").forEach((e=>g.store.off(e,t)))}}),[g,I]),e.useEffect((()=>{L.current&&N&&w(k)}),[g,y,N]);const E=[x,g,N];if(E.t=x,E.i18n=g,E.ready=N,N)return E;if(!N&&!m)return E;throw new Promise((e=>{s.lng?o(g,s.lng,b,(()=>e())):a(g,b,(()=>e()))}))}export{g as i,h as u};
