import{r as m}from"./react-dom@18.2.0_react@18.2.0-5a4ccd58.js";import"./hoist-non-react-statics@3.3.2-45eb0518.js";import{r as i}from"./react@18.2.0-9cdefec6.js";import"./react-is@18.2.0-8137d776.js";import{j as g}from"./@ant-design_icons@4.7.0_react-dom@18.2.0_react@18.2.0-0d73ff6d.js";import{w as C}from"./use-sync-external-store@1.2.0_react@18.2.0-3e46b614.js";function v(e){e()}let S=v;const w=e=>S=e,E=()=>S,c=i.createContext(null);function b(){return i.useContext(c)}const N=()=>{throw new Error("uSES not initialized!")};let p=N;const D=e=>{p=e},L=(e,o)=>e===o;function R(e=c){const o=e===c?b:()=>i.useContext(e);return function(t,s=L){const{store:n,subscription:a,getServerState:u}=o(),l=p(a.addNestedSub,n.getState,u||n.getState,t,s);return i.useDebugValue(l),l}}const q=R();function U(){const e=E();let o=null,r=null;return{clear(){o=null,r=null},notify(){e(()=>{let t=o;for(;t;)t.callback(),t=t.next})},get(){let t=[],s=o;for(;s;)t.push(s),s=s.next;return t},subscribe(t){let s=!0,n=r={callback:t,next:null,prev:r};return n.prev?n.prev.next=n:o=n,function(){!s||o===null||(s=!1,n.next?n.next.prev=n.prev:r=n.prev,n.prev?n.prev.next=n.next:o=n.next)}}}}const d={notify(){},get:()=>[]};function k(e,o){let r,t=d;function s(y){return l(),t.subscribe(y)}function n(){t.notify()}function a(){f.onStateChange&&f.onStateChange()}function u(){return Boolean(r)}function l(){r||(r=o?o.addNestedSub(a):e.subscribe(a),t=U())}function h(){r&&(r(),r=void 0,t.clear(),t=d)}const f={addNestedSub:s,notifyNestedSubs:n,handleChangeWrapper:a,isSubscribed:u,trySubscribe:l,tryUnsubscribe:h,getListeners:()=>t};return f}const B=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",V=B?i.useLayoutEffect:i.useEffect;function O({store:e,context:o,children:r,serverState:t}){const s=i.useMemo(()=>{const u=k(e);return{store:e,subscription:u,getServerState:t?()=>t:void 0}},[e,t]),n=i.useMemo(()=>e.getState(),[e]);return V(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),n!==e.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,n]),g((o||c).Provider,{value:s,children:r})}function x(e=c){const o=e===c?b:()=>i.useContext(e);return function(){const{store:t}=o();return t}}const z=x();function H(e=c){const o=e===c?z:x(e);return function(){return o().dispatch}}const _=H();D(C.exports.useSyncExternalStoreWithSelector);w(m.exports.unstable_batchedUpdates);export{O as P,q as a,_ as u};
