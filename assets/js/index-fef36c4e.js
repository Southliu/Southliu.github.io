import{c as en}from"./react-dom@18.2.0_react@18.2.0-82c339a3.js";import{H as tn}from"./react-router-dom@6.4.3_biqbaboplfbrettd7655fr4n2y-1d39b061.js";import{r as l,R as U}from"./react@18.2.0-693b9b6f.js";import{n as Je}from"./nprogress@0.2.0-8aacfeb3.js";import{I as P}from"./@iconify_react@3.2.2_react@18.2.0-e0a44599.js";import{j as s,b as y,F as L}from"./@ant-design_cssinjs@1.0.2_biqbaboplfbrettd7655fr4n2y-8bfcb13e.js";import{c as Fe,a as nn}from"./@reduxjs_toolkit@1.9.0_k4ae6lp43ej6mezo3ztvx6pykq-5f80bdab.js";import{u as W,a as E,P as sn}from"./react-redux@8.0.5_cn3ejhfta5lq2dae4xucvtkwvu-f8de23c1.js";import{u as J,a as ke,O as on,b as rn}from"./react-router@6.4.3_react@18.2.0-3cbc71e7.js";import"./hoist-non-react-statics@3.3.2-45eb0518.js";import"./react-is@18.2.0-8137d776.js";import{B as G,m as K,S as an,T as lt,a as ct,D as ut,b as dt,I as Q,c as ln,A as cn,C as mt,R as un,d as dn,e as mn,f as pn,U as hn,F as O,g as fn,h as gn,i as pt,j as xn,M as Ee,k as re,P as yn,l as bn,n as ht,o as He,p as Cn,q as wn,z as Fn,t as kn}from"./antd@5.0.2_biqbaboplfbrettd7655fr4n2y-0009329d.js";import{a as ft}from"./axios@0.27.2-acb20190.js";import{a as gt,U as En}from"./crypto-js@4.1.1-4aed508b.js";import{d as R}from"./dayjs@1.11.6-59794676.js";import{u as je,a as Sn}from"./ahooks@3.7.2_react@18.2.0-5512fd36.js";import"./@wangeditor_editor@5.1.23-ae9fde5d.js";import{c as Dn,u as vn}from"./@wangeditor_editor-for-react@1.0.6_g2n2jaet4p6hcjvgwca4efbhfm-ab68916a.js";import{S as Bn,P as Nn,B as An,G as Pn,J as xt,K as Tn,N as $n,O as In,T as Rn,V as _n,c as Ln,W as Mn,X as Xe}from"./@ant-design_icons@4.8.0_biqbaboplfbrettd7655fr4n2y-c882b5c4.js";import{K as On,r as Se}from"./react-activation@0.12.2_react@18.2.0-d862e131.js";import{u as zn,i as Hn,a as jn,b as Kn,c as Un,d as Vn,e as Wn,f as Yn,g as qn,h as Gn,j as Jn,k as Xn,l as Zn,m as Qn,n as es,o as ts,p as ns,q as ss,r as os,s as rs,t as as,v as is,w as fe}from"./echarts@5.4.0-89366f14.js";import{F as ls}from"./react-window@1.8.8_biqbaboplfbrettd7655fr4n2y-ecab491c.js";import{A as cs}from"./react-virtualized-auto-sizer@1.0.7_biqbaboplfbrettd7655fr4n2y-0553a399.js";import{R as us}from"./react-resizable@3.0.4_biqbaboplfbrettd7655fr4n2y-07766747.js";import{c as ds}from"./react-draggable@4.4.5_biqbaboplfbrettd7655fr4n2y-acc098bf.js";import"./@babel_runtime@7.20.1-c09c1810.js";import"./scheduler@0.23.0-65b5f0cc.js";import"./@remix-run_router@1.0.3-a37d51dc.js";import"./rc-util@5.24.6_biqbaboplfbrettd7655fr4n2y-0f35c327.js";import"./react-is@16.13.1-140c6955.js";import"./@emotion_hash@0.8.0-b8f6374b.js";import"./@emotion_unitless@0.7.5-1bd516b4.js";import"./stylis@4.1.3-2a3770a4.js";import"./immer@9.0.16-794b725b.js";import"./redux@4.2.0-52fa0e6e.js";import"./redux-thunk@2.4.2_redux@4.2.0-b59b9d2c.js";import"./use-sync-external-store@1.2.0_react@18.2.0-0220dd7b.js";import"./classnames@2.3.2-d75d9a59.js";import"./rc-resize-observer@1.2.0_biqbaboplfbrettd7655fr4n2y-dfe0dbb2.js";import"./resize-observer-polyfill@1.5.1-1e2b0dc8.js";import"./rc-motion@2.6.2_biqbaboplfbrettd7655fr4n2y-d68d6615.js";import"./rc-trigger@5.3.4_biqbaboplfbrettd7655fr4n2y-70145382.js";import"./rc-align@4.0.12_biqbaboplfbrettd7655fr4n2y-52f49700.js";import"./dom-align@1.12.4-7970bd81.js";import"./lodash@4.17.21-5ab11e6f.js";import"./rc-picker@3.1.2_hk4it2saoa6yurflmehlixyvbq-5c3db4fe.js";import"./shallowequal@1.1.0-be60d069.js";import"./rc-tabs@12.4.1_biqbaboplfbrettd7655fr4n2y-701e2f0d.js";import"./rc-menu@9.8.0_biqbaboplfbrettd7655fr4n2y-fe67b54d.js";import"./rc-overflow@1.2.8_biqbaboplfbrettd7655fr4n2y-2af6c45d.js";import"./rc-dropdown@4.0.1_biqbaboplfbrettd7655fr4n2y-27c5f0c7.js";import"./rc-select@14.1.14_biqbaboplfbrettd7655fr4n2y-c4e9a483.js";import"./rc-virtual-list@3.4.11_biqbaboplfbrettd7655fr4n2y-2d24322d.js";import"./rc-tree@5.7.1_biqbaboplfbrettd7655fr4n2y-3a8fd336.js";import"./rc-field-form@1.27.3_biqbaboplfbrettd7655fr4n2y-6f8c4297.js";import"./async-validator@4.2.5-f1555ba6.js";import"./scroll-into-view-if-needed@2.2.29-43a47374.js";import"./compute-scroll-into-view@1.0.17-4f947f73.js";import"./rc-dialog@9.0.2_biqbaboplfbrettd7655fr4n2y-85487cbb.js";import"./@rc-component_portal@1.0.3_biqbaboplfbrettd7655fr4n2y-3b565952.js";import"./rc-input-number@7.3.11_biqbaboplfbrettd7655fr4n2y-2ca8a13d.js";import"./rc-notification@5.0.0-alpha.9_biqbaboplfbrettd7655fr4n2y-16eb8ce6.js";import"./rc-rate@2.9.2_biqbaboplfbrettd7655fr4n2y-a6cc260e.js";import"./rc-slider@10.0.1_biqbaboplfbrettd7655fr4n2y-54d9f523.js";import"./@ctrl_tinycolor@3.4.1-87b86e7f.js";import"./rc-switch@4.0.0_biqbaboplfbrettd7655fr4n2y-8ea51384.js";import"./rc-table@7.26.0_biqbaboplfbrettd7655fr4n2y-670da54a.js";import"./rc-pagination@3.2.0_biqbaboplfbrettd7655fr4n2y-3734ffa9.js";import"./rc-checkbox@2.3.2_biqbaboplfbrettd7655fr4n2y-e43cc9e9.js";import"./rc-input@0.1.4_biqbaboplfbrettd7655fr4n2y-455c20c7.js";import"./rc-textarea@0.4.7_biqbaboplfbrettd7655fr4n2y-46af9267.js";import"./@ant-design_colors@6.0.0-41e78357.js";import"./rc-tree-select@5.5.5_biqbaboplfbrettd7655fr4n2y-50ebb405.js";import"./rc-upload@4.3.4_biqbaboplfbrettd7655fr4n2y-050aac36.js";import"./rc-progress@3.4.1_biqbaboplfbrettd7655fr4n2y-fc69ecdd.js";import"./rc-tooltip@5.2.2_biqbaboplfbrettd7655fr4n2y-046915ec.js";import"./@ant-design_icons-svg@4.2.1-c289f888.js";import"./szfe-tools@0.0.0-beta.7-af94c52b.js";import"./create-react-context@0.3.0_react@18.2.0-0410c15e.js";import"./prop-types@15.8.1-20765e74.js";import"./gud@1.0.0-d04c3b73.js";import"./warning@4.0.3-84a434bd.js";import"./react-node-key@0.4.0_react@18.2.0-9357c659.js";import"./zrender@5.4.0-eaf71f4d.js";import"./tslib@2.3.0-6fdb4d67.js";import"./memoize-one@5.2.1-b0f16465.js";import"./clsx@1.2.1-9203a203.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function ms(e){const t=[];for(let n=0;n<e.length;n++)e[n].path!=="login"&&t.push(e[n]);return t}const ps=[{label:"\u7CFB\u7EDF\u7BA1\u7406",key:"system",icon:s(P,{icon:"ion:settings-outline"}),children:[{label:"\u7528\u6237\u7BA1\u7406",key:"/system/user",rule:"/authority/user"},{label:"\u83DC\u5355\u7BA1\u7406",key:"/system/menu",rule:"/authority/menu"}]}],hs=[{label:"\u7EC4\u4EF6",key:"demo",icon:s(P,{icon:"fluent:box-20-regular"}),children:[{label:"\u526A\u5207\u677F",key:"/demo/copy",rule:"/demo/copy"},{label:"\u6C34\u5370",key:"/demo/watermark",rule:"/demo/watermark"},{label:"\u865A\u62DF\u6EDA\u52A8",key:"/demo/virtualScroll",rule:"/demo/virtualScroll"},{label:"\u5BCC\u6587\u672C",key:"/demo/editor",rule:"/demo/editor"},{label:"\u5C42\u7EA71",key:"/demo/level1",children:[{label:"\u5C42\u7EA72",key:"/demo/level1/level2",children:[{label:"\u5C42\u7EA73",key:"/demo/level1/level2/level3",rule:"/demo/watermark"}]}]}]}],V=[{label:"\u4EEA\u8868\u76D8",key:"dashboard",icon:s(P,{icon:"la:tachometer-alt"}),children:[{label:"\u6570\u636E\u603B\u89C8",key:"/dashboard",rule:"/dashboard"}]},...hs,...ps];function Ke(e){const t=ae(e),n=[];if(t.length>0&&n.push(t[0]),t.length>2){let o="/"+t[0];for(let r=1;r<t.length-1;r++)o+="/"+t[r],n.push(o)}return n}function fs(e,t){const n=[],o=ae(e);let r=0;const a=o.length;for(let i=0;i<t.length;i++){const{path:c}=t[i];if((c==null?void 0:c[r])===o[r]&&(n.push(t[i].label),r<a-1&&r++),r===a)return n}return n}function ae(e){if(!e||typeof e!="string")return[];const t=(e==null?void 0:e.split("/"))||[];return(t==null?void 0:t[0])===""&&t.shift(),t}function yt(e){var i,c;const{menus:t,permissions:n,value:o}=e;let{currentPath:r,result:a}=e;if(!(t!=null&&t.length)||!o)return[];r||(r=[]),a||(a=[]);for(let u=0;u<t.length;u++)if(le(t[u])){r.push({label:t[u].label,path:ae(t[u].key)});const m={menus:t[u].children,permissions:n,value:o,currentPath:r,result:a},d=yt(m);d.length?a.concat(d):r.pop()}else if(((c=(i=t[u])==null?void 0:i.label)==null?void 0:c.includes(o))&&De(t[u],n)){r.push({label:t[u].label,path:ae(t[u].key)});const m=fs(t[u].key,r),{label:d,key:p}=t[u];a.push({label:d,key:p,nav:m})}return a}function ee(e){var i;const{menus:t,permissions:n,key:o}=e;let{fatherNav:r,result:a}=e;if(!(t!=null&&t.length))return a;r||(r=[]),a!=null&&a.key||(a={key:"",label:"",nav:[]});for(let c=0;c<t.length;c++){if(!o||a.key)return a;if(le(t[c])){r.push(t[c].label);const u={menus:t[c].children,permissions:n,key:o,fatherNav:r,result:a},m=ee(u);m!=null&&m.key?a=m:r.pop()}else if(((i=t[c])==null?void 0:i.key)===o&&De(t[c],n)){r.push(t[c].label);const{label:u,key:m}=t[c];m&&(a={label:u,key:m,nav:r})}}return a}function bt(e,t){const n=[];for(let o=0;o<e.length;o++){if(le(e[o])){const r=bt(e[o].children,t);e[o].children=r!=null&&r.length?r:void 0}(De(e[o],t)||le(e[o]))&&n.push(e[o])}return n}function ie(e,t,n=""){if(n)return n;for(let o=0;o<e.length;o++){if(le(e[o])&&!n){const r=ie(e[o].children,t,n);if(r)return n=r,n}De(e[o],t)&&!le(e[o])&&(n=e[o].key)}return n}function De(e,t){return t==null?void 0:t.includes((e==null?void 0:e.rule)||"")}function le(e){var t;return Boolean((t=e.children)==null?void 0:t.length)}const Ct=Fe({name:"tabs",initialState:{isLock:!1,isMaximize:!1,activeKey:"",nav:[],tabs:[]},reducers:{toggleLock:(e,t)=>{e.isLock=!!t.payload},toggleMaximize:(e,t)=>{e.isMaximize=!!t.payload},setActiveKey:(e,t)=>{e.activeKey=t.payload},setNav:(e,t)=>{e.nav=t.payload},addTabs:(e,t)=>{const{tabs:n}=e,{payload:o}=t;n.find(a=>a.key===o.key)||n.push(o),n[0].closable=(n==null?void 0:n.length)>1},closeTabs:(e,t)=>{const{tabs:n}=e,{payload:o}=t,r=n.findIndex(a=>a.key===o);if(r>=0&&n.splice(r,1),o===e.activeKey){let a="";r===0?a=n[r].key:a=n[r-1].key,e.activeKey=a,e.isLock=!0}n[0].closable=(n==null?void 0:n.length)>1},closeLeft:(e,t)=>{const{tabs:n}=e,{payload:o}=t,r=n.findIndex(a=>a.key===o);r>=0&&n.splice(0,r),e.activeKey=n[0].key,n[0].closable=(n==null?void 0:n.length)>1},closeRight:(e,t)=>{const{tabs:n}=e,{payload:o}=t,r=n.findIndex(a=>a.key===o);r>=0&&n.splice(r+1,n.length-r-1),e.activeKey=n[n.length-1].key,n[0].closable=(n==null?void 0:n.length)>1},closeOther:(e,t)=>{const{tabs:n}=e,{payload:o}=t,r=n.find(a=>a.key===o);r&&(e.tabs=[r],e.activeKey=r.key,e.isLock=!0),n[0].closable=!1},closeAllTab:e=>{e.tabs=[]}}}),{toggleLock:gs,toggleMaximize:xs,setActiveKey:ne,setNav:be,addTabs:ce,closeTabs:wt,closeLeft:ys,closeRight:bs,closeOther:Cs,closeAllTab:ws}=Ct.actions,Fs=Ct.reducer,ks="_animation_1tk4a_1",Es="_shake_1tk4a_1",Ft={animation:ks,shake:Es};function Ue(){const e=J(),t=W(),n=E(r=>r.user.permissions),o=()=>{const r=ie(V,n);e(r);const i=ee({menus:V,permissions:n,key:r});i!=null&&i.key&&(t(ne(i.key)),t(ce(i)))};return y("div",{className:"absolute left-50% top-50% -translate-x-1/2 -translate-y-1/2 text-center",children:[s("h1",{className:`${Ft.animation} w-full text-6rem font-bold`,children:"403"}),s("p",{className:"w-full text-20px font-bold mt-15px text-dark-700",children:"\u5F88\u62B1\u6B49\uFF0C\u60A8\u7684\u8BBF\u95EE\u8BF7\u6C42\u88AB\u7981\u6B62!"}),s(G,{className:"mt-25px margin-auto",onClick:o,children:"\u8FD4\u56DE\u9996\u9875"})]})}const Ss="/assets/png/welcome-49086098.png";function Ds(){return s("div",{className:"flex justify-center",children:s("img",{src:Ss,alt:"Image",className:"w-980px h-full container"})})}function vs(){const e=J(),t=W(),n=E(r=>r.user.permissions),o=()=>{const r=ie(V,n);e(r);const i=ee({menus:V,permissions:n,key:r});i!=null&&i.key&&(t(ne(i.key)),t(ce(i)))};return y("div",{className:"absolute left-50% top-50% -translate-x-1/2 -translate-y-1/2 text-center",children:[s("h1",{className:`${Ft.animation} w-full text-6rem font-bold`,children:"404"}),s("p",{className:"w-full text-20px font-bold mt-15px text-dark-700",children:"\u5F53\u524D\u9875\u9762\u65E0\u6CD5\u8BBF\u95EE\uFF0C\u53EF\u80FD\u6CA1\u6743\u9650\u6216\u5DF2\u5220\u9664"}),s(G,{className:"mt-25px margin-auto",onClick:o,children:"\u8FD4\u56DE\u9996\u9875"})]})}const Ze="\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF",$e="admin_token",kt="__Vite_Admin_Secret__",me="theme_key",he="\u8BF7\u8F93\u5165",q="\u8BF7\u9009\u62E9",Et="responsive",se=[{required:!0,message:he}],Re=[{required:!0,message:q}],Bs="https://www.fastmock.site/mock/bdd0efa89c5ddba1b003043010702b77/v1",Qe=`${Bs}/authority/file/upload-file`,Ce="\u65B0\u589E",St=e=>`\u7F16\u8F91${e?`(${e})`:""}`,Ns={pattern:/^(?=.*\d)(?=.*[a-zA-Z])[\da-zA-Z~!@#$%^&*+\.\_\-*]{6,30}$/,message:"\u5BC6\u7801\u4E3A6-30\u4F4D\u5FC5\u987B\u5305\u542B\u5B57\u6BCD\u548C\u6570\u5B57!"};function As(e,t=kt){const n=JSON.stringify(e);return gt.exports.encrypt(n,t).toString()}function Ps(e,t=kt){const o=gt.exports.decrypt(e,t).toString(En);return o?JSON.parse(o):null}const Ts=60*60*24*2;function $s(e,t,n=Ts){const o=n!==null?new Date().getTime()+n*1e3:null,a=As({value:t,expire:o});localStorage.setItem(e,a)}function Is(e){const t=localStorage.getItem(e);if(t){let n=null;try{n=Ps(t)}catch{K.error({content:"\u6570\u636E\u89E3\u5BC6\u5931\u8D25",key:"decryption"})}if(n){const{value:o,expire:r}=n;if(r===null||r>=Date.now())return o}return Dt(e),null}return null}function Dt(e){localStorage.removeItem(e)}function ve(){return[()=>Is($e)||"",o=>{$s($e,o)},()=>{Dt($e)}]}const Rs="https://www.fastmock.site/mock/bdd0efa89c5ddba1b003043010702b77/v1",pe=[],_s=ft.CancelToken,Ls=_s.source(),M=ft.create({baseURL:Rs,timeout:180*1e3}),de=(e,t)=>{console.error("\u9519\u8BEF\u4FE1\u606F:",e),K.error({content:t||e||"\u670D\u52A1\u5668\u9519\u8BEF",key:"error"})};M.interceptors.request.use(e=>{const[t]=ve(),n=t()||"";(e==null?void 0:e.headers)&&n&&(e.headers.Authorization=`Bearer ${n}`);const o=JSON.stringify(e.url)+JSON.stringify(e.data)+"&"+e.method;return pe.includes(o)?Ls.cancel():pe.push(o),e},e=>(de(e,"\u670D\u52A1\u5668\u9519\u8BEF"),Promise.reject(e)));M.interceptors.response.use(e=>{const t=e.data,n=JSON.stringify(e.config.url)+JSON.stringify(e.config.data)+"&"+e.config.method,o=pe.findIndex(r=>r===n);return pe.splice(o,1),(t==null?void 0:t.code)===0?(de(t==null?void 0:t.message,"\u6743\u9650\u4E0D\u8DB3\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55"),Promise.reject(e)):(t==null?void 0:t.code)===601||(t==null?void 0:t.code)!==200?(de(t==null?void 0:t.message),Promise.reject(e)):Promise.resolve(e)},e=>(pe.length=0,de(e,"\u670D\u52A1\u5668\u9519\u8BEF"),Promise.reject(e)));function Ms(e){return M.get("/dashboard",{params:e})}const Os=[{label:"\u65E5\u671F",name:"pay_date",component:"RangePicker",componentProps:{allowClear:!1}},{label:"\u6E38\u620FID",name:"game_ids",wrapperCol:200,component:"GameSelect"},{label:"\u5408\u4F5C\u516C\u53F8",name:"partners",wrapperCol:200,component:"PartnerSelect"},{label:"\u5168\u670D\u5145\u503C",name:"all_pay",wrapperCol:15,component:"Checkbox"}];function X(e){const t=Ze+e?`${e} - ${Ze}`:"";l.exports.useEffect(()=>{document.title=t},[t])}const oe="YYYY-MM-DD",Ie="YYYY-MM-DD hh:mm:ss",zs=[{label:"\u5F00\u542F",value:1},{label:"\u5173\u95ED",value:0}],vt=[{label:"\u663E\u793A",value:1},{label:"\u9690\u85CF",value:0}],Bt=[{value:"authority",label:"\u6743\u9650\u7CFB\u7EDF"},{value:"platform",label:"\u8FD0\u8425\u7CFB\u7EDF"},{value:"stat",label:"\u7EDF\u8BA1\u7CFB\u7EDF"},{value:"ad",label:"\u6295\u653E\u7CFB\u7EDF"},{value:"cs",label:"\u5BA2\u670D\u7CFB\u7EDF"},{value:"log",label:"\u65E5\u5FD7\u7CFB\u7EDF"}],Hs=[{value:"create",label:"\u521B\u5EFA"},{value:"update",label:"\u66F4\u65B0"},{value:"delete",label:"\u5220\u9664"},{value:"detail",label:"\u8BE6\u60C5"},{value:"export",label:"\u5BFC\u51FA"},{value:"status",label:"\u72B6\u6001"}];function Nt(e){switch(e){case"Switch":case"Checkbox":case"CheckboxGroup":return"checked";case"Upload":return"fileList";default:return"value"}}function js(e){switch(e){case"Select":return{allowClear:!0,placeholder:q};case"InputNumber":return{placeholder:he};case"Checkbox":return{};case"CheckboxGroup":return{};case"DatePicker":return{placeholder:q,format:oe};case"RangePicker":return{placeholder:[q,q],format:[oe,oe]};case"TimePicker":return{placeholder:q,format:Ie};case"TimeRangePicker":return{placeholder:[q,q],format:[Ie,Ie]};default:return{allowClear:!0,placeholder:he}}}function Ks(e){return`${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,",")}function At(e,t){if(e.length===0)return[];const n=[];for(let o=0;o<e.length;o++){const r=e[o],a=t(r),i=r.children?At(r.children,t):void 0;n.push({...a,children:i})}return n}function Us(e){return new Promise((t,n)=>{M.get("/authority/common/games",{params:e}).then(o=>{var a;const r=At((a=o==null?void 0:o.data)==null?void 0:a.data,i=>{const{id:c,name:u}=i;return{value:c,label:`${c}:${u}`}});t(r)}).catch(()=>n([]))})}function Pt(){return s("div",{className:"absolute left-50% top-50% -translate-x-1/2 -translate-y-1/2 text-center",children:s(an,{spinning:!0})})}function Tt(e){const[t,n]=l.exports.useState(!1),[o,r]=l.exports.useState([]),a={...e};delete a.api,delete a.params;const i=async()=>{var u;try{n(!0);const m=await((u=e.api)==null?void 0:u.call(e,e==null?void 0:e.params));r(m||[])}finally{n(!1)}};return s(lt,{allowClear:!0,maxTagCount:Et,placeholder:q,...a,loading:t,treeData:o,notFoundContent:t&&s(Pt,{}),onDropdownVisibleChange:u=>{var m;u&&i(),(m=e.onDropdownVisibleChange)==null||m.call(e,u)}})}function Vs(e){return s(L,{children:s(Tt,{...e,multiple:!0,api:Us})})}function Ws(e){return new Promise((t,n)=>{M.get("/platform/partner",{params:e}).then(o=>{var a;const r=[];(a=o==null?void 0:o.data)==null||a.data.forEach(i=>{r.push({label:i.name,value:i.id})}),t(r)}).catch(()=>n([]))})}function $t(e){const[t,n]=l.exports.useState(!1),[o,r]=l.exports.useState([]),a={...e};delete a.api,delete a.params;const i=async()=>{var u;try{n(!0);const m=await((u=e.api)==null?void 0:u.call(e,e==null?void 0:e.params));r(m||[])}finally{n(!1)}};return s(ct,{allowClear:!0,maxTagCount:Et,placeholder:q,optionFilterProp:"label",...a,loading:t,options:o,notFoundContent:t&&s(Pt,{}),onDropdownVisibleChange:u=>{var m;u&&i(),(m=e.onDropdownVisibleChange)==null||m.call(e,u)}})}function Ys(e){return s($t,{...e,api:Ws,mode:"multiple"})}function qs(){Le("GameSelect",Vs),Le("PartnerSelect",Ys)}function Gs(e,t=oe){return R.isDayjs(e)?e.format(t):e}function It(e){return R.isDayjs(e)?e:R(e)}function Js(e,t=oe){if(!!e)return(e==null?void 0:e.length)>1&&R.isDayjs(e==null?void 0:e[0])&&R.isDayjs(e==null?void 0:e[1])?[e[0].format(t),e[1].format(t)]:e}function Rt(e){if(!!e)return(e==null?void 0:e.length)>1&&!R.isDayjs(e==null?void 0:e[0])&&R.isDayjs(e==null?void 0:e[1])?[R(e[0]),e[1]]:(e==null?void 0:e.length)>1&&R.isDayjs(e==null?void 0:e[0])&&!R.isDayjs(e==null?void 0:e[1])?[e[0],R(e[1])]:(e==null?void 0:e.length)>1&&!R.isDayjs(e==null?void 0:e[0])&&!R.isDayjs(e==null?void 0:e[1])?[R(e[0]),R(e[1])]:e}function et(e,t){var n;for(let o=0;o<e.length;o++)if(e[o].name===t)return((n=e[o].componentProps)==null?void 0:n.format)||oe;return oe}function _t(e,t){var n;for(const o in e){if(((n=e[o])==null?void 0:n.length)===2&&R.isDayjs(e[o][0])&&R.isDayjs(e[o][1])){const r=et(t,o);e[o]=Js(e[o],r)}if((e==null?void 0:e[o])&&R.isDayjs(e[o])){const r=et(t,o);e[o]=Gs(e[o],r)}}return e}function Xs(e){const{value:t}=e,n={...e};return t&&(n.value=It(t)),s(ut,{...n})}const{RangePicker:Zs}=ut;function Qs(e){const{value:t}=e,n={...e};return t&&(n.value=Rt(t)),s(Zs,{...n})}function eo(e){const{value:t}=e,n={...e};return t&&(n.value=It(t)),s(dt,{...n})}const{RangePicker:to}=dt;function no(e){const{value:t}=e,n={...e};return t&&(n.value=Rt(t)),s(to,{...n})}const so=new Array(5).fill(0).map((e,t)=>t+1);function oo(e){const{strength:t}=e;return s("div",{className:"flex items-center",children:so.map(n=>s("div",{className:`
              w-19%
              h-5px
              mt-5px
              mr-1%
              rounded-10px
              bg-light-900
              ${n<=t&&t>3?"!bg-green-400":""}
              ${n<=t&&t===3?"!bg-yellow-400":""}
              ${n<=t&&t<3?"!bg-red-400":""}
            `},n))})}function _e(e){const{value:t}=e,[n,o]=l.exports.useState(0),r=je(a=>{if(!a)return;let i=0;/\d/.test(a)&&i++,/[a-z]/.test(a)&&i++,/[A-Z]/.test(a)&&i++,a.length>10&&i++,/[\.\~\@\#\$\^\&\*]/.test(a)&&i++,o(i)},{wait:500});return l.exports.useEffect(()=>{r.run(t)},[r,t]),y(L,{children:[s(Q.Password,{value:t,allowClear:!0,placeholder:he,autoComplete:"password",...e,onChange:a=>{var i;(i=e.onChange)==null||i.call(e,a),r.run(a.target.value)}}),!!n&&s(oo,{strength:n})]})}function Lt(e){const{value:t,height:n,className:o,onChange:r}=e,[a,i]=l.exports.useState(null),[c,u]=l.exports.useState(t),m={},d={placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9...",MENU_CONF:{uploadImage:{server:Qe},uploadVideo:{server:Qe}}};return l.exports.useEffect(()=>{u(t||"")},[t]),l.exports.useEffect(()=>()=>{a!==null&&(a.destroy(),i(null))},[a]),y("div",{className:o,style:{border:"1px solid #ccc",zIndex:100},children:[s(Dn,{editor:a,defaultConfig:m,mode:"default",style:{borderBottom:"1px solid #ccc"}}),s(vn,{defaultConfig:d,value:c,onCreated:i,onChange:x=>{u(x.getHtml()),r(x.getHtml())},mode:"default",style:{height:n||300,overflowY:"hidden"}})]})}const T=new Map;T.set("Input",Q);T.set("InputNumber",ln);T.set("InputPassword",Q.Password);T.set("AutoComplete",cn);T.set("Select",ct);T.set("TreeSelect",lt);T.set("Checkbox",mt);T.set("CheckboxGroup",mt.Group);T.set("RadioGroup",un.Group);T.set("Switch",dn);T.set("Rate",mn);T.set("Slider",pn);T.set("Upload",hn);T.set("DatePicker",Xs);T.set("RangePicker",Qs);T.set("TimePicker",eo);T.set("TimeRangePicker",no);T.set("ApiSelect",$t);T.set("ApiTreeSelect",Tt);T.set("PasswordStrength",_e);T.set("Editor",Lt);qs();function Mt(e){const{component:t,componentProps:n}=e;if(t==="customize"){const{render:r}=e;if(!r)return s(L,{});Le("customize",r)}const o=T.get(t);return o?s(o,{...js(t),...n}):s(L,{})}function Le(e,t){T.set(e,t)}function ro(e){const{list:t,data:n,formRef:o,isLoading:r,isSearch:a,isCreate:i,children:c,labelCol:u,wrapperCol:m,handleFinish:d}=e,[p]=O.useForm();l.exports.useImperativeHandle(o,()=>({getFieldValue:f=>p.getFieldValue(f),getFieldsValue:()=>p.getFieldsValue(),handleReset:()=>{p.resetFields()},handleSubmit:()=>{p.submit()}}));const x=()=>{var f;(f=e.onCreate)==null||f.call(e)};return s("div",{id:"searches",className:"py-3",children:y(O,{name:"basic",layout:"inline",form:p,labelCol:u||{span:8},wrapperCol:m||{span:16},initialValues:n,onFinish:f=>{if(d){const h=_t(f,t);d==null||d(h)}},onFinishFailed:f=>{console.warn("\u641C\u7D22\u9519\u8BEF:",f)},autoComplete:"off",children:[t==null?void 0:t.map(f=>s(O.Item,{label:f.label,name:f.name,className:"!mb-5px",labelCol:{style:{width:f.labelCol}},wrapperCol:{style:{width:f.wrapperCol}},rules:f.rules,valuePropName:Nt(f.component),children:Mt(f)},`${f.name}`)),a!==!1&&s(O.Item,{children:s(G,{type:"primary",htmlType:"submit",className:"!mb-5px",loading:r,icon:s(Bn,{}),children:"\u641C\u7D22"})}),i!==!1&&s(O.Item,{children:s(G,{type:"primary",className:"!mb-5px",icon:s(Nn,{}),onClick:x,children:"\u65B0\u589E"})}),c]})})}const Ve=l.exports.memo(ro);function We(e){const{isPermission:t,children:n}=e,{pathname:o}=ke();return y("div",{className:"min-w-980px h-full p-10px box-border overflow-auto",children:[t!==!1&&s("div",{id:"content",className:`
            relative
            box-border
            px-5
            pt-5
            pb-2
          `,children:s(On,{id:o,name:o,children:n})}),t===!1&&s(Ue,{})]})}zn([Hn,jn,Kn,Un,Vn,Wn,Yn,qn,Gn,Jn,Xn,Zn,Qn,es,ts,ns,ss,os,rs,as,is]);function Ot(e){let{width:t,height:n}=e;const{className:o,option:r}=e,a=l.exports.useRef(null),[i,c]=l.exports.useState(!1),[u,m]=l.exports.useState(null);t||(t="100%"),n||(n="100%"),l.exports.useEffect(()=>{m(setTimeout(()=>{c(!0)},100))},[]),l.exports.useEffect(()=>()=>{u&&(clearTimeout(u),m(null))},[u]);const d=()=>{var x;a.current&&fe!==null&&fe!==void 0&&((x=fe)==null||x.dispose(a.current))},p=l.exports.useCallback(()=>{i&&(d(),fe.init(a.current).setOption(r))},[i,r]);return l.exports.useEffect(()=>{r&&i&&p()},[p,i,r]),l.exports.useEffect(()=>(p(),window.addEventListener("resize",()=>p(),!1),()=>{window.removeEventListener("resize",()=>p()),d()}),[p]),s(L,{children:i&&s("div",{ref:a,className:`echarts ${o}`,style:{height:n,width:t}})})}const ao={title:{text:"\u6709\u6548\u5145\u503C\u5360\u6BD4",left:30,top:5},xAxis:{type:"category",boundaryGap:!1,data:["07-11","07-12","07-13","07-14","07-15","07-16","07-17"]},yAxis:{type:"value"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},series:[{name:"\u5145\u503C\u6570",type:"line",areaStyle:{color:"#1890ff",opacity:.2},emphasis:{focus:"series"},data:[120,140,120,190,150,111,160]},{name:"\u7528\u6237\u6570\u6570",type:"line",areaStyle:{color:"#1890ff",opacity:.3},emphasis:{focus:"series"},data:[90,122,90,140,123,280,200]}]};function io(){return s("div",{className:"w-60% border border-gray-200 rounded-10px",children:s(Ot,{className:"w-full mt-10px",width:"100%",height:"500px",option:ao})})}const lo={title:{text:"\u5F53\u65E5\u5145\u503C\u6392\u884C",left:30,top:5},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",data:["\u5B64\u72EC\u7684\u9738\u6C14","\u51CC\u4E91\u9F50\u5929","\u590F\u81F3\u672A\u81F3","\u53F6\u7483\u6EAA","\u826F\u8FB0\u7F8E\u666F\u5948\u4F55\u5929","\u51F9\u51F8\u66FC","\u516D\u6708\u79BB\u522B","\u79BB\u6B4C","\u7EC8\u6781\u6218\u72AF","\u6C34\u6D17\u6674\u7A7A","\u5B89\u57CE\u5982\u6CAB","\u6E23\u6E23\u7070"]},series:[{name:"\u5145\u503C\u6570",type:"bar",data:[96285,102352,111235,112356,123984,138205,142059,152362,162231,164324,178291,192830]}]};function co(){return s("div",{className:"w-38% border border-gray-200 rounded-10px",children:s(Ot,{className:"w-full mt-10px",width:"100%",height:"500px",option:lo})})}function tt(e){const{prefix:t,start:n,end:o}=e,[r,a]=l.exports.useState(n),[i,c]=l.exports.useState(null);return l.exports.useEffect(()=>{const u=o-n,m=2*60,d=Math.floor(u/m)||1;c(setInterval(()=>{a(p=>p+d)}))},[o,n]),l.exports.useEffect(()=>{r>=o&&(i&&(clearInterval(i),c(null)),a(o))},[o,r,i]),l.exports.useEffect(()=>()=>{i&&(clearInterval(i),c(null))},[i]),y("span",{children:[t,Ks(r)]})}const uo=[{title:"\u7528\u6237\u6570",num:14966,all:16236,icon:"icon-park:peoples"},{title:"\u5145\u503C\u6570",num:4286,all:6142,icon:"icon-park:paper-money"},{title:"\u8BA2\u5355\u6570",num:5649,all:5232,icon:"icon-park:transaction-order"},{title:"\u6E38\u620F\u6570",num:619,all:2132,icon:"icon-park:game-handle"}];function mo(){return s(fn,{gutter:16,children:uo.map(e=>s(gn,{span:6,children:y("div",{className:`
                border
                border-gray-200
                px-30px
                py-20px
                box-border
                rounded-10px
              `,children:[s("div",{className:"text-20px font-bold",children:e.title}),y("div",{className:"flex items-center justify-between text-35px mb-15px",children:[s(tt,{className:"font-bold",start:0,end:e.num}),s(P,{icon:e.icon})]}),y("div",{className:"flex align-center justify-between",children:[s("span",{children:"\u603B\u6570\uFF1A"}),s(tt,{start:0,end:e.all})]})]})},e.title))})}const nt={pay_date:["2022-10-19","2022-10-29"]};function po(){X("\u6570\u636E\u5C55\u89C8");const[e,t]=l.exports.useState(!1),n=l.exports.useCallback(async o=>{o.all_pay=o.all_pay?1:void 0;const r={...o};try{t(!0),await Ms(r)}finally{t(!1)}},[]);return l.exports.useEffect(()=>{n(nt)},[n]),s(We,{isPermission:!0,children:y(L,{children:[s(Ve,{list:Os,data:nt,isLoading:e,isCreate:!1,handleFinish:n}),s("div",{className:"py-10px",children:s(mo,{})}),y("div",{className:"flex justify-between",children:[s(io,{}),s(co,{})]})]})})}function ho(){return X("\u52A0\u8F7D\u4E2D"),s("div",{className:`
      absolute
      left-50%
      top-50%
      -rotate-x-50%
      -rotate-y-50%
    `,children:s(P,{className:"text-40px animate-spin",icon:"ri:loader-2-fill"})})}const zt=Fe({name:"public",initialState:{theme:"light",isFullscreen:!1},reducers:{setThemeValue:(e,t)=>{e.theme=t.payload},setFullscreen:(e,t)=>{e.isFullscreen=t.payload}}}),{setThemeValue:Me,setFullscreen:st}=zt.actions,fo=zt.reducer;function go(e){return M.post("/login",e)}function xo(e){return M.post("/update-password",e)}const Ht=Fe({name:"user",initialState:{permissions:[],userInfo:{id:0,username:"",email:"",phone:""}},reducers:{setUserInfo:(e,t)=>{e.userInfo=t.payload},setPermissions:(e,t)=>{e.permissions=t.payload},clearInfo:e=>{e.userInfo={id:0,username:"",email:"",phone:""}}}}),{setUserInfo:jt,setPermissions:Oe,clearInfo:yo}=Ht.actions,bo=Ht.reducer,Kt=e=>{const t=[];for(let n=0;n<e.length;n++){const{id:o,operation:r}=e[n];t.push(`/${o}`);for(let a=0;a<r.length;a++)t.push(`/${o}/${r[a]}`)}return t},te=(e,t)=>!t||t.length===0?!1:t.includes(e),Ut="/assets/svg/logo-63a26457.svg";function Vt(){X("\u767B\u5F55");const e=J(),t=W(),[n,o]=ve(),[r,a]=l.exports.useState(!1),i=E(d=>d.user.permissions),c=localStorage.getItem(me)||"light";return l.exports.useEffect(()=>{c||localStorage.setItem(me,"light"),c==="dark"&&(document.body.className="theme-dark"),t(Me(c==="dark"?"dark":"light"))},[c]),l.exports.useEffect(()=>{if(n()){const d=ie(V,i);e(d)}},[n,e,i]),s(L,{children:s("div",{className:`
        ${c==="dark"?"bg-black text-white":"bg-light-400"}
        w-screen
        h-screen
        relative
      `,children:y("div",{className:`
          w-300px
          h-290px
          p-30px
          rounded-5px
          ${c==="dark"?"bg-black bg-dark-200":"bg-white"}
          box-border
          absolute
          left-1/2
          top-1/2
          -translate-x-1/2
          -translate-y-1/2
        `,children:[y("div",{className:"pb-30px pt-10px flex items-center justify-center",children:[s("img",{className:"mr-2 object-contain",width:"30",height:"30",src:Ut,alt:"LOGO"}),s("span",{className:"text-xl font-bold tracking-2px",children:"\u7CFB\u7EDF\u767B\u5F55"})]}),y(O,{name:"horizontal_login",autoComplete:"on",onFinish:async d=>{try{a(!0);const{data:p}=await go(d),{data:{token:x,user:g,permissions:w}}=p,f=Kt(w),h=ie(V,f);o(x),t(jt(g)),t(Oe(f)),e(h)}finally{a(!1)}},onFinishFailed:d=>{console.error("\u9519\u8BEF\u4FE1\u606F:",d)},initialValues:{username:"admin",password:"admin123456"},children:[s(O.Item,{name:"username",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}],children:s(Q,{"allow-clear":"true",placeholder:"\u7528\u6237\u540D","data-test":"username",autoComplete:"username",addonBefore:s(An,{className:"change"})})}),s(O.Item,{name:"password",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801"},Ns],children:s(Q.Password,{placeholder:"\u5BC6\u7801",autoComplete:"current-password",addonBefore:s(Pn,{className:"change"})})}),s(O.Item,{children:s(G,{type:"primary",htmlType:"submit",className:"w-full mt-5px rounded-5px tracking-2px",loading:r,children:"\u767B\u5F55"})})]})]})})})}function Wt(){const e=l.exports.useRef(null),t=l.exports.useCallback(o=>new Promise((r,a)=>{var i;try{let c=o;if(c||(c=(i=e.current)==null?void 0:i.value),!c){a("\u590D\u5236\u7684\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A");return}if(typeof c!="string"&&typeof c!="number"){a("\u590D\u5236\u7684\u5185\u5BB9\u5FC5\u987B\u662F\u5B57\u7B26\u4E32\u6216\u6570\u5B57");return}navigator.clipboard.writeText(c.toString()).then(()=>{r(c)}).catch(u=>{a(u)})}catch(c){a(c)}}),[]),n=l.exports.useCallback(()=>navigator.clipboard.readText(),[]);return[e,t,n]}const{Search:Co}=Q;function wo(e){const[,t]=Wt();return s(Co,{...e,placeholder:"\u8BF7\u8F93\u5165",enterButton:"\u590D\u5236",onSearch:o=>{if(!o)return K.warning({content:"\u8BF7\u8F93\u5165\u590D\u5236\u5185\u5BB9",key:"copy"});try{t(o),K.success({content:"\u590D\u5236\u6210\u529F",key:"copy"})}catch{K.warning({content:"\u590D\u5236\u5931\u8D25",key:"copy"})}}})}function Fo(e){const{text:t,value:n}=e,[,o]=Wt();return s(G,{...e,icon:s(P,{icon:"ant-design:copy-outlined"}),onClick:()=>{try{o(n),K.success({content:"\u590D\u5236\u6210\u529F",key:"copy"})}catch{K.warning({content:"\u590D\u5236\u5931\u8D25",key:"copy"})}},children:t})}function ko(){return X("\u526A\u5207\u677F"),y("div",{className:"max-w-350px m-30px",children:[s("h1",{children:"\u526A\u5207\u677F\uFF1A"}),s(wo,{className:"w-350px"}),y("div",{className:"flex items-center mt-50px",children:[s("span",{className:"text-lg",children:"\u5C06\u201Cadmin\u201D\u4F20\u5165\u590D\u5236\u6309\u94AE\u4E2D\uFF1A"}),s(Fo,{text:"\u590D\u5236",value:"admin"})]})]})}function Eo(){X("\u5BCC\u6587\u672C");const[e,t]=l.exports.useState("<p>hello</p>");return s("div",{className:"m-30px",children:s(Lt,{value:e,onChange:n=>t(n)})})}function So(){const e=E(n=>n.public.theme),t=({index:n,style:o})=>y("div",{className:`
        text-center
        ${n%2?"bg-#f8f8f0":""}
        ${e==="dark"&&n%2?"!bg-#141414":""}
      `,style:o,children:["Row ",n+1]});return s(cs,{children:({height:n,width:o})=>s(ls,{height:n,itemCount:1e4,itemSize:35,width:o,children:t})})}function Do(){const e=document.getElementById("content"),t=e==null?void 0:e.clientHeight,n=document.getElementById("searches"),o=n==null?void 0:n.clientHeight,r=document.getElementById("pagination"),a=r==null?void 0:r.clientHeight;let i=t||0;return o&&i>0&&(i-=o),a&&i>0&&(i-=a),i>0?i+50:450}function ot(e){const{onResize:t,width:n,...o}=e;return n?s(us,{width:n,height:0,handle:s("span",{className:"react-resizable-handle",onClick:r=>{r.stopPropagation()}}),onResize:t,draggableOpts:{enableUserSelectHack:!1},children:s("th",{...o})}):s("th",{...o})}function vo(e,t){switch(t.type){case"changeScroll":let n=t.curScrollTop||0,o=t.scrollHeight||0;const r=t.tableScrollY||0;return o<=0&&(o=0),o!==0&&r===e.tableScrollY&&(o=e.scrollHeight),e.scrollHeight&&n>e.scrollHeight&&(n=e.scrollHeight),{...e,curScrollTop:n,scrollHeight:o,tableScrollY:r};case"reset":return{...e,curScrollTop:0,scrollHeight:0};default:throw new Error("\u8868\u683C\uFF1A\u672A\u77E5\u9519\u8BEF\u7C7B\u578B!")}}function rt(e){return typeof e=="number"&&isFinite(e)}const Yt=l.exports.createContext({dispatch:void 0,renderLen:1,start:0,offsetStart:0,rowHeight:46,totalLen:0});function Bo(e){const{children:t,...n}=e,{renderLen:o,start:r,offsetStart:a}=l.exports.useContext(Yt);let i=null;if(t&&t!==null){const c=t==null?void 0:t[1];Array.isArray(c)&&c.length?i=[t==null?void 0:t[0],c.slice(r,r+o).map(u=>Array.isArray(u)?u[0]:u)]:i=t}return s("tbody",{...n,style:{transform:`translateY(-${a}px)`},children:i})}const No={rowHeight:46,curScrollTop:0,scrollHeight:0,tableScrollY:0};let ze=0;function Ao(e){var v,B,_,z,S,N;const{style:t,children:n,...o}=e,{width:r,...a}=t,[i,c]=l.exports.useReducer(vo,No),u=l.exports.useRef(null),m=l.exports.useRef(null),[d,p]=l.exports.useState((z=(_=(B=(v=n[1])==null?void 0:v.props)==null?void 0:B.data)==null?void 0:_.length)!=null?z:0);l.exports.useEffect(()=>{var C,A,b,H,$,Y;rt((b=(A=(C=n[1])==null?void 0:C.props)==null?void 0:A.data)==null?void 0:b.length)&&p((Y=($=(H=n[1])==null?void 0:H.props)==null?void 0:$.data)==null?void 0:Y.length)},[n]);const x=l.exports.useMemo(()=>{let C="auto";return i.rowHeight&&d&&(C=i.rowHeight*d+10),C},[i.rowHeight,d]);let g=0;typeof ze=="string"?g=(N=(S=u.current)==null?void 0:S.parentNode)==null?void 0:N.offsetHeight:g=ze,rt(x)&&x<g&&(g=x),g<=0&&(g=0);const w=l.exports.useMemo(()=>{let C=1;if(i.rowHeight&&d&&g)if(g<=0)C=0;else{const A=(g/i.rowHeight|0)+3;C=A>d?d:A}return C},[i.rowHeight,d,g]);let f=i.rowHeight?i.curScrollTop/i.rowHeight|0:0,h=i.rowHeight?i.curScrollTop%i.rowHeight:0;i.curScrollTop&&i.rowHeight&&i.curScrollTop>i.rowHeight?f>d-w?h=0:f>1&&(f=f-1,h+=i.rowHeight):f=0,l.exports.useEffect(()=>{var A;const C=(A=u.current)==null?void 0:A.parentNode;C&&(C.scrollTop=0),c({type:"reset"})},[d]);const D=Sn(C=>{var b,H,$;const A=(H=(b=C==null?void 0:C.target)==null?void 0:b.scrollTop)!=null?H:0;if(A!==i.curScrollTop){const Y=(($=C==null?void 0:C.target)==null?void 0:$.scrollHeight)-g;c({type:"changeScroll",curScrollTop:A,scrollHeight:Y,tableScrollY:g})}},{wait:60});return l.exports.useEffect(()=>{var A;const C=(A=u==null?void 0:u.current)==null?void 0:A.parentNode;return C&&C.addEventListener("scroll",b=>D.run(b)),()=>{C.removeEventListener("scroll",b=>D.run(b))}},[u,i.curScrollTop,g,i.scrollHeight,D]),s("div",{className:"virtualTable",ref:u,style:{width:"100%",position:"relative",height:x,boxSizing:"border-box",paddingTop:i.curScrollTop},children:s(Yt.Provider,{value:{dispatch:c,rowHeight:i.rowHeight,start:f,offsetStart:h,renderLen:w,totalLen:d},children:s("table",{...o,ref:m,style:{...a,width:r,position:"relative"},children:n})})})}function Po(e){return ze=e.height,{table:Ao,body:{wrapper:Bo}}}function To(e){const{loading:t,isZebra:n,isBordered:o,isVirtual:r,scrollX:a,scrollY:i}=e,[c,u]=l.exports.useState(e.columns);l.exports.useEffect(()=>{u(e.columns)},[e.columns]);const m=Do(),d=h=>(D,{size:v})=>{const B=[...c];B[h]={...B[h],width:v.width},u(B)},p=c.map((h,D)=>({...h,onHeaderCell:v=>({width:v.width,onResize:d(D)})})),x=Po({height:m}),g=l.exports.useMemo(()=>({header:{cell:ot},body:{wrapper:x.body.wrapper},table:x.table}),[x]),w=r!==!1?g:{header:{cell:ot}},f={...e.scroll,x:a,y:i||m};return y("div",{id:"table",className:`
        overflow-auto
        ${o!==!1?"bordered":""}
        ${n!==!1?"zebra":""}
      `,children:[!m&&s(pt,{}),m&&s(xn,{size:"small",rowKey:"id",pagination:!1,loading:t,...e,bordered:o!==!1,scroll:f,components:w,columns:p})]})}const Ye=l.exports.memo(To);function $o(){const e=[{title:"ID",dataIndex:"id",width:200},{title:"\u540D\u79F0",dataIndex:"name",width:200},{title:"\u7535\u8BDD",dataIndex:"phone",width:200},{title:"\u6570\u91CF",dataIndex:"number",width:200}],t=new Array(0).fill({});for(let n=0;n<1e4;n++){const o=n+1;t.push({id:o,name:"name"+o,phone:o*13,number:o*3})}return s(Ye,{columns:e,dataSource:t,style:{borderBottom:"1px solid rgba(0, 0, 0, .05)"}})}function Io(){return X("\u865A\u62DF\u6EDA\u52A8"),y("div",{className:"flex p-30px h-full",children:[y("div",{className:"flex flex-col mr-30px",children:[s("h2",{children:"\u865A\u62DF\u6EDA\u52A8\u5217\u8868(10000\u6761)\uFF1A"}),s("div",{className:"h-500px w-300px border border-cool-gray-100",children:s(So,{})})]}),y("div",{children:[s("h2",{children:"\u865A\u62DF\u6EDA\u52A8\u8868\u683C(10000\u6761)\uFF1A"}),s($o,{})]})]})}function Ro(){return[n=>{const{content:o,height:r,width:a,rotate:i,color:c,fontSize:u,opacity:m}=n;if(document.getElementById("south_watermark")!==null)return;const d=Math.floor(document.body.clientWidth/a)*2;let p="";for(let h=0;h<d;h++){const D=`
        display: inline-block;
        line-height: ${r}px;
        width: ${a}px;
        text-align: center;
        transform:rotate( ${i}deg);
        color: ${c};
        font-size: ${u}px;
        opacity: ${m};
        `;p+=`
        <span style="${D}">
          ${o}
        </span>
      `}const x=document.createElement("div");x.innerHTML=p;const g=Math.floor(document.body.clientHeight/r)*2||4;let w="";for(let h=0;h<g;h++)w+=`<div style="white-space: nowrap;">${x.innerHTML}</div>`;const f=document.createElement("div");f.innerHTML=w,f.id="south_watermark",f.style.position="fixed",f.style.top="0px",f.style.left="-100px",f.style.zIndex="999999",f.style.pointerEvents="none",f.style.userSelect="none",document.body.appendChild(f)},()=>{if(document.getElementById("south_watermark")!==null&&document.getElementById("south_watermark")!==null){const n=document.getElementById("south_watermark");document.body.removeChild(n)}}]}function _o(){X("\u6C34\u5370");const[e,t]=Ro();return y("div",{className:"p-30px",children:[s(G,{onClick:()=>{e({content:"\u8FD9\u662F\u6C34\u5370",height:300,width:350,rotate:-20,color:"#000",fontSize:30,opacity:.07})},children:"\u6253\u5F00\u6C34\u5370"}),s(G,{danger:!0,onClick:()=>{t()},children:"\u9690\u85CF\u6C34\u5370"})]})}function Lo(){return X("\u4E09\u5C42\u7ED3\u6784"),s("div",{className:"m-30px",children:"\u4E09\u5C42\u7ED3\u6784"})}const Mo=[{label:"\u72B6\u6001",name:"status",component:"Select",componentProps:{options:vt}},{label:"\u6A21\u5757",name:"module",wrapperCol:170,component:"Select",componentProps:{options:Bt}},{label:"\u63A7\u5236\u5668",name:"controller",component:"Input"}],Oo=e=>[{title:"ID",dataIndex:"id",width:200},{title:"\u540D\u79F0",dataIndex:"name",width:200},{title:"\u72B6\u6001",dataIndex:"status",width:200},{title:"\u6A21\u5757",dataIndex:"module",width:200},{title:"\u63A7\u5236\u5668",dataIndex:"controller",width:200},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"created_at",width:200},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updated_at",width:200},{title:"\u64CD\u4F5C",dataIndex:"operate",width:200,fixed:"right",render:(t,n)=>e(t,n)}],zo=e=>[{label:"\u540D\u79F0",name:"name",rules:se,component:"Input"},{label:"\u72B6\u6001",name:"status",rules:Re,component:"Select",componentProps:{options:vt}},{label:"\u6A21\u5757",name:"module",rules:Re,component:"Select",componentProps:{options:Bt}},{label:"\u63A7\u5236\u5668",name:"controller",rules:se,component:"Input"},{label:"\u521B\u5EFA\u83DC\u5355",name:"actions",hidden:!!e,component:"CheckboxGroup",componentProps:{options:Hs}},{label:"\u5BCC\u6587\u672C",name:"editor",component:"Editor"}];function qt(e){const{isLoading:t}=e,n={...e};return delete n.isLoading,s(G,{type:"primary",...n,loading:!!t,children:"\u7F16\u8F91"})}const{confirm:Ho}=Ee;function Gt(e){const{isLoading:t,handleDelete:n}=e,o={...e};return delete o.isLoading,delete o.handleDelete,s(G,{danger:!0,type:"primary",...o,loading:!!t,onClick:()=>{Ho({title:"\u63D0\u793A",icon:s(xt,{}),content:"\u786E\u5B9A\u8981\u5220\u9664\u5417?",okText:"\u786E\u8BA4",okType:"danger",cancelText:"\u53D6\u6D88",onOk(){n()}})},children:"\u5220\u9664"})}function jo(e){return M.get("/authority/menu/index",{params:e})}function Ko(e){return M.get(`/authority/menu/${e}`)}function Uo(e){return M.post("/authority/menu",e)}function Vo(e,t){return M.put(`/authority/menu/${e}`,t)}function Wo(e){return M.delete(`/authority/menu/${e}`)}function qe(e){const{onCancel:t}=e,[n,o]=l.exports.useState(!0),[r,a]=l.exports.useState(!1),[i,c]=l.exports.useState({left:0,top:0,bottom:0,right:0}),u=l.exports.useRef(null),m=(f,h)=>{var _;const{clientWidth:D,clientHeight:v}=window.document.documentElement,B=(_=u.current)==null?void 0:_.getBoundingClientRect();!B||c({left:-B.left+h.x,right:D-(B.right-h.x),top:-B.top+h.y,bottom:v-(B.bottom-h.y)})},d=()=>{n&&o(!1)},p=()=>{a(f=>(f||c({left:0,top:0,bottom:0,right:0}),!f))},x=()=>y("div",{className:"flex items-center justify-end absolute right-15px",children:[s(re,{className:"hover:text-#404040",placement:"bottom",title:r?"\u9000\u51FA\u6700\u5927\u5316":"\u6700\u5927\u5316",children:s("div",{className:"p-10px mt-3px cursor-pointer",onClick:p,children:s(P,{className:"text-lg",icon:r?"ant-design:fullscreen-exit-outlined":"ant-design:fullscreen-outlined"})})}),s(re,{placement:"bottom",title:"\u5173\u95ED",children:s("div",{className:"p-10px mt-3px cursor-pointer",onClick:f=>t==null?void 0:t(f),children:s(P,{className:"text-lg",icon:"ant-design:close-outlined"})})})]}),g=y("div",{className:"w-full cursor-move flex items-center justify-between",onMouseOver:d,onMouseOut:()=>o(!0),children:[s("span",{children:e.title||""}),x()]}),w=f=>s(ds.exports,{disabled:n,bounds:i,onStart:m,position:r?{x:0,y:0}:void 0,children:s("div",{ref:u,children:f})});return s(Ee,{destroyOnClose:!0,closable:!1,maskClosable:!1,width:r?"100%":e.width||520,wrapClassName:r?"full-modal":"",modalRender:w,...e,title:g,children:e.children})}function Jt(e){const{list:t,data:n,children:o,labelCol:r,wrapperCol:a,formRef:i,handleFinish:c}=e,[u]=O.useForm();return l.exports.useImperativeHandle(i,()=>({getFieldValue:p=>u.getFieldValue(p)||{},getFieldsValue:()=>u.getFieldsValue()||{},handleReset:()=>{u.resetFields()},handleSubmit:()=>{u.submit()}})),l.exports.useEffect(()=>{u.setFieldsValue(e.data)},[u,e.data]),s("div",{children:y(O,{name:"basic",form:u,labelCol:r||{span:6},wrapperCol:a||{span:15},initialValues:n,onFinish:p=>{if(c){const x=_t(p,t);c==null||c(x)}},onFinishFailed:p=>{console.warn("\u8868\u5355\u9519\u8BEF:",p)},autoComplete:"off",children:[t==null?void 0:t.map(p=>s(O.Item,{label:p.label,name:p.name,rules:p.hidden?[]:p.rules,className:p.hidden?"!hidden":"",valuePropName:Nt(p.component),children:Mt(p)},`${p.name}`)),o]})})}function Yo(e){return s("div",{id:"pagination",className:`
        w-full
        flex
        items-center
        justify-end
        px-5
        min-h-40px
        z-999
      `,children:s(yn,{showSizeChanger:!0,showQuickJumper:!0,size:"small",showTotal:n=>`\u5171 ${n||0} \u6761\u6570\u636E`,...e})})}const Xt=l.exports.memo(Yo),ge={page:1,pageSize:20},at={status:1,editor:"<h3>\u521D\u59CB\u5316\u5185\u5BB9</h3>"};function qo(){X("\u83DC\u5355\u7BA1\u7406");const e=l.exports.useRef(null),t=l.exports.useRef(null),[n,o]=l.exports.useState(!1),[r,a]=l.exports.useState(!1),[i,c]=l.exports.useState(!1),[u,m]=l.exports.useState(Ce),[d,p]=l.exports.useState(""),[x,g]=l.exports.useState(at),[w,f]=l.exports.useState(ge.page),[h,D]=l.exports.useState(ge.pageSize),[v,B]=l.exports.useState(0),[_,z]=l.exports.useState([]),S=E(F=>F.user.permissions),N="/authority/menu",C={page:te(`${N}/index`,S),create:te(`${N}/create`,S),update:te(`${N}/update`,S),delete:te(`${N}/delete`,S)},A=F=>{f(1),b({page:1,pageSize:h,...F})},b=l.exports.useCallback(async F=>{try{a(!0);const{data:{data:k}}=await jo(F),{items:I,total:Z}=k;B(Z),z(I)}finally{a(!1)}},[]);l.exports.useEffect(()=>{C.page&&b({...ge})},[b,C.page]);const H=()=>{o(!0),m(Ce),p(""),g(at)},$=async F=>{try{o(!0),m(St(F)),p(F),c(!0);const{data:{data:k}}=await Ko(F);g(k)}finally{c(!1)}},Y=()=>{var F;(F=t.current)==null||F.handleSubmit()},Be=()=>{o(!1)},ue=()=>{var I;const k={...((I=e.current)==null?void 0:I.getFieldsValue())||{},page:w,pageSize:h};b(k)},Ne=async F=>{try{c(!0);const k=()=>d?Vo(d,F):Uo(F),{data:I}=await k();K.success((I==null?void 0:I.message)||"\u64CD\u4F5C\u6210\u529F"),o(!1),ue()}finally{c(!1)}},Ae=async F=>{try{a(!0);const{data:k}=await Wo(F);(k==null?void 0:k.code)===200&&(K.success((k==null?void 0:k.message)||"\u5220\u9664\u6210\u529F"),ue())}finally{a(!1)}},Pe=l.exports.useCallback((F,k)=>{var Z;f(F),D(k);const I=(Z=e.current)==null?void 0:Z.getFieldsValue();b({...I,page:F,pageSize:k})},[b]),Te=(F,k)=>y(L,{children:[C.update===!0&&s(qt,{className:"mr-5px",isLoading:r,onClick:()=>$(k.id)}),C.delete===!0&&s(Gt,{className:"mr-5px",isLoading:r,handleDelete:()=>Ae(k.id)})]});return s(We,{isPermission:C.page,children:y(L,{children:[s(Ve,{formRef:e,list:Mo,data:ge,isLoading:r,isCreate:C.create,onCreate:H,handleFinish:A}),s(Ye,{loading:r,columns:Oo(Te),dataSource:_}),s(Xt,{disabled:r,current:w,pageSize:h,total:v,onChange:Pe}),s(qe,{width:900,style:{top:10},title:u,open:n,confirmLoading:i,onOk:Y,onCancel:Be,children:s(Jt,{formRef:t,list:zo(d),data:x,labelCol:{span:3},wrapperCol:{span:20},handleFinish:Ne})})]})})}function Go(e){return y(L,{children:[s("div",{className:"mb-5px",children:"\u81EA\u5B9A\u4E49\u6E32\u67D3\uFF1A"}),s(Q,{...e,placeholder:"\u8BF7\u8F93\u5165"})]})}const Jo=[{label:"\u5E74\u9F84",name:"age",component:"InputNumber"},{label:"\u540D\u5B57",name:"keyword",component:"Input"}],Xo=e=>[{title:"ID",dataIndex:"id",width:400,fixed:"left"},{title:"\u7528\u6237\u540D",dataIndex:"username",width:400,fixed:"left"},{title:"\u59D3\u540D",dataIndex:"real_name",width:400},{title:"\u89D2\u8272",dataIndex:"roles_name",width:400},{title:"\u624B\u673A\u53F7",dataIndex:"phone",width:400},{title:"\u90AE\u7BB1",dataIndex:"email",width:400},{title:"\u72B6\u6001",dataIndex:"status",width:200,render:t=>s("span",{children:t?"\u5F00\u542F":"\u5173\u95ED"})},{title:"\u64CD\u4F5C",dataIndex:"operate",width:200,fixed:"right",render:(t,n)=>e(t,n)}],Zo=[{label:"\u7528\u6237\u540D",name:"username",rules:se,component:"Input"},{label:"\u59D3\u540D",name:"real_name",rules:se,component:"Input"},{label:"\u89D2\u8272",name:"roles_name",rules:se,component:"Input"},{label:"\u72B6\u6001",name:"status",rules:Re,component:"Select",componentProps:{options:zs}},{label:"\u5D4C\u5957\u6570\u636E",name:["user","name","test"],rules:se,component:"Input"},{label:"\u81EA\u5B9A\u4E49",name:"customize",rules:se,component:"customize",render:Go}];function Qo(e){return M.get("/authority/user/index",{params:e})}function er(e){return M.get(`/authority/user/${e}`)}function tr(e){return M.post("/authority/user",e)}function nr(e,t){return M.put(`/authority/user/${e}`,t)}function sr(e){return M.delete(`/authority/user/${e}`)}const xe={page:1,pageSize:20},it={status:1};function or(){X("\u7528\u6237\u7BA1\u7406");const e=l.exports.useRef(null),t=l.exports.useRef(null),[n,o]=l.exports.useState(!1),[r,a]=l.exports.useState(!1),[i,c]=l.exports.useState(!1),[u,m]=l.exports.useState(Ce),[d,p]=l.exports.useState(""),[x,g]=l.exports.useState(it),[w,f]=l.exports.useState(xe.page),[h,D]=l.exports.useState(xe.pageSize),[v,B]=l.exports.useState(0),[_,z]=l.exports.useState([]),S=E(F=>F.user.permissions),N="/authority/user",C={page:te(`${N}/index`,S),create:te(`${N}/create`,S),update:te(`${N}/update`,S),delete:te(`${N}/delete`,S)},A=F=>{f(1),b({page:1,pageSize:h,...F})},b=l.exports.useCallback(async F=>{try{o(!0);const{data:{data:k}}=await Qo(F),{items:I,total:Z}=k;B(Z),z(I)}finally{o(!1)}},[]);l.exports.useEffect(()=>{C.page&&b({...xe})},[b,C.page]);const H=()=>{c(!0),m(Ce),p(""),g(it)},$=async F=>{try{c(!0),m(St(F)),p(F),a(!0);const{data:{data:k}}=await er(F);g(k)}finally{a(!1)}},Y=()=>{var F;(F=t.current)==null||F.handleSubmit()},Be=()=>{c(!1)},ue=()=>{var I;const k={...((I=e.current)==null?void 0:I.getFieldsValue())||{},page:w,pageSize:h};b(k)},Ne=async F=>{try{a(!0);const k=()=>d?nr(d,F):tr(F),{data:I}=await k();K.success((I==null?void 0:I.message)||"\u64CD\u4F5C\u6210\u529F"),c(!1),ue()}finally{a(!1)}},Ae=async F=>{try{o(!0);const{data:k}=await sr(F);(k==null?void 0:k.code)===200&&(K.success((k==null?void 0:k.message)||"\u5220\u9664\u6210\u529F"),ue())}finally{o(!1)}},Pe=(F,k)=>{var Z;f(F),D(k);const I=(Z=e.current)==null?void 0:Z.getFieldsValue();b({...I,page:F,pageSize:k})},Te=(F,k)=>y(L,{children:[C.update===!0&&s(qt,{className:"mr-5px",isLoading:n,onClick:()=>$(k.id)}),C.delete===!0&&s(Gt,{className:"mr-5px",isLoading:n,handleDelete:()=>Ae(k.id)})]});return s(We,{isPermission:C.page,children:y(L,{children:[s(Ve,{formRef:e,list:Jo,data:xe,isLoading:n,isCreate:C.create,onCreate:H,handleFinish:A}),s(Ye,{loading:n,columns:Xo(Te),dataSource:_}),s(Xt,{disabled:n,current:w,pageSize:h,total:v,onChange:Pe}),s(qe,{title:u,open:i,confirmLoading:r,onOk:Y,onCancel:Be,children:s(Jt,{formRef:t,list:Zo,data:x,labelCol:{span:6},handleFinish:Ne})})]})})}const rr=[{caseSensitive:!1,path:"403",element:U.createElement(Ue)},{caseSensitive:!1,path:"/",element:U.createElement(Ds)},{caseSensitive:!1,path:"*",element:U.createElement(vs)},{caseSensitive:!1,path:"dashboard",children:[{caseSensitive:!1,path:"",element:U.createElement(po)}]},{caseSensitive:!1,path:"loading",children:[{caseSensitive:!1,path:"",element:U.createElement(ho)}]},{caseSensitive:!1,path:"login",children:[{caseSensitive:!1,path:"",element:U.createElement(Vt)}]},{caseSensitive:!1,path:"demo",children:[{caseSensitive:!1,path:"copy",children:[{caseSensitive:!1,path:"",element:U.createElement(ko)}]},{caseSensitive:!1,path:"editor",children:[{caseSensitive:!1,path:"",element:U.createElement(Eo)}]},{caseSensitive:!1,path:"virtualScroll",children:[{caseSensitive:!1,path:"",element:U.createElement(Io)}]},{caseSensitive:!1,path:"watermark",children:[{caseSensitive:!1,path:"",element:U.createElement(_o)}]},{caseSensitive:!1,path:"level1",children:[{caseSensitive:!1,path:"level2",children:[{caseSensitive:!1,path:"level3",element:U.createElement(Lo)}]}]}]},{caseSensitive:!1,path:"system",children:[{caseSensitive:!1,path:"menu",children:[{caseSensitive:!1,path:"",element:U.createElement(qo)}]},{caseSensitive:!1,path:"user",children:[{caseSensitive:!1,path:"",element:U.createElement(or)}]}]}];function ar(e){return M.get("/authority/user/refresh-permissions",{params:e})}const Zt=Fe({name:"menu",initialState:{isPhone:!1,isCollapsed:!1,openKeys:["Dashboard"]},reducers:{toggleCollapsed:(e,t)=>{e.isCollapsed=!!t.payload},togglePhone:(e,t)=>{e.isPhone=!!t.payload},setOpenKeys:(e,t)=>{e.openKeys=t.payload}}}),{toggleCollapsed:Ge,togglePhone:ir,setOpenKeys:we}=Zt.actions,lr=Zt.reducer,cr="_header_11yja_1",ur="_headerCloseMenu_11yja_12",dr="_headerDriver_11yja_15",mr="_menu_11yja_18",pr="_menuClose_11yja_26",hr="_con_11yja_29",fr="_conCloseMenu_11yja_36",gr="_conMaximize_11yja_39",xr="_headerNone_11yja_43",yr="_none_11yja_47",br="_menuNone_11yja_50",Cr="_conPhone_11yja_54",wr="_headerPhone_11yja_57",Fr="_leftDivide_11yja_60",j={header:cr,headerCloseMenu:ur,headerDriver:dr,menu:mr,menuClose:pr,con:hr,conCloseMenu:fr,conMaximize:gr,headerNone:xr,none:yr,menuNone:br,conPhone:Cr,headerPhone:wr,leftDivide:Fr};function kr(){const e=J(),{pathname:t}=ke(),n=W(),[o,r]=l.exports.useState([]),a=E(h=>h.menu.openKeys),i=E(h=>h.tabs.isMaximize),c=E(h=>h.menu.isCollapsed),u=E(h=>h.menu.isPhone),m=E(h=>h.user.permissions);l.exports.useEffect(()=>{const h=Ke(t);!u&&!c&&n(we(h))},[t]),l.exports.useEffect(()=>{if(m.length>0){const h=bt(V,m);r(h||[])}},[m]);const d=h=>{e(h);const v=ee({menus:o,permissions:m,key:h});v&&(n(ne(v.key)),n(be(v.nav)),n(ce(v)))},p=h=>{d(h.key),u&&f()},x=(h,D)=>{let v=!0;for(let B=0;B<h.length;B++)if(h[B]!==D[B]){v=!1;break}return v},g=h=>{const D=[];let v="";if(h.length>0){v=h[h.length-1];const B=ae(v);D.push(v);for(let _=h.length-2;_>=0;_--){const z=ae(h[_]);x(z,B)&&D.unshift(h[_])}}n(we(D))},w=()=>{const h=ie(o,m);d(h),u&&f()},f=()=>{n(Ge(!0))};return y(L,{children:[y("div",{className:`
          transition-all
          overflow-auto
          ${j.menu}
          ${c?j.menuClose:""}
          ${i||u&&c?j.menuNone:""}
          ${u?"z-1002":""}
        `,children:[y("div",{className:`
            text-white
            flex
            content-center
            px-5
            py-2
            cursor-pointer
            ${c?"justify-center":""}
          `,onClick:w,children:[s("img",{src:Ut,width:30,height:30,className:"object-contain",alt:"logo"}),s("span",{className:`
            text-white
            ml-3
            text-xl
            font-bold
            truncate
            ${c?"hidden":""}
          `,children:"\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF"})]}),s(bn,{className:"h-full z-1000",selectedKeys:[t],openKeys:a,mode:"inline",theme:"dark",inlineCollapsed:c,items:o,onClick:p,onOpenChange:g})]}),u&&!c&&s("div",{className:`${j.cover} fixed w-full h-full bg-gray-500 bg-opacity-10 z-1001`,onClick:f})]})}const Er="/assets/png/avatar-07151444.png";function Sr(){const e=W(),t=E(o=>o.public.isFullscreen);return[t,()=>{var o;if(!t&&((o=document.documentElement)==null?void 0:o.requestFullscreen))return document.documentElement.requestFullscreen(),e(st(!0)),!0;if(t&&(document==null?void 0:document.exitFullscreen))return document.exitFullscreen(),e(st(!1)),!0}]}function Dr(){const[e,t]=Sr();return s(re,{title:e?"\u9000\u51FA\u5168\u5C4F":"\u5168\u5C4F",children:y("div",{className:"flex items-center justify-center text-lg mr-3 cursor-pointer",onClick:t,children:[e&&s(P,{icon:"gridicons-fullscreen-exit"}),!e&&s(P,{icon:"gridicons-fullscreen"})]})})}function vr(e){return[n=>{var o,r,a,i,c;switch(n.key){case"ArrowUp":(o=e.ArrowUp)==null||o.call(e);break;case"ArrowDown":(r=e.ArrowDown)==null||r.call(e);break;case"ArrowLeft":(a=e.ArrowLeft)==null||a.call(e);break;case"ArrowRight":(i=e.ArrowRight)==null||i.call(e);break;case"Enter":(c=e.Enter)==null||c.call(e);break}}]}function Br(e){const{list:t,active:n,onCancel:o,changActive:r}=e,a=J(),i=W(),c=E(d=>d.user.permissions),u=d=>{a(d);const x=ee({menus:V,permissions:c,key:d});i(ce(x)),i(ne(d));const g=Ke(d);i(we(g)),o()},m=d=>{r(d)};return y(L,{children:[!(t!=null&&t.length)&&y("div",{className:"flex flex-col items-center pt-5 text-warm-gray-400",children:[s(P,{className:"text-40px",icon:"mdi:archive-cancel-outline"}),s("span",{className:"mt-1",children:"\u6682\u65E0\u641C\u7D22\u7ED3\u6784"})]}),(t==null?void 0:t.length)>0&&s("div",{className:"mt-5",children:t==null?void 0:t.map(d=>{var p;return y("div",{className:`
                h-56px
                mt-8px
                px-14px
                rounded-4px
                cursor-pointer
                flex
                items-center
                justify-between
                shadow-md
                border
                border-light-500
                ${n===d.key?"bg-blue-500 text-white":""}
              `,onClick:()=>u(d.key),onMouseEnter:()=>m(d.key),children:[y("div",{className:"flex items-center",children:[s(P,{className:"text-lg mr-1",icon:"gg:menu-boxed"}),d.nav&&((p=d.nav)==null?void 0:p.length)>0&&d.nav.map((x,g)=>y(l.exports.Fragment,{children:[g>0&&s("span",{className:"mx-5px",children:">"}),s("span",{children:x})]},x)),!d.nav&&s("span",{children:d.label})]}),s(P,{className:"icon text-20px p-2px mr-5px",icon:"ant-design:enter-outlined"})]},d.key)})})]})}const Nr="_icon_1eshe_1",ye={icon:Nr};function Ar(){return y("div",{className:"flex items-center text-dark-50",children:[y("span",{className:"mr-14px flex items-center",children:[s(P,{className:`${ye.icon} text-20px p-2px mr-5px`,icon:"ant-design:enter-outlined"}),s("span",{children:"\u786E\u8BA4"})]}),y("span",{className:"mr-14px flex items-center",children:[s(P,{className:`${ye.icon} text-20px p-2px mr-5px`,icon:"mdi-arrow-up-thin"}),s(P,{className:`${ye.icon} text-20px p-2px mr-5px`,icon:"mdi-arrow-down-thin"}),s("span",{children:"\u5207\u6362"})]}),y("span",{className:"flex items-center",children:[s(P,{className:`${ye.icon} text-20px p-2px mr-5px`,icon:"mdi:keyboard-esc"}),s("span",{children:"\u5173\u95ED"})]})]})}function Pr(e){const t=J(),n=l.exports.useRef(null),{modalRef:o}=e,[r,a]=l.exports.useState(""),[i,c]=l.exports.useState(""),[u,m]=l.exports.useState([]),[d,p]=l.exports.useState(!1),x=W(),g=E(S=>S.user.permissions);l.exports.useImperativeHandle(o,()=>({toggle:()=>{p(!d)}})),l.exports.useLayoutEffect(()=>(d&&setTimeout(()=>{var S;(S=n.current)==null||S.focus({cursor:"end"})},0),()=>{a(""),c(""),m([])}),[d]);const w=S=>{c(S)},f=()=>{p(!1)},h=()=>{if(i){t(i);const N=ee({menus:V,permissions:g,key:i});x(ce(N)),x(ne(i));const C=Ke(i);x(we(C)),f()}},D=je(S=>{var A;const C=yt({menus:V,permissions:g,value:S});C!=null&&C.length?(c(((A=C==null?void 0:C[0])==null?void 0:A.key)||""),m(C)):(c(""),m([]))},{wait:200}),v=S=>{const{value:N}=S.target;a(N),D.run(N)},B=()=>{if(!u.length)return null;const S=u.findIndex(C=>C.key===i);if(S===0)return null;const N=u[S-1].key;c(N)},_=()=>{if(!u.length)return null;const S=u.length-1,N=u.findIndex(A=>A.key===i);if(N===S)return null;const C=u[N+1].key;c(C)},[z]=vr({ArrowUp:B,ArrowDown:_,Enter:h});return l.exports.useEffect(()=>{if(u.length)return window.addEventListener("keydown",z),()=>{window.removeEventListener("keydown",z)}},[u,i,z]),y(Ee,{className:"rounded-100px",open:d,closable:!1,onCancel:f,footer:s(Ar,{}),children:[s(Q,{ref:n,value:r,placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u8BCD\u641C\u7D22",allowClear:!0,prefix:s(P,{className:"text-lg text-warm-gray-400",icon:"ant-design:search-outlined"}),onChange:v,onPressEnter:h}),s(Br,{list:u,active:i,onCancel:f,changActive:w})]})}function Tr(){const e=l.exports.useRef(null);return y(L,{children:[s(re,{title:"\u641C\u7D22",children:s(P,{className:"flex items-center justify-center text-lg mr-3 cursor-pointer",icon:"uil-search",onClick:()=>{var n;(n=e.current)==null||n.toggle()}})}),s(Pr,{modalRef:e})]})}function $r(){const{clear:e,refresh:t,getCachingNodes:n}=Se.exports.useAliveController(),o=W(),r=localStorage.getItem(me)||"light",[a,i]=l.exports.useState(r);l.exports.useEffect(()=>{r||localStorage.setItem(me,"light"),r==="dark"&&(document.body.className="theme-dark"),o(Me(r==="dark"?"dark":"light"))},[r]);const c=()=>{const m=n();for(let d=0;d<(m==null?void 0:m.length);d++){const{name:p}=m[d];p&&t(p)}},u=m=>{switch(localStorage.setItem(me,m),o(Me(m)),i(m),e(),c(),m){case"dark":document.body.className="theme-dark";break;default:document.body.className="theme-primary";break}};return s(re,{title:"\u4E3B\u9898\u6A21\u5F0F",children:y("div",{className:"flex items-center justify-center text-lg mr-4 cursor-pointer",children:[a==="light"&&s(P,{icon:"mdi-white-balance-sunny",onClick:()=>u("dark")}),a!=="light"&&s(P,{icon:"mdi-moon-waning-crescent",onClick:()=>u("light")})]})})}function Ir(e){const{passwordRef:t}=e,[n]=O.useForm(),[o,r]=l.exports.useState(!1),[a,i]=l.exports.useState(!1);return l.exports.useImperativeHandle(t,()=>({open:()=>{r(!0)}})),s(qe,{title:"\u4FEE\u6539\u5BC6\u7801",open:o,confirmLoading:a,onOk:()=>{n.submit()},onCancel:()=>r(!1),children:y(O,{name:"UpdatePassword",form:n,labelCol:{span:5},wrapperCol:{span:16},onFinish:async m=>{if(m.password!==m.confirmPassword)return K.warning({content:"\u5BC6\u7801\u548C\u786E\u8BA4\u5BC6\u7801\u4E0D\u76F8\u540C!",key:"confirmPassword"});try{i(!0);const{data:d}=await xo(m);d.code===200&&(r(!1),K.success(d.message))}finally{i(!1)}},autoComplete:"off",children:[s(O.Item,{label:"\u7528\u6237\u540D",name:"username",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"}],children:s(Q,{placeholder:he})}),s(O.Item,{label:"\u5BC6\u7801",name:"password",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801!"}],children:s(_e,{})}),s(O.Item,{label:"\u786E\u8BA4\u5BC6\u7801",name:"confirmPassword",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u786E\u8BA4\u5BC6\u7801!"}],children:s(_e,{})})]})})}const{Item:Rr}=ht;function _r(e){const{className:t,list:n}=e,o=E(r=>r.menu.isPhone);return s(L,{children:!o&&s("div",{className:`${t} flex items-center`,children:s(ht,{children:n==null?void 0:n.map(r=>s(Rr,{className:"whitespace-nowrap",children:r},r))})})})}function Lr(){const e=E(w=>w.menu.isCollapsed),t=E(w=>w.user.userInfo.username),n=W(),o=J(),[,,r]=ve(),{clear:a}=Se.exports.useAliveController(),i=E(w=>w.tabs.isMaximize),c=E(w=>w.tabs.nav),u=l.exports.useRef(null),m=[{key:"password",label:s("span",{children:"\u4FEE\u6539\u5BC6\u7801"}),icon:s(In,{className:"mr-1"})},{key:"logout",label:s("span",{children:"\u9000\u51FA\u767B\u5F55"}),icon:s(Rn,{className:"mr-1"})}],d=w=>{var f;switch(w.key){case"password":(f=u.current)==null||f.open();break;case"logout":p();break}},p=()=>{Ee.confirm({title:"\u6E29\u99A8\u63D0\u793A",icon:s(xt,{}),content:"\u662F\u5426\u786E\u5B9A\u9000\u51FA\u7CFB\u7EDF?",onOk(){n(yo()),n(ws()),n(ne("")),r(),a(),o("/login")}})},x=()=>y("div",{className:"flex items-center",children:[s(Tr,{}),s(Dr,{}),s($r,{}),s(He,{className:"min-w-50px",menu:{items:m,onClick:d},children:y("div",{className:"ant-dropdown-link flex items-center cursor-pointer",onClick:w=>w.preventDefault(),children:[s("img",{src:Er,width:27,height:27,alt:"\u5934\u50CF",className:"rounded-1/2 overflow-hidden object-cover bg-light-500"}),s("span",{className:"ml-2 text-15px min-w-50px truncate",children:t||"south-admin"})]})})]}),g=()=>y("div",{className:"text-lg cursor-pointer",onClick:()=>n(Ge(!e)),children:[e&&s(Tn,{}),!e&&s($n,{})]});return y(L,{children:[y("header",{className:`
          border-bottom
          flex
          items-center
          justify-between
          px-6
          py-6px
          box-border
          transition-all
          ${j.headerDriver}
          ${i?j.none:""}
        `,children:[y("div",{className:"flex item-center",children:[s(g,{}),s(_r,{className:"ml-15px",list:c})]}),s(x,{})]}),s(Ir,{passwordRef:u})]})}function Qt(e){const{activeKey:t,onOpenChange:n,handleRefresh:o}=e,{pathname:r}=ke(),a=J(),i=W(),c=E(p=>p.tabs.tabs),u=E(p=>p.user.permissions);return[(p=t)=>{const x=c.findIndex(g=>g.key===p);return[{key:"refresh",label:"\u91CD\u65B0\u52A0\u8F7D",disabled:p!==r,icon:s(_n,{className:"mr-5px transform rotate-270"})},{key:"close_current",label:"\u5173\u95ED\u6807\u7B7E",disabled:c.length<=1,icon:s(Ln,{className:"mr-5px"})},{key:"close_other",label:"\u5173\u95ED\u5176\u4ED6",disabled:c.length<=1,icon:s(Mn,{className:"mr-5px transform rotate-90"})},{key:"close_left",label:"\u5173\u95ED\u5DE6\u4FA7",disabled:x===0,icon:s(Xe,{className:"mr-5px transform rotate-270"})},{key:"close_right",label:"\u5173\u95ED\u53F3\u4FA7",disabled:x===c.length-1,icon:s(Xe,{className:"mr-5px transform rotate-90"})}]},(p,x=t)=>{switch(n==null||n(!1),p){case"refresh":o(x);break;case"close_current":i(wt(x));break;case"close_other":i(Cs(x));break;case"close_left":if(i(ys(x)),r!==x){const w=ee({menus:V,permissions:u,key:x});w!=null&&w.key&&(a(x),i(be(w.nav)))}break;case"close_right":if(i(bs(x)),r!==x){const w=ee({menus:V,permissions:u,key:x});w!=null&&w.key&&(a(x),i(be(w.nav)))}break}}]}function Mr(e){const{isRefresh:t,onClick:n}=e;return s(re,{title:"\u91CD\u65B0\u52A0\u8F7D",placement:"bottom",children:s(P,{className:`
          change
          flex
          items-center
          justify-center
          text-lg
          cursor-pointer
          ${t?"animate-spin":""}
        `,onClick:()=>n(),icon:"ant-design:reload-outlined"})})}function Or(){const e=W(),t=E(o=>o.tabs.isMaximize);return s(re,{title:t?"\u6700\u5C0F\u5316":"\u6700\u5927\u5316",placement:"bottom",children:s(P,{className:`
          flex
          items-center
          justify-center
          text-lg
          cursor-pointer
        `,icon:t?"ant-design:compress-outlined":"ant-design:expand-outlined",onClick:()=>{e(xs(!t))}})})}function zr(e){const{activeKey:t,handleRefresh:n}=e,[o,r]=l.exports.useState(!1),a=m=>{r(m)},i={activeKey:t,onOpenChange:a,handleRefresh:n},[c,u]=Qt(i);return s(He,{trigger:["click"],menu:{items:c(),onClick:m=>u(m.key)},onOpenChange:a,children:s(P,{className:`
          flex
          items-center
          justify-center
          text-lg
          cursor-pointer
          transition-all
          transform
          ${o?"rotate-180":"rotate-0"}
        `,icon:"ant-design:down-outlined"})})}function Hr(){const e=J(),{pathname:t}=ke(),n=W(),{refresh:o}=Se.exports.useAliveController(),[r,a]=l.exports.useState(!1),[i,c]=l.exports.useState(null),u=E(b=>b.tabs.tabs),m=E(b=>b.tabs.isLock),d=E(b=>b.tabs.activeKey),p=E(b=>b.user.permissions),x=E(b=>b.tabs.isMaximize),g=l.exports.useCallback((b=t)=>{if(p.length>0){if(b==="/")return;const $=ee({menus:V,permissions:p,key:b});$!=null&&$.key&&(n(ne($.key)),n(be($.nav)),n(ce($)))}},[p]);l.exports.useEffect(()=>{g()},[g]),l.exports.useEffect(()=>{if(d&&d!==t){const b=m?d:t;g(b),m&&(e(b),n(gs(!1)))}},[d,t]);const w=b=>{e(b)},f=b=>{n(wt(b))},h=(b,H)=>{H==="remove"&&f(b)},D=l.exports.useCallback((b=d)=>{typeof b=="string"&&(i||(a(!0),o(b),e("/loading"),c(setTimeout(()=>{b!==d&&n(ne(b)),a(!1),e(b),K.success({content:"\u5237\u65B0\u6210\u529F",key:"refresh"}),c(null)},1e3))))},[d,i]),v=l.exports.useMemo(()=>s(Mr,{isRefresh:r,onClick:D}),[r,D]),B=l.exports.useMemo(()=>s(zr,{activeKey:d,handleRefresh:D}),[d,D]),_=l.exports.useMemo(()=>s(Or,{}),[]),z=[{element:v},{element:B},{element:_}],S={activeKey:d,handleRefresh:D},[N,C]=Qt(S),A=(b,H)=>s(H,{...b,children:$=>s(He,{menu:{items:N($.key),onClick:Y=>C(Y.key,$.key)},trigger:["contextMenu"],children:s("div",{className:"mr-3px",children:$})},$.key)});return y("div",{className:`
      flex
      items-center
      justify-between
      mx-2
      transition-all
      ${x?j.conMaximize:""}
    `,children:[u.length>0?s(Cn,{hideAdd:!0,className:"w-full h-30px py-0",onChange:w,activeKey:d,type:"editable-card",onEdit:h,items:u,renderTabBar:A}):s("span",{}),s("div",{className:"flex",children:z==null?void 0:z.map((b,H)=>s("div",{className:`
                ${j.leftDivide}
                change
                divide-solid
                w-36px
                h-36px
                hover:opacity-70
                flex
                place-content-center
                items-center
              `,children:b.element},H))})]})}function jr(){const e=W(),t=J(),[n]=ve(),o=n(),[r,a]=l.exports.useState(!0),i=E(g=>g.user.permissions),c=E(g=>g.user.userInfo.id),u=E(g=>g.tabs.isMaximize),m=E(g=>g.menu.isCollapsed),d=E(g=>g.menu.isPhone),p=l.exports.useCallback(async()=>{try{a(!0);const{data:g}=await ar({refresh_cache:!1});if(g){const{data:{user:w,permissions:f}}=g,h=Kt(f);e(jt(w)),e(Oe(h))}}catch(g){console.error("\u83B7\u53D6\u7528\u6237\u6570\u636E\u5931\u8D25:",g),Oe([])}finally{a(!1)}},[]);l.exports.useEffect(()=>{o||t("/login"),o&&!c&&p()},[p,t,o,c]);const x=je(()=>{const g=window.innerWidth<=768;g&&e(Ge(!0)),e(ir(g))},{wait:500});return l.exports.useEffect(()=>(window.addEventListener("resize",x.run()),()=>{window.removeEventListener("resize",x.run())}),[]),y("div",{id:"layout",children:[s(kr,{}),y("div",{className:j.layout_right,children:[y("div",{className:`
          border-bottom
          transition-all
          ${j.header}
          ${m?j.headerCloseMenu:""}
          ${u?j.headerNone:""}
          ${d?"!left-0 z-999":""}
        `,children:[s(Lr,{}),s(Hr,{})]}),y("div",{id:"layoutContent",className:`
            overflow-auto
            transition-all
            ${j.con}
            ${u?j.conMaximize:""}
            ${m?j.conCloseMenu:""}
            ${d?"!left-0":""}
          `,children:[r&&i.length===0&&s(pt,{active:!0,className:"p-30px",paragraph:{rows:10}}),!r&&i.length===0&&s(Ue,{}),i.length>0&&s(on,{})]})]})]})}const Kr=ms(rr),Ur=[{path:"login",element:s(Vt,{})},{path:"",element:s(jr,{}),children:Kr}];function Vr(){return s(L,{children:rn(Ur)})}const{defaultAlgorithm:Wr,darkAlgorithm:Yr}=kn;function qr(){const e=E(t=>t.public.theme);return l.exports.useEffect(()=>(Je.done(),()=>{Je.start()}),[]),s(tn,{children:s(wn,{locale:Fn,theme:{algorithm:[e==="dark"?Yr:Wr]},children:s(Se.exports.AliveScope,{children:s(Vr,{})})})})}const Gr=nn({reducer:{public:fo,menu:lr,tabs:Fs,user:bo}});R.locale("zh-cn");en.createRoot(document.getElementById("root")).render(s(sn,{store:Gr,children:s(qr,{})}));document!=null&&document.getElementById("first")&&(document.getElementById("first").style.display="none");
