import{c as V,h as ie,d as Ve,g as we,e as m,f as I,b as te}from"./@babel_runtime.0b96ec9f.js";import{r as t}from"./react.017637b6.js";import{i as $n,b as At,s as Hn,t as Pn,p as Ae,g as Pt,G as Bt,c as Bn,D as Ot,q as On,H as zt,I as zn,a as Fn,x as Wn}from"./rc-util.88348ebb.js";import{c as ce}from"./classnames.96a48171.js";import{s as lt}from"./shallowequal.6a8ebf1c.js";import{R as st}from"./rc-resize-observer.c02c0b35.js";function Kn(e){return null}function An(e){return null}var Dn="RC_TABLE_KEY";function Dt(e){return e==null?[]:Array.isArray(e)?e:[e]}function Vt(e,n){if(!n&&typeof n!="number")return e;for(var r=Dt(n),o=e,a=0;a<r.length;a+=1){if(!o)return null;var s=r[a];o=o[s]}return o}function Ue(e){var n=[],r={};return e.forEach(function(o){for(var a=o||{},s=a.key,i=a.dataIndex,c=s||Dt(i).join("-")||Dn;r[c];)c="".concat(c,"_next");r[c]=!0,n.push(c)}),n}function rt(e){return e!=null}var Ut=t.exports.createContext(!1);function Vn(){var e=t.exports.createContext(null),n=function(o){var a=o.value,s=o.children,i=t.exports.useRef(a);i.current=a;var c=t.exports.useState(function(){return{getValue:function(){return i.current},listeners:new Set}}),l=V(c,1),d=l[0];return At(function(){d.listeners.forEach(function(f){f(a)})},[a]),t.exports.createElement(e.Provider,{value:d},s)};return{Context:e,Provider:n}}function Un(e,n){var r=$n(n),o=t.exports.useContext(e==null?void 0:e.Context),a=o||{},s=a.listeners,i=a.getValue,c=t.exports.useState(function(){return r(o?i():null)}),l=V(c,2),d=l[0],f=l[1];return At(function(){if(!o)return;function u(x){f(function(p){var v=r(x);return lt(p,v)?p:v})}return s.add(u),function(){s.delete(u)}},[o]),d}var Xt=Vn(),Xe=t.exports.createContext(null),jt=t.exports.createContext({renderWithProps:!1}),Xn=["colSpan","rowSpan","style","className"];function jn(e,n,r,o){var a=e+n-1;return e<=o&&a>=r}function Yn(e){return e&&Ve(e)==="object"&&!Array.isArray(e)&&!t.exports.isValidElement(e)}function Gn(e){return typeof e=="string"?!0:Hn(e)}var _n=function(n){var r=n.ellipsis,o=n.rowType,a=n.children,s,i=r===!0?{showTitle:!0}:r;return i&&(i.showTitle||o==="header")&&(typeof a=="string"||typeof a=="number"?s=a.toString():t.exports.isValidElement(a)&&typeof a.props.children=="string"&&(s=a.props.children)),s};function qn(e,n){var r,o,a,s=e.prefixCls,i=e.className,c=e.record,l=e.index,d=e.renderIndex,f=e.dataIndex,u=e.render,x=e.children,p=e.component,v=p===void 0?"td":p,E=e.colSpan,y=e.rowSpan,N=e.fixLeft,b=e.fixRight,O=e.firstFixLeft,D=e.lastFixLeft,L=e.firstFixRight,T=e.lastFixRight,z=e.appendNode,H=e.additionalProps,P=H===void 0?{}:H,F=e.ellipsis,W=e.align,g=e.rowType,$=e.isSticky,R=e.hovering,B=e.onHover,h="".concat(s,"-cell"),w=t.exports.useContext(jt),S=t.exports.useContext(Ut),U=t.exports.useContext(Xe),G=U.allColumnsFixedLeft,oe=t.exports.useMemo(function(){if(rt(x))return[x];var fe=Vt(c,f),M=fe,j=void 0;if(u){var pe=u(fe,c,d);Yn(pe)?(M=pe.children,j=pe.props,w.renderWithProps=!0):M=pe}return[M,j]},[w.renderWithProps?Math.random():0,x,f,w,c,u,d]),J=V(oe,2),de=J[0],Y=J[1],ne=de;Ve(ne)==="object"&&!Array.isArray(ne)&&!t.exports.isValidElement(ne)&&(ne=null),F&&(D||L)&&(ne=t.exports.createElement("span",{className:"".concat(h,"-content")},ne));var Q=Y||{},ve=Q.colSpan,me=Q.rowSpan,he=Q.style,Te=Q.className,Ee=we(Q,Xn),X=(r=ve!==void 0?ve:E)!==null&&r!==void 0?r:1,_=(o=me!==void 0?me:y)!==null&&o!==void 0?o:1;if(X===0||_===0)return null;var K={},q=typeof N=="number"&&S,ae=typeof b=="number"&&S;q&&(K.position="sticky",K.left=N),ae&&(K.position="sticky",K.right=b);var Z={};W&&(Z.textAlign=W);var Re=function(M){var j;c&&B(l,l+_-1),P==null||(j=P.onMouseEnter)===null||j===void 0||j.call(P,M)},Se=function(M){var j;c&&B(-1,-1),P==null||(j=P.onMouseLeave)===null||j===void 0||j.call(P,M)},Ne=_n({rowType:g,ellipsis:F,children:de}),He=m(m(m({title:Ne},Ee),P),{},{colSpan:X!==1?X:null,rowSpan:_!==1?_:null,className:ce(h,i,(a={},I(a,"".concat(h,"-fix-left"),q&&S),I(a,"".concat(h,"-fix-left-first"),O&&S),I(a,"".concat(h,"-fix-left-last"),D&&S),I(a,"".concat(h,"-fix-left-all"),D&&G&&S),I(a,"".concat(h,"-fix-right"),ae&&S),I(a,"".concat(h,"-fix-right-first"),L&&S),I(a,"".concat(h,"-fix-right-last"),T&&S),I(a,"".concat(h,"-ellipsis"),F),I(a,"".concat(h,"-with-append"),z),I(a,"".concat(h,"-fix-sticky"),(q||ae)&&$&&S),I(a,"".concat(h,"-row-hover"),!Y&&R),a),P.className,Te),style:m(m(m(m({},P.style),Z),K),he),onMouseEnter:Re,onMouseLeave:Se,ref:Gn(v)?n:null});return t.exports.createElement(v,He,z,ne)}var Yt=t.exports.forwardRef(qn);Yt.displayName="Cell";var Jn=["expanded","className","hovering"],Qn=t.exports.memo(Yt,function(e,n){return n.shouldCellUpdate?Jn.every(function(r){return e[r]===n[r]})&&!n.shouldCellUpdate(n.record,e.record):lt(e,n)}),Ie=t.exports.forwardRef(function(e,n){var r=e.index,o=e.additionalProps,a=o===void 0?{}:o,s=e.colSpan,i=e.rowSpan,c=a.colSpan,l=a.rowSpan,d=s??c,f=i??l,u=Un(Xt,function(v){var E=jn(r,f||1,v==null?void 0:v.startRow,v==null?void 0:v.endRow);return{onHover:v==null?void 0:v.onHover,hovering:E}}),x=u.onHover,p=u.hovering;return t.exports.createElement(Qn,ie({},e,{colSpan:d,rowSpan:f,hovering:p,ref:n,onHover:x}))});Ie.displayName="WrappedCell";var ue=t.exports.createContext(null);function it(e,n,r,o,a){var s=r[e]||{},i=r[n]||{},c,l;s.fixed==="left"?c=o.left[e]:i.fixed==="right"&&(l=o.right[n]);var d=!1,f=!1,u=!1,x=!1,p=r[n+1],v=r[e-1];if(a==="rtl"){if(c!==void 0){var E=v&&v.fixed==="left";x=!E}else if(l!==void 0){var y=p&&p.fixed==="right";u=!y}}else if(c!==void 0){var N=p&&p.fixed==="left";d=!N}else if(l!==void 0){var b=v&&v.fixed==="right";f=!b}return{fixLeft:c,fixRight:l,lastFixLeft:d,firstFixRight:f,lastFixRight:u,firstFixLeft:x,isSticky:o.isSticky}}function Gt(e){var n=e.cells,r=e.stickyOffsets,o=e.flattenColumns,a=e.rowComponent,s=e.cellComponent,i=e.onHeaderRow,c=e.index,l=t.exports.useContext(ue),d=l.prefixCls,f=l.direction,u;i&&(u=i(n.map(function(p){return p.column}),c));var x=Ue(n.map(function(p){return p.column}));return t.exports.createElement(a,u,n.map(function(p,v){var E=p.column,y=it(p.colStart,p.colEnd,o,r,f),N;return E&&E.onHeaderCell&&(N=p.column.onHeaderCell(E)),t.exports.createElement(Ie,ie({},p,{ellipsis:E.ellipsis,align:E.align,component:s,prefixCls:d,key:x[v]},y,{additionalProps:N,rowType:"header"}))}))}Gt.displayName="HeaderRow";function Zn(e){var n=[];function r(i,c){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;n[l]=n[l]||[];var d=c,f=i.filter(Boolean).map(function(u){var x={key:u.key,className:u.className||"",children:u.title,column:u,colStart:d},p=1,v=u.children;return v&&v.length>0&&(p=r(v,d,l+1).reduce(function(E,y){return E+y},0),x.hasSubColumns=!0),"colSpan"in u&&(p=u.colSpan),"rowSpan"in u&&(x.rowSpan=u.rowSpan),x.colSpan=p,x.colEnd=x.colStart+p-1,n[l].push(x),d+=p,p});return f}r(e,0);for(var o=n.length,a=function(c){n[c].forEach(function(l){!("rowSpan"in l)&&!l.hasSubColumns&&(l.rowSpan=o-c)})},s=0;s<o;s+=1)a(s);return n}function Ft(e){var n=e.stickyOffsets,r=e.columns,o=e.flattenColumns,a=e.onHeaderRow,s=t.exports.useContext(ue),i=s.prefixCls,c=s.getComponent,l=t.exports.useMemo(function(){return Zn(r)},[r]),d=c(["header","wrapper"],"thead"),f=c(["header","row"],"tr"),u=c(["header","cell"],"th");return t.exports.createElement(d,{className:"".concat(i,"-thead")},l.map(function(x,p){var v=t.exports.createElement(Gt,{key:p,flattenColumns:o,cells:x,stickyOffsets:n,rowComponent:f,cellComponent:u,onHeaderRow:a,index:p});return v}))}var _t=t.exports.createContext(null);function qt(e){var n=e.prefixCls,r=e.children,o=e.component,a=e.cellComponent,s=e.className,i=e.expanded,c=e.colSpan,l=e.isEmpty,d=t.exports.useContext(ue),f=d.scrollbarSize,u=t.exports.useContext(_t),x=u.fixHeader,p=u.fixColumn,v=u.componentWidth,E=u.horizonScroll;return t.exports.useMemo(function(){var y=r;return(l?E:p)&&(y=t.exports.createElement("div",{style:{width:v-(x?f:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(n,"-expanded-row-fixed")},v!==0&&y)),t.exports.createElement(o,{className:s,style:{display:i?null:"none"}},t.exports.createElement(Ie,{component:a,prefixCls:n,colSpan:c},y))},[r,o,s,i,c,l,f,v,p,x,E])}var Jt=t.exports.createContext(null);function Qt(e){var n=e.className,r=e.style,o=e.record,a=e.index,s=e.renderIndex,i=e.rowKey,c=e.rowExpandable,l=e.expandedKeys,d=e.onRow,f=e.indent,u=f===void 0?0:f,x=e.rowComponent,p=e.cellComponent,v=e.childrenColumnName,E=t.exports.useContext(ue),y=E.prefixCls,N=E.fixedInfoList,b=t.exports.useContext(Xe),O=b.flattenColumns,D=b.expandableType,L=b.expandRowByClick,T=b.onTriggerExpand,z=b.rowClassName,H=b.expandedRowClassName,P=b.indentSize,F=b.expandIcon,W=b.expandedRowRender,g=b.expandIconColumnIndex,$=t.exports.useState(!1),R=V($,2),B=R[0],h=R[1],w=l&&l.has(e.recordKey);t.exports.useEffect(function(){w&&h(!0)},[w]);var S=D==="row"&&(!c||c(o)),U=D==="nest",G=v&&o&&o[v],oe=S||U,J=t.exports.useRef(T);J.current=T;var de=function(){J.current.apply(J,arguments)},Y=d==null?void 0:d(o,a),ne=function(_){var K;L&&oe&&de(o,_);for(var q=arguments.length,ae=new Array(q>1?q-1:0),Z=1;Z<q;Z++)ae[Z-1]=arguments[Z];Y==null||(K=Y.onClick)===null||K===void 0||K.call.apply(K,[Y,_].concat(ae))},Q;typeof z=="string"?Q=z:typeof z=="function"&&(Q=z(o,a,u));var ve=Ue(O),me=t.exports.createElement(x,ie({},Y,{"data-row-key":i,className:ce(n,"".concat(y,"-row"),"".concat(y,"-row-level-").concat(u),Q,Y&&Y.className),style:m(m({},r),Y?Y.style:null),onClick:ne}),O.map(function(X,_){var K=X.render,q=X.dataIndex,ae=X.className,Z=ve[_],Re=N[_],Se;_===(g||0)&&U&&(Se=t.exports.createElement(t.exports.Fragment,null,t.exports.createElement("span",{style:{paddingLeft:"".concat(P*u,"px")},className:"".concat(y,"-row-indent indent-level-").concat(u)}),F({prefixCls:y,expanded:w,expandable:G,record:o,onExpand:de})));var Ne;return X.onCell&&(Ne=X.onCell(o,a)),t.exports.createElement(Ie,ie({className:ae,ellipsis:X.ellipsis,align:X.align,component:p,prefixCls:y,key:Z,record:o,index:a,renderIndex:s,dataIndex:q,render:K,shouldCellUpdate:X.shouldCellUpdate,expanded:Se&&w},Re,{appendNode:Se,additionalProps:Ne}))})),he;if(S&&(B||w)){var Te=W(o,a,u+1,w),Ee=H&&H(o,a,u);he=t.exports.createElement(qt,{expanded:w,className:ce("".concat(y,"-expanded-row"),"".concat(y,"-expanded-row-level-").concat(u+1),Ee),prefixCls:y,component:x,cellComponent:p,colSpan:O.length,isEmpty:!1},Te)}return t.exports.createElement(t.exports.Fragment,null,me,he)}Qt.displayName="BodyRow";function Zt(e,n,r,o,a,s){var i=[];i.push({record:e,indent:n,index:s});var c=a(e),l=o==null?void 0:o.has(c);if(e&&Array.isArray(e[r])&&l)for(var d=0;d<e[r].length;d+=1){var f=Zt(e[r][d],n+1,r,o,a,d);i.push.apply(i,te(f))}return i}function er(e,n,r,o){var a=t.exports.useMemo(function(){if(r!=null&&r.size){for(var s=[],i=0;i<(e==null?void 0:e.length);i+=1){var c=e[i];s.push.apply(s,te(Zt(c,0,n,r,o,i)))}return s}return e==null?void 0:e.map(function(l,d){return{record:l,indent:0,index:d}})},[e,n,r,o]);return a}function tr(e){var n=e.columnKey,r=e.onColumnResize,o=t.exports.useRef();return t.exports.useEffect(function(){o.current&&r(n,o.current.offsetWidth)},[]),t.exports.createElement(st,{data:n},t.exports.createElement("td",{ref:o,style:{padding:0,border:0,height:0}},t.exports.createElement("div",{style:{height:0,overflow:"hidden"}}," ")))}function nr(e){var n=e.prefixCls,r=e.columnsKey,o=e.onColumnResize;return t.exports.createElement("tr",{"aria-hidden":"true",className:"".concat(n,"-measure-row"),style:{height:0,fontSize:0}},t.exports.createElement(st.Collection,{onBatchResize:function(s){s.forEach(function(i){var c=i.data,l=i.size;o(c,l.offsetWidth)})}},r.map(function(a){return t.exports.createElement(tr,{key:a,columnKey:a,onColumnResize:o})})))}function rr(e){var n=e.data,r=e.getRowKey,o=e.measureColumnWidth,a=e.expandedKeys,s=e.onRow,i=e.rowExpandable,c=e.emptyNode,l=e.childrenColumnName,d=t.exports.useContext(Jt),f=d.onColumnResize,u=t.exports.useContext(ue),x=u.prefixCls,p=u.getComponent,v=t.exports.useContext(Xe),E=v.flattenColumns,y=er(n,l,a,r),N=t.exports.useRef({renderWithProps:!1}),b=t.exports.useState(-1),O=V(b,2),D=O[0],L=O[1],T=t.exports.useState(-1),z=V(T,2),H=z[0],P=z[1],F=t.exports.useCallback(function(g,$){L(g),P($)},[]),W=t.exports.useMemo(function(){var g=p(["body","wrapper"],"tbody"),$=p(["body","row"],"tr"),R=p(["body","cell"],"td"),B;n.length?B=y.map(function(w,S){var U=w.record,G=w.indent,oe=w.index,J=r(U,S);return t.exports.createElement(Qt,{key:J,rowKey:J,record:U,recordKey:J,index:S,renderIndex:oe,rowComponent:$,cellComponent:R,expandedKeys:a,onRow:s,getRowKey:r,rowExpandable:i,childrenColumnName:l,indent:G})}):B=t.exports.createElement(qt,{expanded:!0,className:"".concat(x,"-placeholder"),prefixCls:x,component:$,cellComponent:R,colSpan:E.length,isEmpty:!0},c);var h=Ue(E);return t.exports.createElement(g,{className:"".concat(x,"-tbody")},o&&t.exports.createElement(nr,{prefixCls:x,columnsKey:h,onColumnResize:f}),B)},[n,x,s,o,a,r,p,c,E,l,f,i,y]);return t.exports.createElement(jt.Provider,{value:N.current},t.exports.createElement(Xt.Provider,{value:{startRow:D,endRow:H,onHover:F}},W))}var en=t.exports.memo(rr);en.displayName="Body";var or=["expandable"],tn="RC_TABLE_INTERNAL_COL_DEFINE";function ar(e){var n=e.expandable,r=we(e,or),o;return"expandable"in e?o=m(m({},r),n):o=r,o.showExpandColumn===!1&&(o.expandIconColumnIndex=-1),o}var ge={},lr=["children"],sr=["fixed"];function nn(e){return Pn(e).filter(function(n){return t.exports.isValidElement(n)}).map(function(n){var r=n.key,o=n.props,a=o.children,s=we(o,lr),i=m({key:r},s);return a&&(i.children=nn(a)),i})}function ot(e){return e.reduce(function(n,r){var o=r.fixed,a=o===!0?"left":o,s=r.children;return s&&s.length>0?[].concat(te(n),te(ot(s).map(function(i){return m({fixed:a},i)}))):[].concat(te(n),[m(m({},r),{},{fixed:a})])},[])}function ir(e){return e.map(function(n){var r=n.fixed,o=we(n,sr),a=r;return r==="left"?a="right":r==="right"&&(a="left"),m({fixed:a},o)})}function cr(e,n){var r=e.prefixCls,o=e.columns,a=e.children,s=e.expandable,i=e.expandedKeys,c=e.columnTitle,l=e.getRowKey,d=e.onTriggerExpand,f=e.expandIcon,u=e.rowExpandable,x=e.expandIconColumnIndex,p=e.direction,v=e.expandRowByClick,E=e.columnWidth,y=e.fixed,N=t.exports.useMemo(function(){return o||nn(a)},[o,a]),b=t.exports.useMemo(function(){if(s){var L,T=N.slice();if(!T.includes(ge)){var z=x||0;z>=0&&T.splice(z,0,ge)}var H=T.indexOf(ge);T=T.filter(function(g,$){return g!==ge||$===H});var P=N[H],F;(y==="left"||y)&&!x?F="left":(y==="right"||y)&&x===N.length?F="right":F=P?P.fixed:null;var W=(L={},I(L,tn,{className:"".concat(r,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),I(L,"title",c),I(L,"fixed",F),I(L,"className","".concat(r,"-row-expand-icon-cell")),I(L,"width",E),I(L,"render",function($,R,B){var h=l(R,B),w=i.has(h),S=u?u(R):!0,U=f({prefixCls:r,expanded:w,expandable:S,record:R,onExpand:d});return v?t.exports.createElement("span",{onClick:function(oe){return oe.stopPropagation()}},U):U}),L);return T.map(function(g){return g===ge?W:g})}return N.filter(function(g){return g!==ge})},[s,N,l,i,f,p]),O=t.exports.useMemo(function(){var L=b;return n&&(L=n(L)),L.length||(L=[{render:function(){return null}}]),L},[n,b,p]),D=t.exports.useMemo(function(){return p==="rtl"?ir(ot(O)):ot(O)},[O,p]);return[O,D]}function rn(e){var n=t.exports.useRef(e),r=t.exports.useState({}),o=V(r,2),a=o[1],s=t.exports.useRef(null),i=t.exports.useRef([]);function c(l){i.current.push(l);var d=Promise.resolve();s.current=d,d.then(function(){if(s.current===d){var f=i.current,u=n.current;i.current=[],f.forEach(function(x){n.current=x(n.current)}),s.current=null,u!==n.current&&a({})}})}return t.exports.useEffect(function(){return function(){s.current=null}},[]),[n.current,c]}function ur(e){var n=t.exports.useRef(e||null),r=t.exports.useRef();function o(){window.clearTimeout(r.current)}function a(i){n.current=i,o(),r.current=window.setTimeout(function(){n.current=null,r.current=void 0},100)}function s(){return n.current}return t.exports.useEffect(function(){return o},[]),[a,s]}function dr(e,n,r){var o=t.exports.useMemo(function(){for(var a=[],s=[],i=0,c=0,l=0;l<n;l+=1)if(r==="rtl"){s[l]=c,c+=e[l]||0;var d=n-l-1;a[d]=i,i+=e[d]||0}else{a[l]=i,i+=e[l]||0;var f=n-l-1;s[f]=c,c+=e[f]||0}return{left:a,right:s}},[e,n,r]);return o}var fr=["columnType"];function on(e){for(var n=e.colWidths,r=e.columns,o=e.columCount,a=[],s=o||r.length,i=!1,c=s-1;c>=0;c-=1){var l=n[c],d=r&&r[c],f=d&&d[tn];if(l||f||i){var u=f||{};u.columnType;var x=we(u,fr);a.unshift(t.exports.createElement("col",ie({key:c,style:{width:l}},x))),i=!0}}return t.exports.createElement("colgroup",null,a)}function Wt(e){var n=e.className,r=e.children;return t.exports.createElement("div",{className:n},r)}var an=t.exports.createContext({});function pr(e){var n=e.className,r=e.index,o=e.children,a=e.colSpan,s=a===void 0?1:a,i=e.rowSpan,c=e.align,l=t.exports.useContext(ue),d=l.prefixCls,f=l.direction,u=t.exports.useContext(an),x=u.scrollColumnIndex,p=u.stickyOffsets,v=u.flattenColumns,E=r+s-1,y=E+1===x?s+1:s,N=it(r,r+y-1,v,p,f);return t.exports.createElement(Ie,ie({className:n,index:r,component:"td",prefixCls:d,record:null,dataIndex:null,align:c,colSpan:y,rowSpan:i,render:function(){return o}},N))}var xr=["children"];function vr(e){var n=e.children,r=we(e,xr);return t.exports.createElement("tr",r,n)}function je(e){var n=e.children;return n}je.Row=vr;je.Cell=pr;function De(e){var n=e.children,r=e.stickyOffsets,o=e.flattenColumns,a=t.exports.useContext(ue),s=a.prefixCls,i=o.length-1,c=o[i],l=t.exports.useMemo(function(){return{stickyOffsets:r,flattenColumns:o,scrollColumnIndex:c!=null&&c.scrollbar?i:null}},[c,o,i,r]);return t.exports.createElement(an.Provider,{value:l},t.exports.createElement("tfoot",{className:"".concat(s,"-summary")},n))}var mr=je;function Cr(e){var n,r=e.prefixCls,o=e.record,a=e.onExpand,s=e.expanded,i=e.expandable,c="".concat(r,"-row-expand-icon");if(!i)return t.exports.createElement("span",{className:ce(c,"".concat(r,"-row-spaced"))});var l=function(f){a(o,f),f.stopPropagation()};return t.exports.createElement("span",{className:ce(c,(n={},I(n,"".concat(r,"-row-expanded"),s),I(n,"".concat(r,"-row-collapsed"),!s),n)),onClick:l})}function yr(e,n,r){var o=[];function a(s){(s||[]).forEach(function(i,c){o.push(n(i,c)),a(i[r])})}return a(e),o}var hr=function(n,r){var o,a,s=n.scrollBodyRef,i=n.onScroll,c=n.offsetScroll,l=n.container,d=t.exports.useContext(ue),f=d.prefixCls,u=((o=s.current)===null||o===void 0?void 0:o.scrollWidth)||0,x=((a=s.current)===null||a===void 0?void 0:a.clientWidth)||0,p=u&&x*(x/u),v=t.exports.useRef(),E=rn({scrollLeft:0,isHiddenScrollBar:!1}),y=V(E,2),N=y[0],b=y[1],O=t.exports.useRef({delta:0,x:0}),D=t.exports.useState(!1),L=V(D,2),T=L[0],z=L[1],H=function(){z(!1)},P=function(R){R.persist(),O.current.delta=R.pageX-N.scrollLeft,O.current.x=0,z(!0),R.preventDefault()},F=function(R){var B,h=R||((B=window)===null||B===void 0?void 0:B.event),w=h.buttons;if(!T||w===0){T&&z(!1);return}var S=O.current.x+R.pageX-O.current.x-O.current.delta;S<=0&&(S=0),S+p>=x&&(S=x-p),i({scrollLeft:S/x*(u+2)}),O.current.x=R.pageX},W=function(){if(!!s.current){var R=Bt(s.current).top,B=R+s.current.offsetHeight,h=l===window?document.documentElement.scrollTop+window.innerHeight:Bt(l).top+l.clientHeight;B-Pt()<=h||R>=h-c?b(function(w){return m(m({},w),{},{isHiddenScrollBar:!0})}):b(function(w){return m(m({},w),{},{isHiddenScrollBar:!1})})}},g=function(R){b(function(B){return m(m({},B),{},{scrollLeft:R/u*x||0})})};return t.exports.useImperativeHandle(r,function(){return{setScrollLeft:g}}),t.exports.useEffect(function(){var $=Ae(document.body,"mouseup",H,!1),R=Ae(document.body,"mousemove",F,!1);return W(),function(){$.remove(),R.remove()}},[p,T]),t.exports.useEffect(function(){var $=Ae(l,"scroll",W,!1),R=Ae(window,"resize",W,!1);return function(){$.remove(),R.remove()}},[l]),t.exports.useEffect(function(){N.isHiddenScrollBar||b(function($){var R=s.current;return R?m(m({},$),{},{scrollLeft:R.scrollLeft/R.scrollWidth*R.clientWidth}):$})},[N.isHiddenScrollBar]),u<=x||!p||N.isHiddenScrollBar?null:t.exports.createElement("div",{style:{height:Pt(),width:x,bottom:c},className:"".concat(f,"-sticky-scroll")},t.exports.createElement("div",{onMouseDown:P,ref:v,className:ce("".concat(f,"-sticky-scroll-bar"),I({},"".concat(f,"-sticky-scroll-bar-active"),T)),style:{width:"".concat(p,"px"),transform:"translate3d(".concat(N.scrollLeft,"px, 0, 0)")}}))};const Rr=t.exports.forwardRef(hr);var Kt=Bn()?window:null;function Sr(e,n){var r=Ve(e)==="object"?e:{},o=r.offsetHeader,a=o===void 0?0:o,s=r.offsetSummary,i=s===void 0?0:s,c=r.offsetScroll,l=c===void 0?0:c,d=r.getContainer,f=d===void 0?function(){return Kt}:d,u=f()||Kt;return t.exports.useMemo(function(){var x=!!e;return{isSticky:x,stickyClassName:x?"".concat(n,"-sticky-holder"):"",offsetHeader:a,offsetSummary:i,offsetScroll:l,container:u}},[l,a,i,n,u])}var gr=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function wr(e,n){return t.exports.useMemo(function(){for(var r=[],o=0;o<n;o+=1){var a=e[o];if(a!==void 0)r[o]=a;else return null}return r},[e.join("_"),n])}var at=t.exports.forwardRef(function(e,n){var r=e.className,o=e.noData,a=e.columns,s=e.flattenColumns,i=e.colWidths,c=e.columCount,l=e.stickyOffsets,d=e.direction,f=e.fixHeader,u=e.stickyTopOffset,x=e.stickyBottomOffset,p=e.stickyClassName,v=e.onScroll,E=e.maxContentScroll,y=e.children,N=we(e,gr),b=t.exports.useContext(ue),O=b.prefixCls,D=b.scrollbarSize,L=b.isSticky,T=L&&!f?0:D,z=t.exports.useRef(null),H=t.exports.useCallback(function(h){Ot(n,h),Ot(z,h)},[]);t.exports.useEffect(function(){var h;function w(S){var U=S.currentTarget,G=S.deltaX;G&&(v({currentTarget:U,scrollLeft:U.scrollLeft+G}),S.preventDefault())}return(h=z.current)===null||h===void 0||h.addEventListener("wheel",w),function(){var S;(S=z.current)===null||S===void 0||S.removeEventListener("wheel",w)}},[]);var P=t.exports.useMemo(function(){return s.every(function(h){return h.width>=0})},[s]),F=s[s.length-1],W={fixed:F?F.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(O,"-cell-scrollbar")}}},g=t.exports.useMemo(function(){return T?[].concat(te(a),[W]):a},[T,a]),$=t.exports.useMemo(function(){return T?[].concat(te(s),[W]):s},[T,s]),R=t.exports.useMemo(function(){var h=l.right,w=l.left;return m(m({},l),{},{left:d==="rtl"?[].concat(te(w.map(function(S){return S+T})),[0]):w,right:d==="rtl"?h:[].concat(te(h.map(function(S){return S+T})),[0]),isSticky:L})},[T,l,L]),B=wr(i,c);return t.exports.createElement("div",{style:m({overflow:"hidden"},L?{top:u,bottom:x}:{}),ref:H,className:ce(r,I({},p,!!p))},t.exports.createElement("table",{style:{tableLayout:"fixed",visibility:o||B?null:"hidden"}},(!o||!E||P)&&t.exports.createElement(on,{colWidths:B?[].concat(te(B),[T]):[],columCount:c+1,columns:$}),y(m(m({},N),{},{stickyOffsets:R,columns:g,flattenColumns:$}))))});at.displayName="FixedHolder";var Er=[],Nr={},nt="rc-table-internal-hook",br=t.exports.memo(function(e){var n=e.children;return n},function(e,n){return lt(e.props,n.props)?e.pingLeft!==n.pingLeft||e.pingRight!==n.pingRight:!1});function $e(e){var n,r=e.prefixCls,o=e.className,a=e.rowClassName,s=e.style,i=e.data,c=e.rowKey,l=e.scroll,d=e.tableLayout,f=e.direction,u=e.title,x=e.footer,p=e.summary,v=e.id,E=e.showHeader,y=e.components,N=e.emptyText,b=e.onRow,O=e.onHeaderRow,D=e.internalHooks,L=e.transformColumns,T=e.internalRefs,z=e.sticky,H=i||Er,P=!!H.length,F=t.exports.useCallback(function(C,k){return Vt(y||{},C)||k},[y]),W=t.exports.useMemo(function(){return typeof c=="function"?c:function(C){var k=C&&C[c];return k}},[c]),g=ar(e),$=g.expandIcon,R=g.expandedRowKeys,B=g.defaultExpandedRowKeys,h=g.defaultExpandAllRows,w=g.expandedRowRender,S=g.columnTitle,U=g.onExpand,G=g.onExpandedRowsChange,oe=g.expandRowByClick,J=g.rowExpandable,de=g.expandIconColumnIndex,Y=g.expandedRowClassName,ne=g.childrenColumnName,Q=g.indentSize,ve=$||Cr,me=ne||"children",he=t.exports.useMemo(function(){return w?"row":e.expandable&&D===nt&&e.expandable.__PARENT_RENDER_ICON__||H.some(function(C){return C&&Ve(C)==="object"&&C[me]})?"nest":!1},[!!w,H]),Te=t.exports.useState(function(){return B||(h?yr(H,W,me):[])}),Ee=V(Te,2),X=Ee[0],_=Ee[1],K=t.exports.useMemo(function(){return new Set(R||X||[])},[R,X]),q=t.exports.useCallback(function(C){var k=W(C,H.indexOf(C)),A,ee=K.has(k);ee?(K.delete(k),A=te(K)):A=[].concat(te(K),[k]),_(A),U&&U(!ee,C),G&&G(A)},[W,K,H,U,G]),ae=t.exports.useState(0),Z=V(ae,2),Re=Z[0],Se=Z[1],Ne=cr(m(m(m({},e),g),{},{expandable:!!w,columnTitle:S,expandedKeys:K,getRowKey:W,onTriggerExpand:q,expandIcon:ve,expandIconColumnIndex:de,direction:f}),D===nt?L:null),He=V(Ne,2),fe=He[0],M=He[1],j=t.exports.useMemo(function(){return{columns:fe,flattenColumns:M}},[fe,M]),pe=t.exports.useRef(),ct=t.exports.useRef(),le=t.exports.useRef(),ut=t.exports.useRef(),dt=t.exports.useRef(),ln=t.exports.useState(!1),ft=V(ln,2),pt=ft[0],Pe=ft[1],sn=t.exports.useState(!1),xt=V(sn,2),vt=xt[0],Be=xt[1],cn=rn(new Map),mt=V(cn,2),un=mt[0],dn=mt[1],fn=Ue(M),Ct=fn.map(function(C){return un.get(C)}),yt=t.exports.useMemo(function(){return Ct},[Ct.join("_")]),be=dr(yt,M.length,f),re=l&&rt(l.y),se=l&&rt(l.x)||Boolean(g.fixed),Me=se&&M.some(function(C){var k=C.fixed;return k}),ht=t.exports.useRef(),ke=Sr(z,r),Ce=ke.isSticky,pn=ke.offsetHeader,xn=ke.offsetSummary,vn=ke.offsetScroll,mn=ke.stickyClassName,Cn=ke.container,xe=p==null?void 0:p(H),Oe=(re||Ce)&&t.exports.isValidElement(xe)&&xe.type===je&&xe.props.fixed,Ye,ze,Ge;re&&(ze={overflowY:"scroll",maxHeight:l.y}),se&&(Ye={overflowX:"auto"},re||(ze={overflowY:"hidden"}),Ge={width:(l==null?void 0:l.x)===!0?"auto":l==null?void 0:l.x,minWidth:"100%"});var Rt=t.exports.useCallback(function(C,k){On(pe.current)&&dn(function(A){if(A.get(C)!==k){var ee=new Map(A);return ee.set(C,k),ee}return A})},[]),yn=ur(null),St=V(yn,2),hn=St[0],gt=St[1];function Fe(C,k){!k||(typeof k=="function"?k(C):k.scrollLeft!==C&&(k.scrollLeft=C))}var Le=function(k){var A=k.currentTarget,ee=k.scrollLeft,In=f==="rtl",ye=typeof ee=="number"?ee:A.scrollLeft,Ht=A||Nr;if(!gt()||gt()===Ht){var Ze;hn(Ht),Fe(ye,ct.current),Fe(ye,le.current),Fe(ye,dt.current),Fe(ye,(Ze=ht.current)===null||Ze===void 0?void 0:Ze.setScrollLeft)}if(A){var et=A.scrollWidth,tt=A.clientWidth;if(et===tt){Pe(!1),Be(!1);return}In?(Pe(-ye<et-tt),Be(-ye>0)):(Pe(ye>0),Be(ye<et-tt))}},wt=function(){se&&le.current?Le({currentTarget:le.current}):(Pe(!1),Be(!1))},Rn=function(k){var A=k.width;A!==Re&&(wt(),Se(pe.current?pe.current.offsetWidth:A))},Et=t.exports.useRef(!1);t.exports.useEffect(function(){Et.current&&wt()},[se,i,fe.length]),t.exports.useEffect(function(){Et.current=!0},[]);var Sn=t.exports.useState(0),Nt=V(Sn,2),We=Nt[0],bt=Nt[1],gn=t.exports.useState(!0),kt=V(gn,2),wn=kt[0],En=kt[1];t.exports.useEffect(function(){le.current instanceof Element?bt(zt(le.current).width):bt(zt(ut.current).width),En(zn("position","sticky"))},[]),t.exports.useEffect(function(){D===nt&&T&&(T.body.current=le.current)});var Lt=F(["table"],"table"),Ke=t.exports.useMemo(function(){return d||(Me?(l==null?void 0:l.x)==="max-content"?"auto":"fixed":re||Ce||M.some(function(C){var k=C.ellipsis;return k})?"fixed":"auto")},[re,Me,M,d,Ce]),_e,qe={colWidths:yt,columCount:M.length,stickyOffsets:be,onHeaderRow:O,fixHeader:re,scroll:l},Nn=t.exports.useMemo(function(){return P?null:typeof N=="function"?N():N},[P,N]),Tt=t.exports.createElement(en,{data:H,measureColumnWidth:re||se||Ce,expandedKeys:K,rowExpandable:J,getRowKey:W,onRow:b,emptyNode:Nn,childrenColumnName:me}),Mt=t.exports.createElement(on,{colWidths:M.map(function(C){var k=C.width;return k}),columns:M}),It=F(["body"]);if(re||Ce){var Je;typeof It=="function"?(Je=It(H,{scrollbarSize:We,ref:le,onScroll:Le}),qe.colWidths=M.map(function(C,k){var A=C.width,ee=k===fe.length-1?A-We:A;return typeof ee=="number"&&!Number.isNaN(ee)?ee:(Fn(!1,"When use `components.body` with render props. Each column should have a fixed `width` value."),0)})):Je=t.exports.createElement("div",{style:m(m({},Ye),ze),onScroll:Le,ref:le,className:ce("".concat(r,"-body"))},t.exports.createElement(Lt,{style:m(m({},Ge),{},{tableLayout:Ke})},Mt,Tt,!Oe&&xe&&t.exports.createElement(De,{stickyOffsets:be,flattenColumns:M},xe)));var $t=m(m(m({noData:!H.length,maxContentScroll:se&&l.x==="max-content"},qe),j),{},{direction:f,stickyClassName:mn,onScroll:Le});_e=t.exports.createElement(t.exports.Fragment,null,E!==!1&&t.exports.createElement(at,ie({},$t,{stickyTopOffset:pn,className:"".concat(r,"-header"),ref:ct}),function(C){return t.exports.createElement(t.exports.Fragment,null,t.exports.createElement(Ft,C),Oe==="top"&&t.exports.createElement(De,C,xe))}),Je,Oe&&Oe!=="top"&&t.exports.createElement(at,ie({},$t,{stickyBottomOffset:xn,className:"".concat(r,"-summary"),ref:dt}),function(C){return t.exports.createElement(De,C,xe)}),Ce&&t.exports.createElement(Rr,{ref:ht,offsetScroll:vn,scrollBodyRef:le,onScroll:Le,container:Cn}))}else _e=t.exports.createElement("div",{style:m(m({},Ye),ze),className:ce("".concat(r,"-content")),onScroll:Le,ref:le},t.exports.createElement(Lt,{style:m(m({},Ge),{},{tableLayout:Ke})},Mt,E!==!1&&t.exports.createElement(Ft,ie({},qe,j)),Tt,xe&&t.exports.createElement(De,{stickyOffsets:be,flattenColumns:M},xe)));var bn=Wn(e,{aria:!0,data:!0}),Qe=t.exports.createElement("div",ie({className:ce(r,o,(n={},I(n,"".concat(r,"-rtl"),f==="rtl"),I(n,"".concat(r,"-ping-left"),pt),I(n,"".concat(r,"-ping-right"),vt),I(n,"".concat(r,"-layout-fixed"),d==="fixed"),I(n,"".concat(r,"-fixed-header"),re),I(n,"".concat(r,"-fixed-column"),Me),I(n,"".concat(r,"-scroll-horizontal"),se),I(n,"".concat(r,"-has-fix-left"),M[0]&&M[0].fixed),I(n,"".concat(r,"-has-fix-right"),M[M.length-1]&&M[M.length-1].fixed==="right"),n)),style:s,id:v,ref:pe},bn),t.exports.createElement(br,{pingLeft:pt,pingRight:vt,props:m(m({},e),{},{stickyOffsets:be,mergedExpandedKeys:K})},u&&t.exports.createElement(Wt,{className:"".concat(r,"-title")},u(H)),t.exports.createElement("div",{ref:ut,className:"".concat(r,"-container")},_e),x&&t.exports.createElement(Wt,{className:"".concat(r,"-footer")},x(H))));se&&(Qe=t.exports.createElement(st,{onResize:Rn},Qe));var kn=t.exports.useMemo(function(){return{prefixCls:r,getComponent:F,scrollbarSize:We,direction:f,fixedInfoList:M.map(function(C,k){return it(k,k,M,be,f)}),isSticky:Ce}},[r,F,We,f,M,be,Ce]),Ln=t.exports.useMemo(function(){return m(m({},j),{},{tableLayout:Ke,rowClassName:a,expandedRowClassName:Y,expandIcon:ve,expandableType:he,expandRowByClick:oe,expandedRowRender:w,onTriggerExpand:q,expandIconColumnIndex:de,indentSize:Q,allColumnsFixedLeft:j.flattenColumns.every(function(C){return C.fixed==="left"})})},[j,Ke,a,Y,ve,he,oe,w,q,de,Q]),Tn=t.exports.useMemo(function(){return{componentWidth:Re,fixHeader:re,fixColumn:Me,horizonScroll:se}},[Re,re,Me,se]),Mn=t.exports.useMemo(function(){return{onColumnResize:Rt}},[Rt]);return t.exports.createElement(Ut.Provider,{value:wn},t.exports.createElement(ue.Provider,{value:kn},t.exports.createElement(Xe.Provider,{value:Ln},t.exports.createElement(_t.Provider,{value:Tn},t.exports.createElement(Jt.Provider,{value:Mn},Qe)))))}$e.EXPAND_COLUMN=ge;$e.Column=An;$e.ColumnGroup=Kn;$e.Summary=mr;$e.defaultProps={rowKey:"key",prefixCls:"rc-table",emptyText:function(){return"No Data"}};export{mr as F,tn as I,$e as T,nt as a,nn as c};
