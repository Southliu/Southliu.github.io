{"version":3,"file":"page_dataScreen_comp_AnnualUseChart.01cea72b.js","sources":["../../../src/pages/dataScreen/components/AnnualUseChart/index.tsx"],"sourcesContent":["import type { EChartsOption } from 'echarts'\nimport { useEcharts } from '@/hooks/useEcharts'\nimport styles from './index.module.less'\n\ninterface IChartProp {\n  label: string\n  value: string[]\n}\n\ninterface IData {\n  dataIndex: number;\n  color: string;\n  seriesName: string;\n  data: number;\n}\n\nconst AnnualUseChart = () => {\n  const gradientColors = [\"rgba(254, 219, 101,0.1)\", \"rgba(0, 122, 254,0.1)\", \"rgba(255, 75, 122, 0.1)\"]\n  const annualData = [\n    {\n      label: new Date().getFullYear() - 2 + \"年\",\n      value: [\"184\", \"90\", \"120\", \"0\", \"30\", \"100\", \"80\", \"40\", \"20\", \"510\", \"350\", \"180\"]\n    },\n    {\n      label: new Date().getFullYear() - 1 + \"年\",\n      value: [\"118\", \"509\", \"366\", \"162\", \"380\", \"123\", \"321\", \"158\", \"352\", \"474\", \"154\", \"22\"]\n    },\n    {\n      label: new Date().getFullYear() + \"年\",\n      value: [\"548\", \"259\", \"113\", \"90\", \"69\", \"512\", \"23\", \"49\", \"28\", \"420\", \"313\", \"156\"]\n    }\n  ]\n  const data = {\n    data: annualData,\n    unit: annualData.map(val => val.label),\n    columns: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\", \"12\"],\n    colors: [\"#FFA600\", \"#007AFE\", \"#FF4B7A\"]\n  }\n  const option: EChartsOption = {\n    tooltip: {\n      trigger: \"axis\",\n      axisPointer: {\n        type: \"none\"\n      },\n      borderWidth: 0, //边框线宽\n      padding: 0,\n      backgroundColor: \"transparent\",\n      formatter: (p) => {\n        let str = \"\";\n        (p as IData[]).forEach((val: IData) => {\n          str += `\n          <div class=${styles.item}>\n            <span class=${styles.dot} style=\"background-color: ${val.color}\"></span>\n            <span class=${styles.name}>${val.seriesName}</span>\n            <span class=${styles.value}>${val.data >= 10000 ? (val.data / 10000).toFixed(2) + \"w\" : val.data}</span>\n          </div>\n          `\n        })\n        const dom = `\n                    <div class=${styles.tooTip}>\n                      <span class=${styles.month}>${(p as IData[])[0].dataIndex + 1}月</span>\n                      <div class=${styles.list}>\n                        ${str}\n                      </div>\n                    </div>\n                  `\n        return dom\n      }\n    },\n    legend: {\n      right: \"2%\",\n      top: \"0%\",\n      itemWidth: 15,\n      itemHeight: 6,\n      align: \"auto\",\n      icon: \"rect\",\n      itemGap: 15,\n      textStyle: {\n        color: \"#ebebf0\"\n      }\n    },\n    grid: {\n      top: \"20%\",\n      left: \"40\",\n      right: \"4%\",\n      bottom: \"15%\"\n      // containLabel: true\n    },\n    xAxis: [\n      {\n        name: \"(月份)\",\n        type: \"category\",\n        boundaryGap: false,\n        axisLine: {\n          //坐标轴轴线相关设置。数学上的x轴\n          show: true,\n          lineStyle: {\n            color: \"#233653\"\n          }\n        },\n        axisLabel: {\n          //坐标轴刻度标签的相关设置\n          color: \"#7ec7ff\",\n          padding: 0,\n          fontSize: 12,\n          formatter: function (data) {\n            return data\n          }\n        },\n        splitLine: {\n          show: false,\n          lineStyle: {\n            color: \"#192a44\"\n          }\n        },\n        axisTick: {\n          show: false\n        },\n        data: data.columns\n      }\n    ],\n    yAxis: {\n      name: \"(人数)\",\n      nameTextStyle: {\n        color: \"#D6DFEA\",\n        fontSize: 12,\n        padding: [0, 30, 0, 0]\n      },\n      // nameGap:18,\n      minInterval: 1,\n      // min: 4,\n      splitNumber: 5,\n      splitLine: {\n        show: false,\n        lineStyle: {\n          color: \"#192a44\"\n        }\n      },\n      axisLine: {\n        show: true,\n        lineStyle: {\n          color: \"#233653\"\n        }\n      },\n      axisLabel: {\n        show: true,\n        color: \"#B9D6D6\",\n        padding: 0,\n        formatter: (value: string) => {\n          if (Number(value) >= 10000) {\n            value = Number(value) / 10000 + \"w\"\n          }\n          return value\n        }\n      },\n      axisTick: {\n        show: false\n      }\n    },\n    series: data.data.map((val: IChartProp, index: number) => {\n      return {\n        name: val.label,\n        type: \"line\",\n        symbol: \"circle\", // 默认是空心圆（中间是白色的），改成实心圆\n        showSymbol: false,\n        smooth: true,\n        lineStyle: {\n          width: 1,\n          color: data.colors[index], // 线条颜色\n          borderColor: data.colors[index]\n        },\n        itemStyle: {\n          color: data.colors[index],\n          borderColor: \"#646ace\",\n          borderWidth: 2\n        },\n        tooltip: {\n          show: true\n        },\n        areaStyle: {\n          //区域填充样式\n          //线性渐变，前4个参数分别是x0,y0,x2,y2(范围0~1)相当于图形包围盒中的百分比。如果最后一个参数是‘true’，则该四个值是绝对像素位置。\n          color: {\n            type: \"linear\",\n            x: 0,\n            y: 0,\n            x2: 0,\n            y2: 1,\n            colorStops: [\n              {\n                offset: 0,\n                color: data.colors[index] // 0% 处的颜色\n              },\n              {\n                offset: 1,\n                color: gradientColors[index] // 100% 处的颜色\n              }\n            ],\n            global: false // 缺省为 false\n          },\n          shadowColor: \"rgba(25,163,223, 0.3)\", //阴影颜色\n          shadowBlur: 20 //shadowBlur设图形阴影的模糊大小。配合shadowColor,shadowOffsetX/Y, 设置图形的阴影效果。\n        },\n        data: val.value\n      }\n    })\n  }\n  const [echartsRef] = useEcharts(option, data)\n  return <div ref={echartsRef} style={{ width: \"100%\", height: \"100%\" }}></div>\n}\n\nexport default AnnualUseChart\n"],"names":["AnnualUseChart","gradientColors","annualData","data","val","option","p","str","styles","value","index","echartsRef","useEcharts","jsx"],"mappings":"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"}