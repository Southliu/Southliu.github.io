import{e as d,c as ae,h as J,f as Q}from"./@babel_runtime.0b96ec9f.js";import{r as t}from"./react.017637b6.js";import{P as de}from"./@rc-component_portal.fc801a5c.js";import{c as I}from"./classnames.96a48171.js";import{C as U}from"./rc-motion.8586b577.js";import{a as ue,K as Y}from"./rc-util.88348ebb.js";var fe=function(a){var u=a.prefixCls,i=a.className,c=a.style,l=a.children,s=a.containerRef;return t.exports.createElement(t.exports.Fragment,null,t.exports.createElement("div",{className:I("".concat(u,"-content"),i),style:d({},c),"aria-modal":"true",role:"dialog",ref:s},l))},Z=t.exports.createContext(null);function ee(e){return typeof e=="string"&&String(Number(e))===e?(ue(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var te={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function me(e){var a,u,i,c,l=e.prefixCls,s=e.open,f=e.placement,w=e.inline,p=e.push,N=e.forceRender,S=e.autoFocus,E=e.keyboard,K=e.rootClassName,D=e.rootStyle,k=e.zIndex,P=e.className,A=e.style,h=e.motion,R=e.width,b=e.height,M=e.children,$=e.contentWrapperStyle,O=e.mask,g=e.maskClosable,z=e.maskMotion,T=e.maskClassName,V=e.maskStyle,_=e.afterOpenChange,C=e.onClose,j=t.exports.useRef(),W=t.exports.useRef(),B=t.exports.useRef(),ne=function(o){var y=o.keyCode,x=o.shiftKey;switch(y){case Y.TAB:{if(y===Y.TAB){if(!x&&document.activeElement===B.current){var L;(L=W.current)===null||L===void 0||L.focus({preventScroll:!0})}else if(x&&document.activeElement===W.current){var X;(X=B.current)===null||X===void 0||X.focus({preventScroll:!0})}}break}case Y.ESC:{C&&E&&C(o);break}}};t.exports.useEffect(function(){if(s&&S){var n;(n=j.current)===null||n===void 0||n.focus({preventScroll:!0})}},[s,S]);var re=t.exports.useState(!1),H=ae(re,2),oe=H[0],q=H[1],r=t.exports.useContext(Z),F;p===!1?F={distance:0}:p===!0?F={}:F=p||{};var m=(a=(u=(i=F)===null||i===void 0?void 0:i.distance)!==null&&u!==void 0?u:r==null?void 0:r.pushDistance)!==null&&a!==void 0?a:180,le=t.exports.useMemo(function(){return{pushDistance:m,push:function(){q(!0)},pull:function(){q(!1)}}},[m]);t.exports.useEffect(function(){if(s){var n;r==null||(n=r.push)===null||n===void 0||n.call(r)}else{var o;r==null||(o=r.pull)===null||o===void 0||o.call(r)}},[s]),t.exports.useEffect(function(){return function(){var n;r==null||(n=r.pull)===null||n===void 0||n.call(r)}},[]);var se=O&&t.exports.createElement(U,J({key:"mask"},z,{visible:s}),function(n,o){var y=n.className,x=n.style;return t.exports.createElement("div",{className:I("".concat(l,"-mask"),y,T),style:d(d({},x),V),onClick:g?C:void 0,ref:o})}),ie=typeof h=="function"?h(f):h,v={};if(oe&&m)switch(f){case"top":v.transform="translateY(".concat(m,"px)");break;case"bottom":v.transform="translateY(".concat(-m,"px)");break;case"left":v.transform="translateX(".concat(m,"px)");break;default:v.transform="translateX(".concat(-m,"px)");break}f==="left"||f==="right"?v.width=ee(R):v.height=ee(b);var ce=t.exports.createElement(U,J({key:"panel"},ie,{visible:s,forceRender:N,onVisibleChanged:function(o){_==null||_(o)},removeOnLeave:!1,leavedClassName:"".concat(l,"-content-wrapper-hidden")}),function(n,o){var y=n.className,x=n.style;return t.exports.createElement("div",{className:I("".concat(l,"-content-wrapper"),y),style:d(d(d({},v),x),$)},t.exports.createElement(fe,{containerRef:o,prefixCls:l,className:P,style:A},M))}),G=d({},D);return k&&(G.zIndex=k),t.exports.createElement(Z.Provider,{value:le},t.exports.createElement("div",{className:I(l,"".concat(l,"-").concat(f),K,(c={},Q(c,"".concat(l,"-open"),s),Q(c,"".concat(l,"-inline"),w),c)),style:G,tabIndex:-1,ref:j,onKeyDown:ne},se,t.exports.createElement("div",{tabIndex:0,ref:W,style:te,"aria-hidden":"true","data-sentinel":"start"}),ce,t.exports.createElement("div",{tabIndex:0,ref:B,style:te,"aria-hidden":"true","data-sentinel":"end"})))}var ke=function(a){var u=a.open,i=u===void 0?!1:u,c=a.prefixCls,l=c===void 0?"rc-drawer":c,s=a.placement,f=s===void 0?"right":s,w=a.autoFocus,p=w===void 0?!0:w,N=a.keyboard,S=N===void 0?!0:N,E=a.width,K=E===void 0?378:E,D=a.mask,k=D===void 0?!0:D,P=a.maskClosable,A=P===void 0?!0:P,h=a.getContainer,R=a.forceRender,b=a.afterOpenChange,M=a.destroyOnClose,$=t.exports.useState(!1),O=ae($,2),g=O[0],z=O[1],T=function(C){z(C),b==null||b(C)};if(!R&&!g&&!i&&M)return null;var V=d(d({},a),{},{open:i,prefixCls:l,placement:f,autoFocus:p,keyboard:S,width:K,mask:k,maskClosable:A,inline:h===!1,afterOpenChange:T});return t.exports.createElement(de,{open:i||R||g,autoDestroy:!1,getContainer:h,autoLock:k&&(i||g)},t.exports.createElement(me,V))};export{ke as D};
