import{r as e,j as l}from"./react@18.2.0.CwGjMYfB.js";import{h as s,b as a,c as i}from"./componentMap.BIshPoT7.js";import{u as t}from"./react-i18next@14.1.1_i18next@23.11.4_react-dom@18.2.0_react@18.2.0.CoFanrD1.js";import{F as n,f as r,e as o,B as d}from"./antd@5.20.2_react-dom@18.2.0_react@18.2.0.DxyHYYAl.js";import{l as c,m,n as h}from"./@ant-design_icons@5.3.7_react-dom@18.2.0_react@18.2.0.1hpSyJyf.js";const p=e.forwardRef(((p,u)=>{var f;const{list:x,data:j,isLoading:b,isSearch:w=!0,isClear:C=!0,isRowExpand:v=!0,style:y,className:F,children:N,labelCol:g,wrapperCol:_,defaultColCount:S=4,defaultRowExpand:W=2,handleFinish:E}=p,{t:I}=t(),[R]=n.useForm(),[k,B]=e.useState(!1),[L,V]=e.useState(v);e.useEffect((()=>{if(V(v),v){V(S*W<x.length)}}),[S,W,v,x.length]);const A={...p};delete A.isSearch,delete A.isClear,delete A.isLoading,delete A.handleFinish;const H=()=>{null==R||R.submit()},M=e=>(null==e?void 0:e.labelWidth)?{style:{width:e.labelWidth}}:(null==e?void 0:e.labelCol)?e.labelCol:g||{span:6},P=e=>(null==e?void 0:e.wrapperWidth)?{style:{width:e.wrapperWidth}}:(null==e?void 0:e.wrapperCol)?e.wrapperCol:_||{span:18};return l.jsx("div",{id:"searches",style:y,className:F,children:l.jsx(n,{layout:"inline",...A,ref:u,form:R,initialValues:j,onFinish:e=>{if(E){const l=i(e,x);null==E||E(l)}},onFinishFailed:e=>{},autoComplete:"off",children:l.jsxs(r,{wrap:!0,className:"w-full",children:[null==(f=(e=>{if(!L)return e;const l=S*W;for(let s=0;s<e.length;s++){const a=e[s];s<l?a.hidden=!1:a.hidden=!k}return e})(x))?void 0:f.map((e=>l.jsx("div",{style:{width:e.hidden?0:100/S+"%"},children:l.jsx(n.Item,{label:e.label,name:e.name,className:"!mb-5px",hidden:e.hidden,labelCol:M(e),wrapperCol:P(e),rules:e.rules,valuePropName:s(e.component),children:a(I,e,H)})},`${e.name}`))),l.jsx(o,{flex:(null==x?void 0:x.length)%S==0||L?"auto":void 0,children:l.jsx(r,{justify:"flex-end",children:l.jsxs("div",{className:"flex items-center flex-wrap",children:[!!w&&l.jsx(n.Item,{children:l.jsx(d,{type:"primary",htmlType:"submit",className:"!mb-5px",loading:b,icon:l.jsx(c,{}),children:I("public.search")})}),!!C&&l.jsx(n.Item,{children:l.jsx(d,{className:"!mb-5px",icon:l.jsx(m,{}),onClick:()=>{null==R||R.resetFields(),null==R||R.setFieldsValue(j?{...j}:{}),null==R||R.submit()},children:I("public.clear")})}),N,!!L&&l.jsxs("div",{className:"text-12px cursor-pointer color-#1677ff hover:color-#69b1ff",onClick:()=>{B(!k)},children:[l.jsx(h,{rotate:k?180:0}),k?"收缩":"展开"]})]})})})]})})})}));export{p as B};
