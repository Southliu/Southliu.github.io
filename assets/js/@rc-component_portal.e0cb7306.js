import{e as n,g as t}from"./@babel_runtime.d775819b.js";import{r as e}from"./react.a7da97a2.js";import{r}from"./react-dom.cfbe57ec.js";import{c as o,b as u,f as c,a,r as i,s as l,h as f}from"./rc-util.b2252098.js";var d=e.createContext(null),s=[];var m="rc-util-locker-".concat(Date.now()),v=0;function h(t){var r=!!t,o=e.useState((function(){return v+=1,"".concat(m,"_").concat(v)})),l=n(o,1)[0];u((function(){if(r){var n=c(document.body).width,t=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;a("\nhtml body {\n  overflow-y: hidden;\n  ".concat(t?"width: calc(100% - ".concat(n,"px);"):"","\n}"),l)}else i(l);return function(){i(l)}}),[r,l])}var p=!1;var y=function(n){return!1!==n&&(o()&&n?"string"==typeof n?document.querySelector(n):"function"==typeof n?n():n:null)},b=e.forwardRef((function(c,a){var i=c.open,m=c.autoLock,v=c.getContainer;c.debug;var b=c.autoDestroy,w=void 0===b||b,E=c.children,g=e.useState(i),S=n(g,2),C=S[0],j=S[1],x=C||i;e.useEffect((function(){(w||i)&&j(i)}),[i,w]);var H=e.useState((function(){return y(v)})),P=n(H,2),k=P[0],D=P[1];e.useEffect((function(){var n=y(v);D(null!=n?n:null)}));var R=function(r,c){var a=e.useState((function(){return o()?document.createElement("div"):null})),i=n(a,1)[0],l=e.useRef(!1),f=e.useContext(d),m=e.useState(s),v=n(m,2),h=v[0],p=v[1],y=f||(l.current?void 0:function(n){p((function(e){return[n].concat(t(e))}))});function b(){i.parentElement||document.body.appendChild(i),l.current=!0}function w(){var n;null===(n=i.parentElement)||void 0===n||n.removeChild(i),l.current=!1}return u((function(){return r?f?f(b):b():w(),w}),[r]),u((function(){h.length&&(h.forEach((function(n){return n()})),p(s))}),[h]),[i,y]}(x&&!k),W=n(R,2),_=W[0],q=W[1],L=null!=k?k:_;h(m&&i&&o()&&(L===_||L===document.body));var z=null;E&&l(E)&&a&&(z=E.ref);var A=f(z,a);if(!x||!o()||void 0===k)return null;var B,F=!1===L||("boolean"==typeof B&&(p=B),p),G=E;return a&&(G=e.cloneElement(E,{ref:A})),e.createElement(d.Provider,{value:q},F?G:r.createPortal(G,L))}));export{b as P};
