import{d as f,c as z}from"./@babel_runtime.903d5e4f.js";import{r}from"./react.ee35a6c4.js";import{r as A}from"./react-dom.d198892c.js";import{c as R,d as E,g as B,u as M,r as D,s as O,e as W}from"./rc-util.5b7f5d25.js";var L=r.createContext(null),b=[];function N(e,t){var u=r.useState(function(){if(!R())return null;var a=document.createElement("div");return a}),d=f(u,1),n=d[0],o=r.useContext(L),l=r.useState(b),c=f(l,2),s=c[0],v=c[1],p=o||function(a){v(function(_){var i=[a].concat(z(_));return i})};function S(){n.parentElement||document.body.appendChild(n)}function m(){var a;(a=n.parentElement)===null||a===void 0||a.removeChild(n)}return E(function(){return e?o?o(S):S():m(),m},[e]),E(function(){s.length&&(s.forEach(function(a){return a()}),v(b))},[s]),[n,p]}function Y(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var j="rc-util-locker-".concat(Date.now()),P=0;function F(e){var t=!!e,u=r.useState(function(){return P+=1,"".concat(j,"_").concat(P)}),d=f(u,1),n=d[0];E(function(){if(t){var o=B(),l=Y();M(`
html body {
  overflow-y: hidden;
  `.concat(l?"width: calc(100% - ".concat(o,"px);"):"",`
}`),n)}else D(n);return function(){D(n)}},[t,n])}var k=!1;function G(e){return typeof e=="boolean"&&(k=e),k}var x=function(t){return t===!1?!1:!R()||!t?null:typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t},Z=r.forwardRef(function(e,t){var u=e.open,d=e.autoLock,n=e.getContainer;e.debug;var o=e.autoDestroy,l=o===void 0?!0:o,c=e.children,s=r.useState(u),v=f(s,2),p=v[0],S=v[1],m=p||u;r.useEffect(function(){(l||u)&&S(u)},[u,l]);var a=r.useState(function(){return x(n)}),_=f(a,2),i=_[0],q=_[1];r.useEffect(function(){var C=x(n);q(C??null)});var I=N(m&&!i),g=f(I,2),$=g[0],Q=g[1],h=i??$;F(d&&u&&R()&&(h===$||h===document.body));var w=null;if(c&&O(c)&&t){var H=c;w=H.ref}var T=W(w,t);if(!m||!R()||i===void 0)return null;var U=h===!1||G(),y=c;return t&&(y=r.cloneElement(c,{ref:T})),r.createElement(L.Provider,{value:Q},U?y:A.createPortal(y,h))});export{Z as P};
