import{r as e}from"./react@18.3.1.BYZOCa2p.js";import{c as n,a as t,u as r}from"./@rc-component_context@1.4.0_react-dom@18.3.1_react@18.3.1.Vk6LpY1-.js";import"./react-is@18.3.1.D9jp0pkd.js";import{e as o,f as l,b as a,d as c,h as i,c as u,g as s}from"./@babel_runtime@7.24.5.vhYC90HJ.js";import{c as f}from"./classnames@2.5.1.CB5yGgp2.js";import{u as d,i as m,E as p,e as v,k as x,x as h,c as y,q as C,M as w,N as g,O as E,m as S,f as b,P as N,A as R}from"./rc-util@5.39.3_react-dom@18.3.1_react@18.3.1.BhGnBYz_.js";import{R as k}from"./rc-resize-observer@1.4.0_react-dom@18.3.1_react@18.3.1.BV40rzn3.js";import{L as I}from"./rc-virtual-list@3.12.0_react-dom@18.3.1_react@18.3.1.BKbm2gyr.js";var H={},L="rc-table-internal-hook",M=n(),T=M.makeImmutable,K=M.responseImmutable,W=M.useImmutableMark,z=t(),O=e.createContext({renderWithProps:!1}),P="RC_TABLE_KEY";function _(e){var n=[],t={};return e.forEach((function(e){for(var r,o=e||{},l=o.key,a=o.dataIndex,c=l||(r=a,null==r?[]:Array.isArray(r)?r:[r]).join("-")||P;t[c];)c="".concat(c,"_next");t[c]=!0,n.push(c)})),n}function B(e){return null!=e}function A(n,t,r,a,c,i){var u=e.useContext(O),s=W();return d((function(){if(B(a))return[a];var o,i=null==t||""===t?[]:Array.isArray(t)?t:[t],s=p(n,i),f=s,d=void 0;if(c){var m=c(s,n,r);!(o=m)||"object"!==l(o)||Array.isArray(o)||e.isValidElement(o)?f=m:(f=m.children,d=m.props,u.renderWithProps=!0)}return[f,d]}),[s,n,a,t,c,r],(function(e,n){if(i){var t=o(e,2)[1],r=o(n,2)[1];return i(r,t)}return!!u.renderWithProps||!m(e,n,!0)}))}function j(n){var t,u,s,d,m,p,x,h,y=n.component,C=n.children,w=n.ellipsis,g=n.scope,E=n.prefixCls,S=n.className,b=n.align,N=n.record,R=n.render,k=n.dataIndex,I=n.renderIndex,H=n.shouldCellUpdate,L=n.index,M=n.rowType,T=n.colSpan,K=n.rowSpan,W=n.fixLeft,O=n.fixRight,P=n.firstFixLeft,_=n.lastFixLeft,B=n.firstFixRight,j=n.lastFixRight,F=n.appendNode,X=n.additionalProps,D=void 0===X?{}:X,V=n.isSticky,U="".concat(E,"-cell"),Y=r(z,["supportSticky","allColumnsFixedLeft","rowHoverable"]),q=Y.supportSticky,G=Y.allColumnsFixedLeft,J=Y.rowHoverable,Q=A(N,k,I,C,R,H),Z=o(Q,2),$=Z[0],ee=Z[1],ne={},te="number"==typeof W&&q,re="number"==typeof O&&q;te&&(ne.position="sticky",ne.left=W),re&&(ne.position="sticky",ne.right=O);var oe=null!==(t=null!==(u=null!==(s=null==ee?void 0:ee.colSpan)&&void 0!==s?s:D.colSpan)&&void 0!==u?u:T)&&void 0!==t?t:1,le=null!==(d=null!==(m=null!==(p=null==ee?void 0:ee.rowSpan)&&void 0!==p?p:D.rowSpan)&&void 0!==m?m:K)&&void 0!==d?d:1,ae=function(e,n){return r(z,(function(t){var r,o,l,a;return[(r=e,o=n||1,l=t.hoverStartRow,a=t.hoverEndRow,r<=a&&r+o-1>=l),t.onHover]}))}(L,le),ce=o(ae,2),ie=ce[0],ue=ce[1],se=v((function(e){var n;N&&ue(L,L+le-1),null==D||null===(n=D.onMouseEnter)||void 0===n||n.call(D,e)})),fe=v((function(e){var n;N&&ue(-1,-1),null==D||null===(n=D.onMouseLeave)||void 0===n||n.call(D,e)}));if(0===oe||0===le)return null;var de=null!==(x=D.title)&&void 0!==x?x:function(n){var t,r=n.ellipsis,o=n.rowType,l=n.children,a=!0===r?{showTitle:!0}:r;return a&&(a.showTitle||"header"===o)&&("string"==typeof l||"number"==typeof l?t=l.toString():e.isValidElement(l)&&"string"==typeof l.props.children&&(t=l.props.children)),t}({rowType:M,ellipsis:w,children:$}),me=f(U,S,(a(a(a(a(a(a(a(a(a(a(h={},"".concat(U,"-fix-left"),te&&q),"".concat(U,"-fix-left-first"),P&&q),"".concat(U,"-fix-left-last"),_&&q),"".concat(U,"-fix-left-all"),_&&G&&q),"".concat(U,"-fix-right"),re&&q),"".concat(U,"-fix-right-first"),B&&q),"".concat(U,"-fix-right-last"),j&&q),"".concat(U,"-ellipsis"),w),"".concat(U,"-with-append"),F),"".concat(U,"-fix-sticky"),(te||re)&&V&&q),a(h,"".concat(U,"-row-hover"),!ee&&ie)),D.className,null==ee?void 0:ee.className),pe={};b&&(pe.textAlign=b);var ve=c(c(c(c({},ne),D.style),pe),null==ee?void 0:ee.style),xe=$;return"object"!==l(xe)||Array.isArray(xe)||e.isValidElement(xe)||(xe=null),w&&(_||B)&&(xe=e.createElement("span",{className:"".concat(U,"-content")},xe)),e.createElement(y,i({},ee,D,{className:me,style:ve,title:de,scope:g,onMouseEnter:J?se:void 0,onMouseLeave:J?fe:void 0,colSpan:1!==oe?oe:null,rowSpan:1!==le?le:null}),F,xe)}const F=e.memo(j);function X(e,n,t,r,o){var l,a,c=t[e]||{},i=t[n]||{};"left"===c.fixed?l=r.left["rtl"===o?n:e]:"right"===i.fixed&&(a=r.right["rtl"===o?e:n]);var u=!1,s=!1,f=!1,d=!1,m=t[n+1],p=t[e-1],v=m&&!m.fixed||p&&!p.fixed||t.every((function(e){return"left"===e.fixed}));if("rtl"===o){if(void 0!==l)d=!(p&&"left"===p.fixed)&&v;else if(void 0!==a){f=!(m&&"right"===m.fixed)&&v}}else if(void 0!==l){u=!(m&&"left"===m.fixed)&&v}else if(void 0!==a){s=!(p&&"right"===p.fixed)&&v}return{fixLeft:l,fixRight:a,lastFixLeft:u,firstFixRight:s,lastFixRight:f,firstFixLeft:d,isSticky:r.isSticky}}var D=e.createContext({});var V=["children"];function U(e){return e.children}U.Row=function(n){var t=n.children,r=u(n,V);return e.createElement("tr",r,t)},U.Cell=function(n){var t=n.className,o=n.index,l=n.children,a=n.colSpan,c=void 0===a?1:a,u=n.rowSpan,s=n.align,f=r(z,["prefixCls","direction"]),d=f.prefixCls,m=f.direction,p=e.useContext(D),v=p.scrollColumnIndex,x=p.stickyOffsets,h=o+c-1+1===v?c+1:c,y=X(o,o+h-1,p.flattenColumns,x,m);return e.createElement(F,i({className:t,index:o,component:"td",prefixCls:d,record:null,dataIndex:null,align:s,colSpan:h,rowSpan:u,render:function(){return l}},y))};const Y=K((function(n){var t=n.children,o=n.stickyOffsets,l=n.flattenColumns,a=r(z,"prefixCls"),c=l.length-1,i=l[c],u=e.useMemo((function(){return{stickyOffsets:o,flattenColumns:l,scrollColumnIndex:null!=i&&i.scrollbar?c:null}}),[i,l,c,o]);return e.createElement(D.Provider,{value:u},e.createElement("tfoot",{className:"".concat(a,"-summary")},t))}));var q=U;function G(e,n,t,r,o,l,a){e.push({record:n,indent:t,index:a});var c=l(n),i=null==o?void 0:o.has(c);if(n&&Array.isArray(n[r])&&i)for(var u=0;u<n[r].length;u+=1)G(e,n[r][u],t+1,r,o,l,u)}function J(n,t,r,o){return e.useMemo((function(){if(null!=r&&r.size){for(var e=[],l=0;l<(null==n?void 0:n.length);l+=1){G(e,n[l],0,t,r,o,l)}return e}return null==n?void 0:n.map((function(e,n){return{record:e,indent:0,index:n}}))}),[n,t,r,o])}function Q(e,n,t,o){var l,a=r(z,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),i=a.flattenColumns,u=a.expandableType,s=a.expandedKeys,d=a.childrenColumnName,m=a.onTriggerExpand,p=a.rowExpandable,x=a.onRow,h=a.expandRowByClick,y=a.rowClassName,C="nest"===u,w="row"===u&&(!p||p(e)),g=w||C,E=s&&s.has(n),S=d&&e&&e[d],b=v(m),N=null==x?void 0:x(e,t),R=null==N?void 0:N.onClick;"string"==typeof y?l=y:"function"==typeof y&&(l=y(e,t,o));var k=_(i);return c(c({},a),{},{columnsKey:k,nestExpandable:C,expanded:E,hasNestChildren:S,record:e,onTriggerExpand:b,rowSupportExpand:w,expandable:g,rowProps:c(c({},N),{},{className:f(l,null==N?void 0:N.className),onClick:function(n){h&&g&&m(e,n);for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];null==R||R.apply(void 0,[n].concat(r))}})})}function Z(n){var t=n.prefixCls,o=n.children,l=n.component,a=n.cellComponent,c=n.className,i=n.expanded,u=n.colSpan,s=n.isEmpty,f=r(z,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),d=f.scrollbarSize,m=f.fixHeader,p=f.fixColumn,v=f.componentWidth,x=f.horizonScroll,h=o;return(s?x&&v:p)&&(h=e.createElement("div",{style:{width:v-(m?d:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(t,"-expanded-row-fixed")},h)),e.createElement(l,{className:c,style:{display:i?null:"none"}},e.createElement(F,{component:a,prefixCls:t,colSpan:u},h))}function $(n,t,r,o,l){var a,c,i=n.record,u=n.prefixCls,s=n.columnsKey,f=n.fixedInfoList,d=n.expandIconColumnIndex,m=n.nestExpandable,p=n.indentSize,v=n.expandIcon,x=n.expanded,h=n.hasNestChildren,y=n.onTriggerExpand,C=s[r],w=f[r];return r===(d||0)&&m&&(a=e.createElement(e.Fragment,null,e.createElement("span",{style:{paddingLeft:"".concat(p*o,"px")},className:"".concat(u,"-row-indent indent-level-").concat(o)}),v({prefixCls:u,expanded:x,expandable:h,record:i,onExpand:y}))),t.onCell&&(c=t.onCell(i,l)),{key:C,fixedInfo:w,appendCellNode:a,additionalCellProps:c||{}}}const ee=K((function(n){var t=n.className,r=n.style,o=n.record,l=n.index,a=n.renderIndex,u=n.rowKey,s=n.indent,d=void 0===s?0:s,m=n.rowComponent,p=n.cellComponent,v=n.scopeCellComponent,x=Q(o,u,l,d),h=x.prefixCls,y=x.flattenColumns,C=x.expandedRowClassName,w=x.expandedRowRender,g=x.rowProps,E=x.expanded,S=x.rowSupportExpand,b=e.useRef(!1);b.current||(b.current=E);var N,R=C&&C(o,l,d),k=e.createElement(m,i({},g,{"data-row-key":u,className:f(t,"".concat(h,"-row"),"".concat(h,"-row-level-").concat(d),null==g?void 0:g.className,d>=1?R:""),style:c(c({},r),null==g?void 0:g.style)}),y.map((function(n,t){var r=n.render,c=n.dataIndex,u=n.className,s=$(x,n,t,d,l),f=s.key,m=s.fixedInfo,y=s.appendCellNode,C=s.additionalCellProps;return e.createElement(F,i({className:u,ellipsis:n.ellipsis,align:n.align,scope:n.rowScope,component:n.rowScope?v:p,prefixCls:h,key:f,record:o,index:l,renderIndex:a,dataIndex:c,render:r,shouldCellUpdate:n.shouldCellUpdate},m,{appendNode:y,additionalProps:C}))})));if(S&&(b.current||E)){var I=w(o,l,d+1,E);N=e.createElement(Z,{expanded:E,className:f("".concat(h,"-expanded-row"),"".concat(h,"-expanded-row-level-").concat(d+1),R),prefixCls:h,component:m,cellComponent:p,colSpan:y.length,isEmpty:!1},I)}return e.createElement(e.Fragment,null,k,N)}));function ne(n){var t=n.columnKey,r=n.onColumnResize,o=e.useRef();return e.useEffect((function(){o.current&&r(t,o.current.offsetWidth)}),[]),e.createElement(k,{data:t},e.createElement("td",{ref:o,style:{padding:0,border:0,height:0}},e.createElement("div",{style:{height:0,overflow:"hidden"}},"Â ")))}function te(n){var t=n.prefixCls,r=n.columnsKey,o=n.onColumnResize;return e.createElement("tr",{"aria-hidden":"true",className:"".concat(t,"-measure-row"),style:{height:0,fontSize:0}},e.createElement(k.Collection,{onBatchResize:function(e){e.forEach((function(e){var n=e.data,t=e.size;o(n,t.offsetWidth)}))}},r.map((function(n){return e.createElement(ne,{key:n,columnKey:n,onColumnResize:o})}))))}const re=K((function(n){var t,o=n.data,l=n.measureColumnWidth,a=r(z,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode"]),c=a.prefixCls,i=a.getComponent,u=a.onColumnResize,s=a.flattenColumns,f=a.getRowKey,d=a.expandedKeys,m=a.childrenColumnName,p=a.emptyNode,v=J(o,m,d,f),x=e.useRef({renderWithProps:!1}),h=i(["body","wrapper"],"tbody"),y=i(["body","row"],"tr"),C=i(["body","cell"],"td"),w=i(["body","cell"],"th");t=o.length?v.map((function(n,t){var r=n.record,o=n.indent,l=n.index,a=f(r,t);return e.createElement(ee,{key:a,rowKey:a,record:r,index:t,renderIndex:l,rowComponent:y,cellComponent:C,scopeCellComponent:w,getRowKey:f,indent:o})})):e.createElement(Z,{expanded:!0,className:"".concat(c,"-placeholder"),prefixCls:c,component:y,cellComponent:C,colSpan:s.length,isEmpty:!0},p);var g=_(s);return e.createElement(O.Provider,{value:x.current},e.createElement(h,{className:"".concat(c,"-tbody")},l&&e.createElement(te,{prefixCls:c,columnsKey:g,onColumnResize:u}),t))}));var oe=["expandable"],le="RC_TABLE_INTERNAL_COL_DEFINE";var ae=["columnType"];function ce(n){for(var t=n.colWidths,r=n.columns,o=[],l=!1,a=(n.columCount||r.length)-1;a>=0;a-=1){var c=t[a],s=r&&r[a],f=s&&s[le];if(c||f||l){var d=f||{};d.columnType;var m=u(d,ae);o.unshift(e.createElement("col",i({key:a,style:{width:c}},m))),l=!0}}return e.createElement("colgroup",null,o)}var ie=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];var ue=e.forwardRef((function(n,t){var o=n.className,l=n.noData,i=n.columns,d=n.flattenColumns,m=n.colWidths,p=n.columCount,v=n.stickyOffsets,h=n.direction,y=n.fixHeader,C=n.stickyTopOffset,w=n.stickyBottomOffset,g=n.stickyClassName,E=n.onScroll,S=n.maxContentScroll,b=n.children,N=u(n,ie),R=r(z,["prefixCls","scrollbarSize","isSticky","getComponent"]),k=R.prefixCls,I=R.scrollbarSize,H=R.isSticky,L=(0,R.getComponent)(["header","table"],"table"),M=H&&!y?0:I,T=e.useRef(null),K=e.useCallback((function(e){x(t,e),x(T,e)}),[]);e.useEffect((function(){var e;function n(e){var n=e,t=n.currentTarget,r=n.deltaX;r&&(E({currentTarget:t,scrollLeft:t.scrollLeft+r}),e.preventDefault())}return null===(e=T.current)||void 0===e||e.addEventListener("wheel",n),function(){var e;null===(e=T.current)||void 0===e||e.removeEventListener("wheel",n)}}),[]);var W=e.useMemo((function(){return d.every((function(e){return e.width}))}),[d]),O=d[d.length-1],P={fixed:O?O.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(k,"-cell-scrollbar")}}},_=e.useMemo((function(){return M?[].concat(s(i),[P]):i}),[M,i]),B=e.useMemo((function(){return M?[].concat(s(d),[P]):d}),[M,d]),A=e.useMemo((function(){var e=v.right,n=v.left;return c(c({},v),{},{left:"rtl"===h?[].concat(s(n.map((function(e){return e+M}))),[0]):n,right:"rtl"===h?e:[].concat(s(e.map((function(e){return e+M}))),[0]),isSticky:H})}),[M,v,H]),j=function(n,t){return e.useMemo((function(){for(var e=[],r=0;r<t;r+=1){var o=n[r];if(void 0===o)return null;e[r]=o}return e}),[n.join("_"),t])}(m,p);return e.createElement("div",{style:c({overflow:"hidden"},H?{top:C,bottom:w}:{}),ref:K,className:f(o,a({},g,!!g))},e.createElement(L,{style:{tableLayout:"fixed",visibility:l||j?null:"hidden"}},(!l||!S||W)&&e.createElement(ce,{colWidths:j?[].concat(s(j),[M]):[],columCount:p+1,columns:B}),b(c(c({},N),{},{stickyOffsets:A,columns:_,flattenColumns:B}))))}));const se=e.memo(ue);var fe=function(n){var t,o=n.cells,l=n.stickyOffsets,a=n.flattenColumns,c=n.rowComponent,u=n.cellComponent,s=n.onHeaderRow,f=n.index,d=r(z,["prefixCls","direction"]),m=d.prefixCls,p=d.direction;s&&(t=s(o.map((function(e){return e.column})),f));var v=_(o.map((function(e){return e.column})));return e.createElement(c,t,o.map((function(n,t){var r,o=n.column,c=X(n.colStart,n.colEnd,a,l,p);return o&&o.onHeaderCell&&(r=n.column.onHeaderCell(o)),e.createElement(F,i({},n,{scope:o.title?n.colSpan>1?"colgroup":"col":null,ellipsis:o.ellipsis,align:o.align,component:u,prefixCls:m,key:v[t]},c,{additionalProps:r,rowType:"header"}))})))};const de=K((function(n){var t=n.stickyOffsets,o=n.columns,l=n.flattenColumns,a=n.onHeaderRow,c=r(z,["prefixCls","getComponent"]),i=c.prefixCls,u=c.getComponent,s=e.useMemo((function(){return function(e){var n=[];!function e(t,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n[o]=n[o]||[];var l=r;return t.filter(Boolean).map((function(t){var r={key:t.key,className:t.className||"",children:t.title,column:t,colStart:l},a=1,c=t.children;return c&&c.length>0&&(a=e(c,l,o+1).reduce((function(e,n){return e+n}),0),r.hasSubColumns=!0),"colSpan"in t&&(a=t.colSpan),"rowSpan"in t&&(r.rowSpan=t.rowSpan),r.colSpan=a,r.colEnd=r.colStart+a-1,n[o].push(r),l+=a,a}))}(e,0);for(var t=n.length,r=function(e){n[e].forEach((function(n){"rowSpan"in n||n.hasSubColumns||(n.rowSpan=t-e)}))},o=0;o<t;o+=1)r(o);return n}(o)}),[o]),f=u(["header","wrapper"],"thead"),d=u(["header","row"],"tr"),m=u(["header","cell"],"th");return e.createElement(f,{className:"".concat(i,"-thead")},s.map((function(n,r){return e.createElement(fe,{key:r,flattenColumns:l,cells:n,stickyOffsets:t,rowComponent:d,cellComponent:m,onHeaderRow:a,index:r})})))}));function me(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"number"==typeof n?n:n.endsWith("%")?e*parseFloat(n)/100:null}var pe=["children"],ve=["fixed"];function xe(n){return h(n).filter((function(n){return e.isValidElement(n)})).map((function(e){var n=e.key,t=e.props,r=t.children,o=u(t,pe),l=c({key:n},o);return r&&(l.children=xe(r)),l}))}function he(e){return e.filter((function(e){return e&&"object"===l(e)&&!e.hidden})).map((function(e){var n=e.children;return n&&n.length>0?c(c({},e),{},{children:he(n)}):e}))}function ye(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key";return e.filter((function(e){return e&&"object"===l(e)})).reduce((function(e,t,r){var o=t.fixed,l=!0===o?"left":o,a="".concat(n,"-").concat(r),i=t.children;return i&&i.length>0?[].concat(s(e),s(ye(i,a).map((function(e){return c({fixed:l},e)})))):[].concat(s(e),[c(c({key:a},t),{},{fixed:l})])}),[])}function Ce(n,t){var r=n.prefixCls,l=n.columns,i=n.children,s=n.expandable,f=n.expandedKeys,d=n.columnTitle,m=n.getRowKey,p=n.onTriggerExpand,v=n.expandIcon,x=n.rowExpandable,h=n.expandIconColumnIndex,y=n.direction,C=n.expandRowByClick,w=n.columnWidth,g=n.fixed,E=n.scrollWidth,S=n.clientWidth,b=e.useMemo((function(){return he((l||xe(i)||[]).slice())}),[l,i]),N=e.useMemo((function(){if(s){var n=b.slice();if(!n.includes(H)){var t=h||0;t>=0&&n.splice(t,0,H)}var o=n.indexOf(H);n=n.filter((function(e,n){return e!==H||n===o}));var l,c=b[o];l="left"!==g&&!g||h?"right"!==g&&!g||h!==b.length?c?c.fixed:null:"right":"left";var i=a(a(a(a(a(a({},le,{className:"".concat(r,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),"title",d),"fixed",l),"className","".concat(r,"-row-expand-icon-cell")),"width",w),"render",(function(n,t,o){var l=m(t,o),a=f.has(l),c=!x||x(t),i=v({prefixCls:r,expanded:a,expandable:c,record:t,onExpand:p});return C?e.createElement("span",{onClick:function(e){return e.stopPropagation()}},i):i}));return n.map((function(e){return e===H?i:e}))}return b.filter((function(e){return e!==H}))}),[s,b,m,f,v,y]),R=e.useMemo((function(){var e=N;return t&&(e=t(e)),e.length||(e=[{render:function(){return null}}]),e}),[t,N,y]),k=e.useMemo((function(){return"rtl"===y?function(e){return e.map((function(e){var n=e.fixed,t=u(e,ve),r=n;return"left"===n?r="right":"right"===n&&(r="left"),c({fixed:r},t)}))}(ye(R)):ye(R)}),[R,y,E]),I=e.useMemo((function(){for(var e=-1,n=k.length-1;n>=0;n-=1){var t=k[n].fixed;if("left"===t||!0===t){e=n;break}}if(e>=0)for(var r=0;r<=e;r+=1){var o=k[r].fixed;if("left"!==o&&!0!==o)return!0}var l=k.findIndex((function(e){return"right"===e.fixed}));if(l>=0)for(var a=l;a<k.length;a+=1){if("right"!==k[a].fixed)return!0}return!1}),[k]),L=function(n,t,r){return e.useMemo((function(){if(t&&t>0){var e=0,o=0;n.forEach((function(n){var r=me(t,n.width);r?e+=r:o+=1}));var l=Math.max(t,r),a=Math.max(l-e,o),i=o,u=a/o,s=0,f=n.map((function(e){var n=c({},e),r=me(t,n.width);if(r)n.width=r;else{var o=Math.floor(u);n.width=1===i?a:o,a-=o,i-=1}return s+=n.width,n}));if(s<l){var d=l/s;a=l,f.forEach((function(e,n){var t=Math.floor(e.width*d);e.width=n===f.length-1?a:t,a-=t}))}return[f,Math.max(s,l)]}return[n,t]}),[n,t,r])}(k,E,S),M=o(L,2),T=M[0],K=M[1];return[R,T,K,I]}function we(n){var t=n.prefixCls,r=n.record,o=n.onExpand,l=n.expanded,c=n.expandable,i="".concat(t,"-row-expand-icon");if(!c)return e.createElement("span",{className:f(i,"".concat(t,"-row-spaced"))});return e.createElement("span",{className:f(i,a(a({},"".concat(t,"-row-expanded"),l),"".concat(t,"-row-collapsed"),!l)),onClick:function(e){o(r,e),e.stopPropagation()}})}function ge(n,t,r){var a=function(e){var n,t=e.expandable,r=u(e,oe);return!1===(n="expandable"in e?c(c({},r),t):r).showExpandColumn&&(n.expandIconColumnIndex=-1),n}(n),i=a.expandIcon,f=a.expandedRowKeys,d=a.defaultExpandedRowKeys,m=a.defaultExpandAllRows,p=a.expandedRowRender,v=a.onExpand,x=a.onExpandedRowsChange,h=i||we,y=a.childrenColumnName||"children",C=e.useMemo((function(){return p?"row":!!(n.expandable&&n.internalHooks===L&&n.expandable.__PARENT_RENDER_ICON__||t.some((function(e){return e&&"object"===l(e)&&e[y]})))&&"nest"}),[!!p,t]),w=e.useState((function(){return d||(m?function(e,n,t){var r=[];return function e(o){(o||[]).forEach((function(o,l){r.push(n(o,l)),e(o[t])}))}(e),r}(t,r,y):[])})),g=o(w,2),E=g[0],S=g[1],b=e.useMemo((function(){return new Set(f||E||[])}),[f,E]),N=e.useCallback((function(e){var n,o=r(e,t.indexOf(e)),l=b.has(o);l?(b.delete(o),n=s(b)):n=[].concat(s(b),[o]),S(n),v&&v(!l,e),x&&x(n)}),[r,b,t,v,x]);return[a,C,b,h,y,N]}function Ee(n){var t=e.useRef(n),r=e.useState({}),l=o(r,2)[1],a=e.useRef(null),c=e.useRef([]);return e.useEffect((function(){return function(){a.current=null}}),[]),[t.current,function(e){c.current.push(e);var n=Promise.resolve();a.current=n,n.then((function(){if(a.current===n){var e=c.current,r=t.current;c.current=[],e.forEach((function(e){t.current=e(t.current)})),a.current=null,r!==t.current&&l({})}}))}]}var Se=y()?window:null;function be(n){var t=n.className,r=n.children;return e.createElement("div",{className:t},r)}var Ne=function(n,t){var l,i,u=n.scrollBodyRef,s=n.onScroll,d=n.offsetScroll,m=n.container,p=r(z,"prefixCls"),v=(null===(l=u.current)||void 0===l?void 0:l.scrollWidth)||0,x=(null===(i=u.current)||void 0===i?void 0:i.clientWidth)||0,h=v&&x*(x/v),y=e.useRef(),S=Ee({scrollLeft:0,isHiddenScrollBar:!1}),b=o(S,2),N=b[0],R=b[1],k=e.useRef({delta:0,x:0}),I=e.useState(!1),H=o(I,2),L=H[0],M=H[1],T=e.useRef(null);e.useEffect((function(){return function(){C.cancel(T.current)}}),[]);var K=function(){M(!1)},W=function(e){var n,t=(e||(null===(n=window)||void 0===n?void 0:n.event)).buttons;if(L&&0!==t){var r=k.current.x+e.pageX-k.current.x-k.current.delta;r<=0&&(r=0),r+h>=x&&(r=x-h),s({scrollLeft:r/x*(v+2)}),k.current.x=e.pageX}else L&&M(!1)},O=function(){T.current=C((function(){if(u.current){var e=E(u.current).top,n=e+u.current.offsetHeight,t=m===window?document.documentElement.scrollTop+window.innerHeight:E(m).top+m.clientHeight;n-g()<=t||e>=t-d?R((function(e){return c(c({},e),{},{isHiddenScrollBar:!0})})):R((function(e){return c(c({},e),{},{isHiddenScrollBar:!1})}))}}))},P=function(e){R((function(n){return c(c({},n),{},{scrollLeft:e/v*x||0})}))};return e.useImperativeHandle(t,(function(){return{setScrollLeft:P,checkScrollBarVisible:O}})),e.useEffect((function(){var e=w(document.body,"mouseup",K,!1),n=w(document.body,"mousemove",W,!1);return O(),function(){e.remove(),n.remove()}}),[h,L]),e.useEffect((function(){var e=w(m,"scroll",O,!1),n=w(window,"resize",O,!1);return function(){e.remove(),n.remove()}}),[m]),e.useEffect((function(){N.isHiddenScrollBar||R((function(e){var n=u.current;return n?c(c({},e),{},{scrollLeft:n.scrollLeft/n.scrollWidth*n.clientWidth}):e}))}),[N.isHiddenScrollBar]),v<=x||!h||N.isHiddenScrollBar?null:e.createElement("div",{style:{height:g(),width:x,bottom:d},className:"".concat(p,"-sticky-scroll")},e.createElement("div",{onMouseDown:function(e){e.persist(),k.current.delta=e.pageX-N.scrollLeft,k.current.x=0,M(!0),e.preventDefault()},ref:y,className:f("".concat(p,"-sticky-scroll-bar"),a({},"".concat(p,"-sticky-scroll-bar-active"),L)),style:{width:"".concat(h,"px"),transform:"translate3d(".concat(N.scrollLeft,"px, 0, 0)")}}))};const Re=e.forwardRef(Ne);var ke="rc-table",Ie=[],He={};function Le(){return"No Data"}function Me(n,t){var r=c({rowKey:"key",prefixCls:ke,emptyText:Le},n),u=r.prefixCls,s=r.className,x=r.rowClassName,h=r.style,y=r.data,C=r.rowKey,w=r.scroll,g=r.tableLayout,E=r.direction,I=r.title,H=r.footer,M=r.summary,T=r.caption,K=r.id,W=r.showHeader,O=r.components,P=r.emptyText,A=r.onRow,j=r.onHeaderRow,F=r.onScroll,D=r.internalHooks,V=r.transformColumns,q=r.internalRefs,G=r.tailor,J=r.getContainerWidth,Q=r.sticky,Z=r.rowHoverable,$=void 0===Z||Z,ee=y||Ie,ne=!!ee.length,te=D===L,oe=e.useCallback((function(e,n){return p(O,e)||n}),[O]),le=e.useMemo((function(){return"function"==typeof C?C:function(e){return e&&e[C]}}),[C]),ae=oe(["body"]),ie=function(){var n=e.useState(-1),t=o(n,2),r=t[0],l=t[1],a=e.useState(-1),c=o(a,2),i=c[0],u=c[1];return[r,i,e.useCallback((function(e,n){l(e),u(n)}),[])]}(),ue=o(ie,3),fe=ue[0],me=ue[1],pe=ue[2],ve=ge(r,ee,le),xe=o(ve,6),he=xe[0],ye=xe[1],we=xe[2],Ne=xe[3],Me=xe[4],Te=xe[5],Ke=null==w?void 0:w.x,We=e.useState(0),ze=o(We,2),Oe=ze[0],Pe=ze[1],_e=Ce(c(c(c({},r),he),{},{expandable:!!he.expandedRowRender,columnTitle:he.columnTitle,expandedKeys:we,getRowKey:le,onTriggerExpand:Te,expandIcon:Ne,expandIconColumnIndex:he.expandIconColumnIndex,direction:E,scrollWidth:te&&G&&"number"==typeof Ke?Ke:null,clientWidth:Oe}),te?V:null),Be=o(_e,4),Ae=Be[0],je=Be[1],Fe=Be[2],Xe=Be[3],De=null!=Fe?Fe:Ke,Ve=e.useMemo((function(){return{columns:Ae,flattenColumns:je}}),[Ae,je]),Ue=e.useRef(),Ye=e.useRef(),qe=e.useRef(),Ge=e.useRef();e.useImperativeHandle(t,(function(){return{nativeElement:Ue.current,scrollTo:function(e){var n;if(qe.current instanceof HTMLElement){var t=e.index,r=e.top,o=e.key;if(r){var l;null===(l=qe.current)||void 0===l||l.scrollTo({top:r})}else{var a,c=null!=o?o:le(ee[t]);null===(a=qe.current.querySelector('[data-row-key="'.concat(c,'"]')))||void 0===a||a.scrollIntoView()}}else null!==(n=qe.current)&&void 0!==n&&n.scrollTo&&qe.current.scrollTo(e)}}}));var Je,Qe,Ze,$e=e.useRef(),en=e.useState(!1),nn=o(en,2),tn=nn[0],rn=nn[1],on=e.useState(!1),ln=o(on,2),an=ln[0],cn=ln[1],un=Ee(new Map),sn=o(un,2),fn=sn[0],dn=sn[1],mn=_(je).map((function(e){return fn.get(e)})),pn=e.useMemo((function(){return mn}),[mn.join("_")]),vn=function(n,t,r){return e.useMemo((function(){var e=t.length,o=function(e,r,o){for(var l=[],a=0,c=e;c!==r;c+=o)l.push(a),t[c].fixed&&(a+=n[c]||0);return l},l=o(0,e,1),a=o(e-1,-1,-1).reverse();return"rtl"===r?{left:a,right:l}:{left:l,right:a}}),[n,t,r])}(pn,je,E),xn=w&&B(w.y),hn=w&&B(De)||Boolean(he.fixed),yn=hn&&je.some((function(e){return e.fixed})),Cn=e.useRef(),wn=function(n,t){var r="object"===l(n)?n:{},o=r.offsetHeader,a=void 0===o?0:o,c=r.offsetSummary,i=void 0===c?0:c,u=r.offsetScroll,s=void 0===u?0:u,f=r.getContainer,d=(void 0===f?function(){return Se}:f)()||Se;return e.useMemo((function(){var e=!!n;return{isSticky:e,stickyClassName:e?"".concat(t,"-sticky-holder"):"",offsetHeader:a,offsetSummary:i,offsetScroll:s,container:d}}),[s,a,i,t,d])}(Q,u),gn=wn.isSticky,En=wn.offsetHeader,Sn=wn.offsetSummary,bn=wn.offsetScroll,Nn=wn.stickyClassName,Rn=wn.container,kn=e.useMemo((function(){return null==M?void 0:M(ee)}),[M,ee]),In=(xn||gn)&&e.isValidElement(kn)&&kn.type===U&&kn.props.fixed;xn&&(Qe={overflowY:"scroll",maxHeight:w.y}),hn&&(Je={overflowX:"auto"},xn||(Qe={overflowY:"hidden"}),Ze={width:!0===De?"auto":De,minWidth:"100%"});var Hn=e.useCallback((function(e,n){S(Ue.current)&&dn((function(t){if(t.get(e)!==n){var r=new Map(t);return r.set(e,n),r}return t}))}),[]),Ln=function(n){var t=e.useRef(null),r=e.useRef();function o(){window.clearTimeout(r.current)}return e.useEffect((function(){return o}),[]),[function(e){t.current=e,o(),r.current=window.setTimeout((function(){t.current=null,r.current=void 0}),100)},function(){return t.current}]}(),Mn=o(Ln,2),Tn=Mn[0],Kn=Mn[1];function Wn(e,n){n&&("function"==typeof n?n(e):n.scrollLeft!==e&&(n.scrollLeft=e,n.scrollLeft!==e&&setTimeout((function(){n.scrollLeft=e}),0)))}var zn=v((function(e){var n,t=e.currentTarget,r=e.scrollLeft,o="rtl"===E,l="number"==typeof r?r:t.scrollLeft,a=t||He;Kn()&&Kn()!==a||(Tn(a),Wn(l,Ye.current),Wn(l,qe.current),Wn(l,$e.current),Wn(l,null===(n=Cn.current)||void 0===n?void 0:n.setScrollLeft));var c=t||Ye.current;if(c){var i=c.scrollWidth,u=c.clientWidth;if(i===u)return rn(!1),void cn(!1);o?(rn(-l<i-u),cn(-l>0)):(rn(l>0),cn(l<i-u))}})),On=v((function(e){zn(e),null==F||F(e)})),Pn=function(){hn&&qe.current?zn({currentTarget:qe.current}):(rn(!1),cn(!1))},_n=e.useRef(!1);e.useEffect((function(){_n.current&&Pn()}),[hn,y,Ae.length]),e.useEffect((function(){_n.current=!0}),[]);var Bn=e.useState(0),An=o(Bn,2),jn=An[0],Fn=An[1],Xn=e.useState(!0),Dn=o(Xn,2),Vn=Dn[0],Un=Dn[1];e.useEffect((function(){G&&te||(qe.current instanceof Element?Fn(b(qe.current).width):Fn(b(Ge.current).width)),Un(N("position","sticky"))}),[]),e.useEffect((function(){te&&q&&(q.body.current=qe.current)}));var Yn,qn=e.useCallback((function(n){return e.createElement(e.Fragment,null,e.createElement(de,n),"top"===In&&e.createElement(Y,n,kn))}),[In,kn]),Gn=e.useCallback((function(n){return e.createElement(Y,n,kn)}),[kn]),Jn=oe(["table"],"table"),Qn=e.useMemo((function(){return g||(yn?"max-content"===De?"auto":"fixed":xn||gn||je.some((function(e){return e.ellipsis}))?"fixed":"auto")}),[xn,yn,je,g,gn]),Zn={colWidths:pn,columCount:je.length,stickyOffsets:vn,onHeaderRow:j,fixHeader:xn,scroll:w},$n=e.useMemo((function(){return ne?null:"function"==typeof P?P():P}),[ne,P]),et=e.createElement(re,{data:ee,measureColumnWidth:xn||hn||gn}),nt=e.createElement(ce,{colWidths:je.map((function(e){return e.width})),columns:je}),tt=null!=T?e.createElement("caption",{className:"".concat(u,"-caption")},T):void 0,rt=R(r,{data:!0}),ot=R(r,{aria:!0});if(xn||gn){var lt;"function"==typeof ae?(lt=ae(ee,{scrollbarSize:jn,ref:qe,onScroll:zn}),Zn.colWidths=je.map((function(e,n){var t=e.width,r=n===je.length-1?t-jn:t;return"number"!=typeof r||Number.isNaN(r)?0:r}))):lt=e.createElement("div",{style:c(c({},Je),Qe),onScroll:On,ref:qe,className:f("".concat(u,"-body"))},e.createElement(Jn,i({style:c(c({},Ze),{},{tableLayout:Qn})},ot),tt,nt,et,!In&&kn&&e.createElement(Y,{stickyOffsets:vn,flattenColumns:je},kn)));var at=c(c(c({noData:!ee.length,maxContentScroll:hn&&"max-content"===De},Zn),Ve),{},{direction:E,stickyClassName:Nn,onScroll:zn});Yn=e.createElement(e.Fragment,null,!1!==W&&e.createElement(se,i({},at,{stickyTopOffset:En,className:"".concat(u,"-header"),ref:Ye}),qn),lt,In&&"top"!==In&&e.createElement(se,i({},at,{stickyBottomOffset:Sn,className:"".concat(u,"-summary"),ref:$e}),Gn),gn&&qe.current&&qe.current instanceof Element&&e.createElement(Re,{ref:Cn,offsetScroll:bn,scrollBodyRef:qe,onScroll:zn,container:Rn}))}else Yn=e.createElement("div",{style:c(c({},Je),Qe),className:f("".concat(u,"-content")),onScroll:zn,ref:qe},e.createElement(Jn,i({style:c(c({},Ze),{},{tableLayout:Qn})},ot),tt,nt,!1!==W&&e.createElement(de,i({},Zn,Ve)),et,kn&&e.createElement(Y,{stickyOffsets:vn,flattenColumns:je},kn)));var ct=e.createElement("div",i({className:f(u,s,a(a(a(a(a(a(a(a(a(a({},"".concat(u,"-rtl"),"rtl"===E),"".concat(u,"-ping-left"),tn),"".concat(u,"-ping-right"),an),"".concat(u,"-layout-fixed"),"fixed"===g),"".concat(u,"-fixed-header"),xn),"".concat(u,"-fixed-column"),yn),"".concat(u,"-fixed-column-gapped"),yn&&Xe),"".concat(u,"-scroll-horizontal"),hn),"".concat(u,"-has-fix-left"),je[0]&&je[0].fixed),"".concat(u,"-has-fix-right"),je[je.length-1]&&"right"===je[je.length-1].fixed)),style:h,id:K,ref:Ue},rt),I&&e.createElement(be,{className:"".concat(u,"-title")},I(ee)),e.createElement("div",{ref:Ge,className:"".concat(u,"-container")},Yn),H&&e.createElement(be,{className:"".concat(u,"-footer")},H(ee)));hn&&(ct=e.createElement(k,{onResize:function(e){var n,t=e.width;null===(n=Cn.current)||void 0===n||n.checkScrollBarVisible();var r=Ue.current?Ue.current.offsetWidth:t;te&&J&&Ue.current&&(r=J(Ue.current,r)||r),r!==Oe&&(Pn(),Pe(r))}},ct));var it=function(e,n,t){var r=e.map((function(r,o){return X(o,o,e,n,t)}));return d((function(){return r}),[r],(function(e,n){return!m(e,n)}))}(je,vn,E),ut=e.useMemo((function(){return{scrollX:De,prefixCls:u,getComponent:oe,scrollbarSize:jn,direction:E,fixedInfoList:it,isSticky:gn,supportSticky:Vn,componentWidth:Oe,fixHeader:xn,fixColumn:yn,horizonScroll:hn,tableLayout:Qn,rowClassName:x,expandedRowClassName:he.expandedRowClassName,expandIcon:Ne,expandableType:ye,expandRowByClick:he.expandRowByClick,expandedRowRender:he.expandedRowRender,onTriggerExpand:Te,expandIconColumnIndex:he.expandIconColumnIndex,indentSize:he.indentSize,allColumnsFixedLeft:je.every((function(e){return"left"===e.fixed})),emptyNode:$n,columns:Ae,flattenColumns:je,onColumnResize:Hn,hoverStartRow:fe,hoverEndRow:me,onHover:pe,rowExpandable:he.rowExpandable,onRow:A,getRowKey:le,expandedKeys:we,childrenColumnName:Me,rowHoverable:$}}),[De,u,oe,jn,E,it,gn,Vn,Oe,xn,yn,hn,Qn,x,he.expandedRowClassName,Ne,ye,he.expandRowByClick,he.expandedRowRender,Te,he.expandIconColumnIndex,he.indentSize,$n,Ae,je,Hn,fe,me,pe,he.rowExpandable,A,le,we,Me,$]);return e.createElement(z.Provider,{value:ut},ct)}var Te=e.forwardRef(Me);function Ke(e){return T(Te,e)}var We=Ke();We.EXPAND_COLUMN=H,We.INTERNAL_HOOKS=L,We.Column=function(e){return null},We.ColumnGroup=function(e){return null},We.Summary=q;var ze=t(null),Oe=t(null);function Pe(n){var t=n.rowInfo,o=n.column,l=n.colIndex,a=n.indent,u=n.index,s=n.component,d=n.renderIndex,m=n.record,p=n.style,v=n.className,x=n.inverse,h=n.getHeight,y=o.render,C=o.dataIndex,w=o.className,g=o.width,E=r(Oe,["columnsOffset"]).columnsOffset,S=$(t,o,l,a,u),b=S.key,N=S.fixedInfo,R=S.appendCellNode,k=S.additionalCellProps,I=k.style,H=k.colSpan,L=void 0===H?1:H,M=k.rowSpan,T=void 0===M?1:M,K=function(e,n,t){return t[e+(n||1)]-(t[e]||0)}(l-1,L,E),W=L>1?g-K:0,z=c(c(c({},I),p),{},{flex:"0 0 ".concat(K,"px"),width:"".concat(K,"px"),marginRight:W,pointerEvents:"auto"}),O=e.useMemo((function(){return x?T<=1:0===L||0===T||T>1}),[T,L,x]);O?z.visibility="hidden":x&&(z.height=null==h?void 0:h(T));var P=O?function(){return null}:y,_={};return 0!==T&&0!==L||(_.rowSpan=1,_.colSpan=1),e.createElement(F,i({className:f(w,v),ellipsis:o.ellipsis,align:o.align,scope:o.rowScope,component:s,prefixCls:t.prefixCls,key:b,record:m,index:u,renderIndex:d,dataIndex:C,render:P,shouldCellUpdate:o.shouldCellUpdate},N,{appendNode:R,additionalProps:c(c({},k),{},{style:z},_)}))}var _e=["data","index","className","rowKey","style","extra","getHeight"],Be=K(e.forwardRef((function(n,t){var o,l=n.data,s=n.index,d=n.className,m=n.rowKey,p=n.style,v=n.extra,x=n.getHeight,h=u(n,_e),y=l.record,C=l.indent,w=l.index,g=r(z,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),E=g.scrollX,S=g.flattenColumns,b=g.prefixCls,N=g.fixColumn,R=g.componentWidth,k=r(ze,["getComponent"]).getComponent,I=Q(y,m,s,C),H=k(["body","row"],"div"),L=k(["body","cell"],"div"),M=I.rowSupportExpand,T=I.expanded,K=I.rowProps,W=I.expandedRowRender,O=I.expandedRowClassName;if(M&&T){var P=W(y,s,C+1,T),_=null==O?void 0:O(y,s,C),B={};N&&(B={style:a({},"--virtual-width","".concat(R,"px"))});var A="".concat(b,"-expanded-row-cell");o=e.createElement(H,{className:f("".concat(b,"-expanded-row"),"".concat(b,"-expanded-row-level-").concat(C+1),_)},e.createElement(F,{component:L,prefixCls:b,className:f(A,a({},"".concat(A,"-fixed"),N)),additionalProps:B},P))}var j=c(c({},p),{},{width:E});v&&(j.position="absolute",j.pointerEvents="none");var X=e.createElement(H,i({},K,h,{"data-row-key":m,ref:M?null:t,className:f(d,"".concat(b,"-row"),null==K?void 0:K.className,a({},"".concat(b,"-row-extra"),v)),style:c(c({},j),null==K?void 0:K.style)}),S.map((function(n,t){return e.createElement(Pe,{key:t,component:L,rowInfo:I,column:n,colIndex:t,indent:C,index:s,renderIndex:w,record:y,inverse:v,getHeight:x})})));return M?e.createElement("div",{ref:t},X,o):X}))),Ae=K(e.forwardRef((function(n,t){var a=n.data,c=n.onScroll,u=r(z,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","emptyNode","scrollX"]),s=u.flattenColumns,d=u.onColumnResize,m=u.getRowKey,p=u.expandedKeys,v=u.prefixCls,x=u.childrenColumnName,h=u.emptyNode,y=u.scrollX,C=r(ze),w=C.sticky,g=C.scrollY,E=C.listItemHeight,S=C.getComponent,b=C.onScroll,N=e.useRef(),R=J(a,x,p,m),k=e.useMemo((function(){var e=0;return s.map((function(n){var t=n.width;return[n.key,t,e+=t]}))}),[s]),H=e.useMemo((function(){return k.map((function(e){return e[2]}))}),[k]);e.useEffect((function(){k.forEach((function(e){var n=o(e,2),t=n[0],r=n[1];d(t,r)}))}),[k]),e.useImperativeHandle(t,(function(){var e={scrollTo:function(e){var n;null===(n=N.current)||void 0===n||n.scrollTo(e)}};return Object.defineProperty(e,"scrollLeft",{get:function(){var e;return(null===(e=N.current)||void 0===e?void 0:e.getScrollInfo().x)||0},set:function(e){var n;null===(n=N.current)||void 0===n||n.scrollTo({left:e})}}),e}));var L,M=function(e,n){var t,r=null===(t=R[n])||void 0===t?void 0:t.record,o=e.onCell;if(o){var l,a=o(r,n);return null!==(l=null==a?void 0:a.rowSpan)&&void 0!==l?l:1}return 1},T=e.useMemo((function(){return{columnsOffset:H}}),[H]),K="".concat(v,"-tbody"),W=S(["body","wrapper"]),O=S(["body","row"],"div"),P=S(["body","cell"],"div");if(R.length){var _={};w&&(_.position="sticky",_.bottom=0,"object"===l(w)&&w.offsetScroll&&(_.bottom=w.offsetScroll)),L=e.createElement(I,{fullHeight:!1,ref:N,prefixCls:"".concat(K,"-virtual"),styles:{horizontalScrollBar:_},className:K,height:g,itemHeight:E||24,data:R,itemKey:function(e){return m(e.record)},component:W,scrollWidth:y,onVirtualScroll:function(e){var n=e.x;c({scrollLeft:n})},onScroll:b,extraRender:function(n){var t=n.start,r=n.end,o=n.getSize,l=n.offsetY;if(r<0)return null;for(var a=s.filter((function(e){return 0===M(e,t)})),c=t,i=function(e){if(!(a=a.filter((function(n){return 0===M(n,e)}))).length)return c=e,1},u=t;u>=0&&!i(u);u-=1);for(var f=s.filter((function(e){return 1!==M(e,r)})),d=r,p=function(e){if(!(f=f.filter((function(n){return 1!==M(n,e)}))).length)return d=Math.max(e-1,r),1},v=r;v<R.length&&!p(v);v+=1);for(var x=[],h=function(e){if(!R[e])return 1;s.some((function(n){return M(n,e)>1}))&&x.push(e)},y=c;y<=d;y+=1)h(y);return x.map((function(n){var t=R[n],r=m(t.record,n),a=o(r);return e.createElement(Be,{key:n,data:t,rowKey:r,index:n,style:{top:-l+a.top},extra:!0,getHeight:function(e){var t=n+e-1,l=m(R[t].record,t),a=o(r,l);return a.bottom-a.top}})}))}},(function(n,t,r){var o=m(n.record,t);return e.createElement(Be,i({data:n,rowKey:o,index:t},r))}))}else L=e.createElement(O,{className:f("".concat(v,"-placeholder"))},e.createElement(F,{component:P,prefixCls:v},h));return e.createElement(Oe.Provider,{value:T},L)}))),je=function(n,t){var r=t.ref,o=t.onScroll;return e.createElement(Ae,{ref:r,data:n,onScroll:o})};function Fe(n,t){var r=n.columns,o=n.scroll,l=n.sticky,a=n.prefixCls,u=void 0===a?ke:a,s=n.className,d=n.listItemHeight,m=n.components,x=n.onScroll,h=o||{},y=h.x,C=h.y;"number"!=typeof y&&(y=1),"number"!=typeof C&&(C=500);var w=v((function(e,n){return p(m,e)||n})),g=v(x),E=e.useMemo((function(){return{sticky:l,scrollY:C,listItemHeight:d,getComponent:w,onScroll:g}}),[l,C,d,w,g]);return e.createElement(ze.Provider,{value:E},e.createElement(We,i({},n,{className:f(s,"".concat(u,"-virtual")),scroll:c(c({},o),{},{x:y}),components:c(c({},m),{},{body:je}),columns:r,internalHooks:L,tailor:!0,ref:t})))}var Xe=e.forwardRef(Fe);function De(e){return T(Xe,e)}De();export{H as E,q as F,le as I,De as a,L as b,xe as c,Ke as g};
