import{g as e,d as t,j as r,h as n,f as o,_ as i,a as u,k as a}from"./@babel_runtime@7.25.4.Bu2As08a.js";import{c}from"./classnames@2.5.1.D1aycfQv.js";import{R as l}from"./rc-resize-observer@1.4.0_react-dom@18.3.1_react@18.3.1.EAkT98cJ.js";import{q as s,N as f,u as v,d}from"./rc-util@5.43.0_react-dom@18.3.1_react@18.3.1.CqmaNc-_.js";import{r as h}from"./react@18.3.1.B8wSySjr.js";import{r as m}from"./react-dom@18.3.1_react@18.3.1.BKv7BnD1.js";var g=h.forwardRef((function(n,o){var i=n.height,u=n.offsetY,a=n.offsetX,s=n.children,f=n.prefixCls,v=n.onInnerResize,d=n.innerProps,m=n.rtl,g=n.extra,p={},M={display:"flex",flexDirection:"column"};return void 0!==u&&(p={height:i,position:"relative",overflow:"hidden"},M=e(e({},M),{},t(t(t(t(t({transform:"translateY(".concat(u,"px)")},m?"marginRight":"marginLeft",-a),"position","absolute"),"left",0),"right",0),"top",0))),h.createElement("div",{style:p},h.createElement(l,{onResize:function(e){e.offsetHeight&&v&&v()}},h.createElement("div",r({style:M,className:c(t({},"".concat(f,"-holder-inner"),f)),ref:o},d),s,g)))}));function p(e){var t=e.children,r=e.setRef,n=h.useCallback((function(e){r(e)}),[]);return h.cloneElement(t,{ref:n})}function M(e,t,r){var o=h.useState(e),i=n(o,2),u=i[0],a=i[1],c=h.useState(null),l=n(c,2),s=l[0],f=l[1];return h.useEffect((function(){var r=function(e,t,r){var n,o,i=e.length,u=t.length;if(0===i&&0===u)return null;i<u?(n=e,o=t):(n=t,o=e);var a={__EMPTY_ITEM__:!0};function c(e){return void 0!==e?r(e):a}for(var l=null,s=1!==Math.abs(i-u),f=0;f<o.length;f+=1){var v=c(n[f]);if(v!==c(o[f])){l=f,s=s||v!==c(o[f+1]);break}}return null===l?null:{index:l,multiple:s}}(u||[],e||[],t);void 0!==(null==r?void 0:r.index)&&f(e[r.index]),a(e)}),[e]),[s]}g.displayName="Filler";var R="object"===("undefined"==typeof navigator?"undefined":o(navigator))&&/Firefox/i.test(navigator.userAgent);const b=function(e,t,r,n){var o=h.useRef(!1),i=h.useRef(null);var u=h.useRef({top:e,bottom:t,left:r,right:n});return u.current.top=e,u.current.bottom=t,u.current.left=r,u.current.right=n,function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e?t<0&&u.current.left||t>0&&u.current.right:t<0&&u.current.top||t>0&&u.current.bottom;return r&&n?(clearTimeout(i.current),o.current=!1):n&&!o.current||(clearTimeout(i.current),o.current=!0,i.current=setTimeout((function(){o.current=!1}),50)),!o.current&&n}};function E(e,t,r,n,o,i,u){var a=h.useRef(0),c=h.useRef(null),l=h.useRef(null),f=h.useRef(!1),v=b(t,r,n,o);var d=h.useRef(null),m=h.useRef(null);return[function(t){if(e){s.cancel(m.current),m.current=s((function(){d.current=null}),2);var r=t.deltaX,n=t.deltaY,o=t.shiftKey,h=r,g=n;("sx"===d.current||!d.current&&o&&n&&!r)&&(h=n,g=0,d.current="sx");var p=Math.abs(h),M=Math.abs(g);null===d.current&&(d.current=i&&p>M?"x":"y"),"y"===d.current?function(e,t){s.cancel(c.current),a.current+=t,l.current=t,v(!1,t)||(R||e.preventDefault(),c.current=s((function(){var e=f.current?10:1;u(a.current*e),a.current=0})))}(t,g):function(e,t){u(t,!0),R||e.preventDefault()}(t,h)}},function(t){e&&(f.current=t.detail===l.current)}]}var S=function(){function e(){u(this,e),t(this,"maps",void 0),t(this,"id",0),this.maps=Object.create(null)}return i(e,[{key:"set",value:function(e,t){this.maps[e]=t,this.id+=1}},{key:"get",value:function(e){return this.maps[e]}}]),e}();var w=14/15;var y=10;function x(e,t){return("touches"in e?e.touches[0]:e)[t?"pageX":"pageY"]}var L=h.forwardRef((function(r,o){var i=r.prefixCls,u=r.rtl,a=r.scrollOffset,l=r.scrollRange,f=r.onStartMove,v=r.onStopMove,d=r.onScroll,m=r.horizontal,g=r.spinSize,p=r.containerSize,M=r.style,R=r.thumbStyle,b=h.useState(!1),E=n(b,2),S=E[0],w=E[1],y=h.useState(null),L=n(y,2),H=L[0],T=L[1],z=h.useState(null),N=n(z,2),Y=N[0],k=N[1],j=!u,D=h.useRef(),C=h.useRef(),_=h.useState(!1),I=n(_,2),P=I[0],X=I[1],O=h.useRef(),A=function(){clearTimeout(O.current),X(!0),O.current=setTimeout((function(){X(!1)}),3e3)},B=l-p||0,K=p-g||0,V=h.useMemo((function(){return 0===a||0===B?0:a/B*K}),[a,B,K]),W=h.useRef({top:V,dragging:S,pageY:H,startTop:Y});W.current={top:V,dragging:S,pageY:H,startTop:Y};var F=function(e){w(!0),T(x(e,m)),k(W.current.top),f(),e.stopPropagation(),e.preventDefault()};h.useEffect((function(){var e=function(e){e.preventDefault()},t=D.current,r=C.current;return t.addEventListener("touchstart",e,{passive:!1}),r.addEventListener("touchstart",F,{passive:!1}),function(){t.removeEventListener("touchstart",e),r.removeEventListener("touchstart",F)}}),[]);var q=h.useRef();q.current=B;var G=h.useRef();G.current=K,h.useEffect((function(){if(S){var e,t=function(t){var r=W.current,n=r.dragging,o=r.pageY,i=r.startTop;s.cancel(e);var u=D.current.getBoundingClientRect(),a=p/(m?u.width:u.height);if(n){var c=(x(t,m)-o)*a,l=i;!j&&m?l-=c:l+=c;var f=q.current,v=G.current,h=v?l/v:0,g=Math.ceil(h*f);g=Math.max(g,0),g=Math.min(g,f),e=s((function(){d(g,m)}))}},r=function(){w(!1),v()};return window.addEventListener("mousemove",t,{passive:!0}),window.addEventListener("touchmove",t,{passive:!0}),window.addEventListener("mouseup",r,{passive:!0}),window.addEventListener("touchend",r,{passive:!0}),function(){window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",r),window.removeEventListener("touchend",r),s.cancel(e)}}}),[S]),h.useEffect((function(){return A(),function(){clearTimeout(O.current)}}),[a]),h.useImperativeHandle(o,(function(){return{delayHidden:A}}));var J="".concat(i,"-scrollbar"),Q={position:"absolute",visibility:P?null:"hidden"},U={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return m?(Q.height=8,Q.left=0,Q.right=0,Q.bottom=0,U.height="100%",U.width=g,j?U.left=V:U.right=V):(Q.width=8,Q.top=0,Q.bottom=0,j?Q.right=0:Q.left=0,U.width="100%",U.height=g,U.top=V),h.createElement("div",{ref:D,className:c(J,t(t(t({},"".concat(J,"-horizontal"),m),"".concat(J,"-vertical"),!m),"".concat(J,"-visible"),P)),style:e(e({},Q),M),onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},onMouseMove:A},h.createElement("div",{ref:C,className:c("".concat(J,"-thumb"),t({},"".concat(J,"-thumb-moving"),S)),style:e(e({},U),R),onMouseDown:F}))})),H=20;function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)*e;return isNaN(t)&&(t=0),t=Math.max(t,H),Math.floor(t)}var z=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],N=[],Y={overflowY:"auto",overflowAnchor:"none"};function k(i,u){var R=i.prefixCls,x=void 0===R?"rc-virtual-list":R,H=i.className,k=i.height,j=i.itemHeight,D=i.fullHeight,C=void 0===D||D,_=i.style,I=i.data,P=i.children,X=i.itemKey,O=i.virtual,A=i.direction,B=i.scrollWidth,K=i.component,V=void 0===K?"div":K,W=i.onScroll,F=i.onVirtualScroll,q=i.onVisibleChange,G=i.innerProps,J=i.extraRender,Q=i.styles,U=a(i,z),Z=h.useCallback((function(e){return"function"==typeof X?X(e):null==e?void 0:e[X]}),[X]),$=function(e,t,r){var o=h.useState(0),i=n(o,2),u=i[0],a=i[1],c=h.useRef(new Map),l=h.useRef(new S),v=h.useRef();function d(){s.cancel(v.current)}function m(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];d();var t=function(){c.current.forEach((function(e,t){if(e&&e.offsetParent){var r=f(e),n=r.offsetHeight;l.current.get(t)!==n&&l.current.set(t,r.offsetHeight)}})),a((function(e){return e+1}))};e?t():v.current=s(t)}return h.useEffect((function(){return d}),[]),[function(t,r){var n=e(t);c.current.get(n),r?(c.current.set(n,r),m()):c.current.delete(n)},m,l.current,u]}(Z),ee=n($,4),te=ee[0],re=ee[1],ne=ee[2],oe=ee[3],ie=!(!1===O||!k||!j),ue=h.useMemo((function(){return Object.values(ne.maps).reduce((function(e,t){return e+t}),0)}),[ne.id,ne.maps]),ae=ie&&I&&(Math.max(j*I.length,ue)>k||!!B),ce="rtl"===A,le=c(x,t({},"".concat(x,"-rtl"),ce),H),se=I||N,fe=h.useRef(),ve=h.useRef(),de=h.useRef(),he=h.useState(0),me=n(he,2),ge=me[0],pe=me[1],Me=h.useState(0),Re=n(Me,2),be=Re[0],Ee=Re[1],Se=h.useState(!1),we=n(Se,2),ye=we[0],xe=we[1],Le=function(){xe(!0)},He=function(){xe(!1)},Te={getKey:Z};function ze(e){pe((function(t){var r=function(e){var t=e;Number.isNaN(Ge.current)||(t=Math.min(t,Ge.current));return t=Math.max(t,0),t}("function"==typeof e?e(t):e);return fe.current.scrollTop=r,r}))}var Ne=h.useRef({start:0,end:se.length}),Ye=h.useRef(),ke=M(se,Z),je=n(ke,1)[0];Ye.current=je;var De=h.useMemo((function(){if(!ie)return{scrollHeight:void 0,start:0,end:se.length-1,offset:void 0};var e;if(!ae)return{scrollHeight:(null===(e=ve.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:se.length-1,offset:void 0};for(var t,r,n,o=0,i=se.length,u=0;u<i;u+=1){var a=se[u],c=Z(a),l=ne.get(c),s=o+(void 0===l?j:l);s>=ge&&void 0===t&&(t=u,r=o),s>ge+k&&void 0===n&&(n=u),o=s}return void 0===t&&(t=0,r=0,n=Math.ceil(k/j)),void 0===n&&(n=se.length-1),{scrollHeight:o,start:t,end:n=Math.min(n+1,se.length-1),offset:r}}),[ae,ie,ge,se,oe,k]),Ce=De.scrollHeight,_e=De.start,Ie=De.end,Pe=De.offset;Ne.current.start=_e,Ne.current.end=Ie;var Xe=h.useState({width:0,height:k}),Oe=n(Xe,2),Ae=Oe[0],Be=Oe[1],Ke=h.useRef(),Ve=h.useRef(),We=h.useMemo((function(){return T(Ae.width,B)}),[Ae.width,B]),Fe=h.useMemo((function(){return T(Ae.height,Ce)}),[Ae.height,Ce]),qe=Ce-k,Ge=h.useRef(qe);Ge.current=qe;var Je=ge<=0,Qe=ge>=qe,Ue=be<=0,Ze=be>=B,$e=b(Je,Qe,Ue,Ze),et=function(){return{x:ce?-be:be,y:ge}},tt=h.useRef(et()),rt=d((function(t){if(F){var r=e(e({},et()),t);tt.current.x===r.x&&tt.current.y===r.y||(F(r),tt.current=r)}}));function nt(e,t){var r=e;t?(m.flushSync((function(){Ee(r)})),rt()):ze(r)}var ot=function(e){var t=e,r=B?B-Ae.width:0;return t=Math.max(t,0),t=Math.min(t,r)},it=d((function(e,t){t?(m.flushSync((function(){Ee((function(t){return ot(t+(ce?-e:e))}))})),rt()):ze((function(t){return t+e}))})),ut=E(ie,Je,Qe,Ue,Ze,!!B,it),at=n(ut,2),ct=at[0],lt=at[1];!function(e,t,r){var n,o=h.useRef(!1),i=h.useRef(0),u=h.useRef(0),a=h.useRef(null),c=h.useRef(null),l=function(e){if(o.current){var t=Math.ceil(e.touches[0].pageX),n=Math.ceil(e.touches[0].pageY),a=i.current-t,l=u.current-n,s=Math.abs(a)>Math.abs(l);s?i.current=t:u.current=n,r(s,s?a:l)&&e.preventDefault(),clearInterval(c.current),c.current=setInterval((function(){s?a*=w:l*=w;var e=Math.floor(s?a:l);(!r(s,e,!0)||Math.abs(e)<=.1)&&clearInterval(c.current)}),16)}},s=function(){o.current=!1,n()},f=function(e){n(),1!==e.touches.length||o.current||(o.current=!0,i.current=Math.ceil(e.touches[0].pageX),u.current=Math.ceil(e.touches[0].pageY),a.current=e.target,a.current.addEventListener("touchmove",l,{passive:!1}),a.current.addEventListener("touchend",s,{passive:!0}))};n=function(){a.current&&(a.current.removeEventListener("touchmove",l),a.current.removeEventListener("touchend",s))},v((function(){return e&&t.current.addEventListener("touchstart",f,{passive:!0}),function(){var e;null===(e=t.current)||void 0===e||e.removeEventListener("touchstart",f),n(),clearInterval(c.current)}}),[e])}(ie,fe,(function(e,t,r){return!$e(e,t,r)&&(ct({preventDefault:function(){},deltaX:e?t:0,deltaY:e?0:t}),!0)})),v((function(){function e(e){ie&&e.preventDefault()}var t=fe.current;return t.addEventListener("wheel",ct,{passive:!1}),t.addEventListener("DOMMouseScroll",lt,{passive:!0}),t.addEventListener("MozMousePixelScroll",e,{passive:!1}),function(){t.removeEventListener("wheel",ct),t.removeEventListener("DOMMouseScroll",lt),t.removeEventListener("MozMousePixelScroll",e)}}),[ie]),v((function(){if(B){var e=ot(be);Ee(e),rt({x:e})}}),[Ae.width,B]);var st=function(){var e,t;null===(e=Ke.current)||void 0===e||e.delayHidden(),null===(t=Ve.current)||void 0===t||t.delayHidden()},ft=function(t,r,i,u,a,c,l,f){var d=h.useRef(),m=h.useState(null),g=n(m,2),p=g[0],M=g[1];return v((function(){if(p&&p.times<y){if(!t.current)return void M((function(t){return e({},t)}));c();var n=p.targetAlign,o=p.originAlign,s=p.index,f=p.offset,v=t.current.clientHeight,d=!1,h=n,m=null;if(v){for(var g=n||o,R=0,b=0,E=0,S=Math.min(r.length-1,s),w=0;w<=S;w+=1){var x=a(r[w]);b=R;var L=i.get(x);R=E=b+(void 0===L?u:L)}for(var H="top"===g?f:v-f,T=S;T>=0;T-=1){var z=a(r[T]),N=i.get(z);if(void 0===N){d=!0;break}if((H-=N)<=0)break}switch(g){case"top":m=b-f;break;case"bottom":m=E-v+f;break;default:var Y=t.current.scrollTop;b<Y?h="top":E>Y+v&&(h="bottom")}null!==m&&l(m),m!==p.lastTop&&(d=!0)}d&&M(e(e({},p),{},{times:p.times+1,targetAlign:h,lastTop:m}))}}),[p,t.current]),function(e){if(null!=e){if(s.cancel(d.current),"number"==typeof e)l(e);else if(e&&"object"===o(e)){var t,n=e.align;t="index"in e?e.index:r.findIndex((function(t){return a(t)===e.key}));var i=e.offset;M({times:0,index:t,offset:void 0===i?0:i,originAlign:n})}}else f()}}(fe,se,ne,j,Z,(function(){return re(!0)}),ze,st);h.useImperativeHandle(u,(function(){return{nativeElement:de.current,getScrollInfo:et,scrollTo:function(e){var t;(t=e)&&"object"===o(t)&&("left"in t||"top"in t)?(void 0!==e.left&&Ee(ot(e.left)),ft(e.top)):ft(e)}}})),v((function(){if(q){var e=se.slice(_e,Ie+1);q(e,se)}}),[_e,Ie,se]);var vt=function(e,t,r,o){var i=h.useMemo((function(){return[new Map,[]]}),[e,r.id,o]),u=n(i,2),a=u[0],c=u[1];return function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,u=a.get(n),l=a.get(i);if(void 0===u||void 0===l)for(var s=e.length,f=c.length;f<s;f+=1){var v,d=e[f],h=t(d);a.set(h,f);var m=null!==(v=r.get(h))&&void 0!==v?v:o;if(c[f]=(c[f-1]||0)+m,h===n&&(u=f),h===i&&(l=f),void 0!==u&&void 0!==l)break}return{top:c[u-1]||0,bottom:c[l]}}}(se,Z,ne,j),dt=null==J?void 0:J({start:_e,end:Ie,virtual:ae,offsetX:be,offsetY:Pe,rtl:ce,getSize:vt}),ht=function(e,t,r,n,o,i,u,a){var c=a.getKey;return e.slice(t,r+1).map((function(e,r){var a=u(e,t+r,{style:{width:n},offsetX:o}),l=c(e);return h.createElement(p,{key:l,setRef:function(t){return i(e,t)}},a)}))}(se,_e,Ie,B,be,te,P,Te),mt=null;k&&(mt=e(t({},C?"height":"maxHeight",k),Y),ie&&(mt.overflowY="hidden",B&&(mt.overflowX="hidden"),ye&&(mt.pointerEvents="none")));var gt={};return ce&&(gt.dir="rtl"),h.createElement("div",r({ref:de,style:e(e({},_),{},{position:"relative"}),className:le},gt,U),h.createElement(l,{onResize:function(e){Be({width:e.offsetWidth,height:e.offsetHeight})}},h.createElement(V,{className:"".concat(x,"-holder"),style:mt,ref:fe,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==ge&&ze(t),null==W||W(e),rt()},onMouseEnter:st},h.createElement(g,{prefixCls:x,height:Ce,offsetX:be,offsetY:Pe,scrollWidth:B,onInnerResize:re,ref:ve,innerProps:G,rtl:ce,extra:dt},ht))),ae&&Ce>k&&h.createElement(L,{ref:Ke,prefixCls:x,scrollOffset:ge,scrollRange:Ce,rtl:ce,onScroll:nt,onStartMove:Le,onStopMove:He,spinSize:Fe,containerSize:Ae.height,style:null==Q?void 0:Q.verticalScrollBar,thumbStyle:null==Q?void 0:Q.verticalScrollBarThumb}),ae&&B>Ae.width&&h.createElement(L,{ref:Ve,prefixCls:x,scrollOffset:be,scrollRange:B,rtl:ce,onScroll:nt,onStartMove:Le,onStopMove:He,spinSize:We,containerSize:Ae.width,horizontal:!0,style:null==Q?void 0:Q.horizontalScrollBar,thumbStyle:null==Q?void 0:Q.horizontalScrollBarThumb}))}var j=h.forwardRef(k);j.displayName="List";export{j as L};
