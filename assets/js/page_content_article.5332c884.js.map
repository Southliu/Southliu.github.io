{"version":3,"file":"page_content_article.5332c884.js","sources":["../../../src/hooks/useTitle.ts","../../../src/pages/content/article/components/CustomizeInput.tsx","../../../src/pages/content/article/model.ts","../../../src/servers/content/article.ts","../../../src/pages/content/article/index.tsx","../../../src/pages/content/article/option.tsx"],"sourcesContent":["import { useEffect } from 'react'\nimport { TITLE_SUFFIX } from '@/utils/config'\nimport { useActivate } from 'react-activation'\n\n/**\n * 标题\n */\nexport function useTitle(title: string) {\n  const value = TITLE_SUFFIX + title ? `${title} - ${TITLE_SUFFIX}` : ''\n\n  useEffect(() => {\n    document.title = value\n  }, [value])\n\n  useActivate(() => {\n    document.title = value\n  })\n}\n","import type { InputProps } from 'antd'\nimport { Input } from 'antd'\n\n/**\n * 自定义输入\n */\nfunction CustomizeInput(props: InputProps) {\n  return (\n    <>\n      <Input {...props} placeholder='请输入' />\n      <div className='mb-5px text-red'>注：标题不能含有敏感信息!</div>\n    </>\n  )\n}\n\nexport default CustomizeInput","import type { IFormList } from \"#/form\"\nimport type { ITableColumn, ITableOptions } from '#/public'\nimport { INPUT_REQUIRED } from '@/utils/config'\nimport CustomizeInput from './components/CustomizeInput'\n\n// 搜索数据\nexport const searchList: IFormList[] = [\n  {\n    label: '用户名',\n    name: 'username',\n    component: 'Input'\n  },\n  {\n    label: '标题',\n    name: 'title',\n    component: 'Input'\n  }\n]\n\n/**\n * 表格数据\n * @param optionRender - 渲染操作函数\n */\nexport const tableColumns = (optionRender: ITableOptions<object>): ITableColumn => {\n  return [\n    {\n      title: 'ID',\n      dataIndex: 'id',\n      width: 400,\n      fixed: 'left'\n    },\n    {\n      title: '用户名',\n      dataIndex: 'username',\n      width: 400,\n      fixed: 'left'\n    },\n    {\n      title: '标题',\n      dataIndex: 'title',\n      width: 400\n    },\n    {\n      title: '内容',\n      dataIndex: 'content',\n      width: 400\n    },\n    {\n      title: '操作',\n      dataIndex: 'operate',\n      width: 200,\n      fixed: 'right',\n      render: (value: unknown, record: object) => optionRender(value, record)\n    },\n  ]\n}\n\n// 新增数据\nexport const createList: IFormList[] = [\n  {\n    label: '用户名',\n    name: 'username',\n    rules: INPUT_REQUIRED,\n    component: 'Input'\n  },\n  {\n    label: '嵌套数据',\n    name: ['user', 'name', 'test'],\n    rules: INPUT_REQUIRED,\n    component: 'Input'\n  },\n  {\n    label: '标题',\n    name: 'title',\n    rules: INPUT_REQUIRED,\n    component: 'customize',\n    render: CustomizeInput\n  },\n  {\n    label: '内容',\n    name: 'content',\n    component: 'Editor'\n  }\n]","import type { IFormData } from '#/form'\nimport type { IPageServerResult, IPaginationData } from '#/public'\nimport { request } from '@/utils/request'\n\nenum API {\n  URL = '/content/article'\n}\n\n/**\n * 获取分页数据\n * @param data - 请求数据\n */\nexport function getArticlePage(data: Partial<IFormData> & IPaginationData) {\n  return request.get<IPageServerResult<IFormData[]>>(\n    `${API.URL}/index`,\n    { params: data }\n  )\n}\n\n/**\n * 根据ID获取数据\n * @param id - ID\n */\nexport function getArticleById(id: string) {\n  return request.get(`${API.URL}/${id}`)\n}\n\n/**\n * 新增数据\n * @param data - 请求数据\n */\nexport function createArticle(data: IFormData) {\n  return request.post(API.URL, data)\n}\n\n/**\n * 修改数据\n * @param id - 修改id值\n * @param data - 请求数据\n */\nexport function updateArticle(id: string, data: IFormData) {\n  return request.put(`${API.URL}/${id}`, data)\n}\n\n/**\n * 删除\n * @param id - 删除id值\n */\nexport function deleteArticle(id: string) {\n  return request.delete(`${API.URL}/${id}`)\n}\n","import type { IFormData } from '#/form'\nimport type { AppDispatch, RootState } from '@/stores'\nimport type { IPagePermission, ITableOptions } from '#/public'\nimport type { IFormFn } from '@/components/Form/BasicForm'\nimport { useCallback, useEffect, useRef, useState } from 'react'\nimport { searchList, tableColumns } from './model'\nimport { message } from 'antd'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useTitle } from '@/hooks/useTitle'\nimport { useNavigate } from 'react-router-dom'\nimport { setRefreshPage } from '@/stores/public'\nimport { checkPermission } from '@/utils/permissions'\nimport { UpdateBtn, DeleteBtn } from '@/components/Buttons'\nimport { getArticlePage, deleteArticle } from '@/servers/content/article'\nimport BasicContent from '@/components/Content/BasicContent'\nimport BasicSearch from '@/components/Search/BasicSearch'\nimport BasicTable from '@/components/Table/BasicTable'\nimport BasicPagination from '@/components/Pagination/BasicPagination'\n\n// 当前行数据\ninterface IRowData {\n  id: string;\n}\n\n// 初始化搜索\nconst initSearch = {\n  page: 1,\n  pageSize: 20\n}\n\nfunction Page() {\n  useTitle('文章管理')\n  const navigate = useNavigate()\n  const dispatch: AppDispatch = useDispatch()\n  const searchFormRef = useRef<IFormFn>(null)\n  const [isLoading, setLoading] = useState(false)\n  const [page, setPage] = useState(initSearch.page)\n  const [pageSize, setPageSize] = useState(initSearch.pageSize)\n  const [total, setTotal] = useState(0)\n  const [tableData, setTableData] = useState<IFormData[]>([])\n  const permissions = useSelector((state: RootState) => state.user.permissions)\n  const isRefreshPage = useSelector((state: RootState) => state.public.isRefreshPage)\n\n  // 权限前缀\n  const permissionPrefix = '/content/article'\n\n  // 权限\n  const pagePermission: IPagePermission = {\n    page: checkPermission(`${permissionPrefix}/index`, permissions),\n    create: checkPermission(`${permissionPrefix}/create`, permissions),\n    update: checkPermission(`${permissionPrefix}/update`, permissions),\n    delete: checkPermission(`${permissionPrefix}/delete`, permissions)\n  }\n\n  /**\n   * 点击搜索\n   * @param values - 表单返回数据\n   */\n  const onSearch = (values: IFormData) => {\n    setPage(1)\n    handleSearch({ page: 1, pageSize, ...values })\n  }\n\n  /**\n   * 搜索提交\n   * @param values - 表单返回数据\n   */\n  const handleSearch = useCallback(async (values: IFormData) => {\n    try {\n      setLoading(true)\n      const { data: { data } } = await getArticlePage(values)\n      const { items, total } = data\n      setTotal(total)\n      setTableData(items)\n    } finally {\n      setLoading(false)\n    }\n  }, [])\n\n  // 首次进入自动加载接口数据\n  useEffect(() => { \n    if (pagePermission.page && !isRefreshPage) handleSearch({ ...initSearch })\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [pagePermission.page])\n\n  // 如果是新增或编辑成功重新加载页面\n  useEffect(() => { \n    if (isRefreshPage) {\n      dispatch(setRefreshPage(false))\n      getPage()\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isRefreshPage])\n\n  /** 点击新增 */\n  const onCreate = () => {\n    navigate('/content/article/option?type=create')\n  }\n\n  /**\n   * 点击编辑\n   * @param id - 唯一值\n   */\n  const onUpdate = (id: string) => {\n    navigate(`/content/article/option?type=update&id=${id}`)\n  }\n\n  /** 获取表格数据 */\n  const getPage = () => {\n    const formData = searchFormRef.current?.getFieldsValue() || {}\n    const params = { ...formData, page, pageSize }\n    handleSearch(params)\n  }\n\n  /**\n   * 点击删除\n   * @param id - 唯一值\n   */\n  const onDelete = async (id: string) => {\n    try {\n      setLoading(true)\n      const { data } = await deleteArticle(id as string)\n      if (data?.code === 200) {\n        message.success(data?.message || '删除成功')\n        getPage()\n      }\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  /**\n   * 处理分页\n   * @param page - 当前页数\n   * @param pageSize - 每页条数\n   */\n  const onChangePagination = (page: number, pageSize: number) => {\n    setPage(page)\n    setPageSize(pageSize)\n    const formData = searchFormRef.current?.getFieldsValue()\n    handleSearch({ ...formData, page, pageSize })\n  }\n\n  /**\n   * 渲染操作\n   * @param _ - 当前值\n   * @param record - 当前行参数\n   */\n  const optionRender: ITableOptions<object> = (_, record) => (\n    <>\n      {\n        pagePermission.update === true &&\n        <UpdateBtn\n          className='mr-5px'\n          isLoading={isLoading}\n          onClick={() => onUpdate((record as IRowData).id)}\n        />\n      }\n      {\n        pagePermission.delete === true &&\n        <DeleteBtn\n          className='mr-5px'\n          isLoading={isLoading}\n          handleDelete={() => onDelete((record as IRowData).id)}\n        />\n      }\n    </>\n  )\n\n  return (\n    <BasicContent isPermission={pagePermission.page}>\n      <>\n        <BasicSearch\n          formRef={searchFormRef}\n          list={searchList}\n          data={initSearch}\n          isLoading={isLoading}\n          isCreate={pagePermission.create}\n          onCreate={onCreate}\n          handleFinish={onSearch}\n        />\n        \n        <BasicTable\n          loading={isLoading}\n          columns={tableColumns(optionRender)}\n          dataSource={tableData}\n        />\n\n        <BasicPagination\n          disabled={isLoading}\n          current={page}\n          pageSize={pageSize}\n          total={total}\n          onChange={onChangePagination}\n        />\n      </>\n    </BasicContent>\n  )\n}\n\nexport default Page","import type { IFormData } from '#/form'\nimport type { IPagePermission } from '#/public'\nimport type { AppDispatch, RootState } from '@/stores'\nimport type { IFormFn } from '@/components/Form/BasicForm'\nimport { message, Spin } from 'antd'\nimport { createList } from './model'\nimport { getUrlParam } from '@/utils/helper'\nimport { useTitle } from '@/hooks/useTitle'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useLocation } from 'react-router-dom'\nimport { checkPermission } from '@/utils/permissions'\nimport { getOpenMenuByRouter } from '@/menus/utils/helper'\nimport { setOpenKeys, setSelectedKeys } from '@/stores/menu'\nimport { useActivate } from 'react-activation'\nimport { setRefreshPage } from '@/stores/public'\nimport { ADD_TITLE, EDIT_TITLE } from '@/utils/config'\nimport {\n  useCallback,\n  useEffect,\n  useRef,\n  useState\n} from 'react'\nimport {\n  addTabs,\n  setNav,\n  setActiveKey,\n  closeTabGoNext\n} from '@/stores/tabs'\nimport {\n  getArticleById,\n  createArticle,\n  updateArticle,\n} from '@/servers/content/article'\nimport BasicForm from '@/components/Form/BasicForm'\nimport BasicContent from '@/components/Content/BasicContent'\nimport SumbitBottom from '@/components/Bottom/SumbitBottom'\n\n// 初始化新增数据\nconst initCreate = {\n  content: '<h4>初始化内容</h4>'\n}\n\n// 父路径\nconst fatherPath = '/content/article'\n\nfunction Page() {\n  const { pathname, search } = useLocation()\n  const uri = pathname + search\n  const id = getUrlParam(search, 'id')\n  const createFormRef = useRef<IFormFn>(null)\n  const dispatch: AppDispatch = useDispatch()\n  const [isLoading, setLoading] = useState(false)\n  const [createId, setCreateId] = useState('')\n  const [createData, setCreateData] = useState<IFormData>(initCreate)\n\n  const permissions = useSelector((state: RootState) => state.user.permissions)\n  const isCollapsed = useSelector((state: RootState) => state.menu.isCollapsed)\n  const isPhone = useSelector((state: RootState) => state.menu.isPhone)\n  \n  const title = '文章管理'\n  const creatTitle = `${ADD_TITLE}${title}`\n  const updateTitle = `${EDIT_TITLE(id, title)}`\n  useTitle(id ? updateTitle : creatTitle)\n\n  // 权限前缀\n  const permissionPrefix = '/content/article'\n\n  // 权限\n  const pagePermission: IPagePermission = {\n    create: checkPermission(`${permissionPrefix}/create`, permissions),\n    update: checkPermission(`${permissionPrefix}/update`, permissions),\n  }\n\n  // 处理默认展开\n  useEffect(() => {\n    const newOpenKey = getOpenMenuByRouter(fatherPath)\n    if (!isPhone && !isCollapsed) {\n      dispatch(setOpenKeys(newOpenKey))\n      dispatch(setSelectedKeys(fatherPath))\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  /**\n   * 添加标签\n   * @param path - 路径\n   */\n  const handleAddTab = useCallback((path = pathname) => {\n    // 当值为空时匹配路由\n    if (path === '/') return\n\n    const title = id ? updateTitle : creatTitle\n    const newTab = {\n      label: title,\n      key: uri,\n      nav: ['内容管理', '文章管理', title]\n    }\n    dispatch(setActiveKey(newTab.key))\n    dispatch(setNav(newTab.nav))\n    dispatch(addTabs(newTab))\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id, pathname, search])\n\n  useEffect(() => {\n    handleAddTab()\n  }, [handleAddTab])\n\n  useActivate(() => {\n    handleAddTab()\n  })\n\n  useEffect(() => {\n    id ? handleUpdate(id) : handleCreate()\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  /** 处理新增 */\n  const handleCreate = () => {\n    setCreateId('')\n    setCreateData(initCreate)\n  }\n\n  /**\n   * 处理编辑\n   * @param id - 唯一值\n   */\n   const handleUpdate = async (id: string) => {\n    try {\n      setCreateId(id)\n      setLoading(true)\n      const { data: { data } } = await getArticleById(id as string)\n      setCreateData(data)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  /** 表格提交 */\n  const handleSubmit = () => {\n    createFormRef.current?.handleSubmit()\n  }\n\n  /**\n   * 返回主页\n   * @param isRefresh - 返回页面是否重新加载接口\n   */\n  const goBack = (isRefresh?: boolean) => {\n    createFormRef.current?.handleReset()\n    if (isRefresh) dispatch(setRefreshPage(true))\n    dispatch(closeTabGoNext({\n      key: uri,\n      nextPath: fatherPath\n    }))\n  }\n\n  /**\n   * 新增/编辑提交\n   * @param values - 表单返回数据\n   */\n  const handleFinish = async (values: IFormData) => {\n    try {\n      setLoading(true)\n      const functions = () => createId ? updateArticle(createId, values) : createArticle(values)\n      const { data } = await functions()\n      message.success(data?.message || '操作成功')\n      createFormRef.current?.handleReset()\n      goBack(true)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <BasicContent isPermission={id ? pagePermission.update : pagePermission.creae}>\n      <>\n        <div className='mb-50px'>\n          <Spin spinning={isLoading}>\n            <BasicForm\n              formRef={createFormRef}\n              list={createList}\n              data={createData}\n              labelCol={{ span: 5 }}\n              handleFinish={handleFinish}\n            />\n          </Spin>\n        </div>\n\n        <SumbitBottom\n          isLoading={isLoading}\n          goBack={() => goBack()}\n          handleSubmit={handleSubmit}\n        />\n      </>\n    </BasicContent>\n  )\n}\n\nexport default Page"],"names":["useTitle","title","value","TITLE_SUFFIX","useEffect","useActivate","CustomizeInput","props","jsxs","Fragment","jsx","Input","searchList","tableColumns","optionRender","record","createList","INPUT_REQUIRED","getArticlePage","data","request","getArticleById","id","createArticle","updateArticle","deleteArticle","initSearch","Page","navigate","useNavigate","dispatch","useDispatch","searchFormRef","useRef","isLoading","setLoading","useState","page","setPage","pageSize","setPageSize","total","setTotal","tableData","setTableData","permissions","useSelector","state","isRefreshPage","permissionPrefix","pagePermission","checkPermission","onSearch","values","handleSearch","useCallback","items","setRefreshPage","getPage","onCreate","onUpdate","params","_a","onDelete","message","onChangePagination","formData","_","UpdateBtn","DeleteBtn","BasicContent","BasicSearch","BasicTable","BasicPagination","initCreate","fatherPath","pathname","search","useLocation","uri","getUrlParam","createFormRef","createId","setCreateId","createData","setCreateData","isCollapsed","isPhone","creatTitle","ADD_TITLE","updateTitle","EDIT_TITLE","newOpenKey","getOpenMenuByRouter","setOpenKeys","setSelectedKeys","handleAddTab","path","newTab","setActiveKey","setNav","addTabs","handleUpdate","handleCreate","handleSubmit","goBack","isRefresh","closeTabGoNext","handleFinish","functions","Spin","BasicForm","SumbitBottom"],"mappings":"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"}