import{r as c,j as a}from"./react.e58b2294.js";import{h as F,g}from"./components_Form.2b8ebf99.js";import{f as w}from"./components_Dates.c66decea.js";import{F as s,B as m}from"./antd.a9b3ffac.js";import{G as N,J as V}from"./@ant-design_icons.dd6603bd.js";function B(r){const{list:n,data:d,formRef:p,isLoading:u,isSearch:h,isCreate:f,children:x,labelCol:t,wrapperCol:i,handleFinish:o}=r,[l]=s.useForm();c.useImperativeHandle(p,()=>({getFieldValue:e=>l.getFieldValue(e),getFieldsValue:()=>l.getFieldsValue(),handleReset:()=>{l.resetFields()},handleSubmit:()=>{l.submit()}}));const C=()=>{var e;(e=r.onCreate)==null||e.call(r)},b=e=>{if(o){const y=w(e,n);o==null||o(y)}},j=e=>{console.warn("搜索错误:",e)};return a.jsx("div",{id:"searches",className:"py-3",children:a.jsxs(s,{name:"basic",layout:"inline",form:l,labelCol:t||{span:8},wrapperCol:i||{span:16},initialValues:d,onFinish:b,onFinishFailed:j,autoComplete:"off",children:[n==null?void 0:n.map(e=>a.jsx(s.Item,{label:e.label,name:e.name,className:"!mb-5px",labelCol:{style:{width:e.labelCol}},wrapperCol:{style:{width:e.wrapperCol}},rules:e.rules,valuePropName:F(e.component),children:g(e)},`${e.name}`)),h!==!1&&a.jsx(s.Item,{children:a.jsx(m,{type:"primary",htmlType:"submit",className:"!mb-5px",loading:u,icon:a.jsx(N,{}),children:"搜索"})}),f!==!1&&a.jsx(s.Item,{children:a.jsx(m,{type:"primary",className:"!mb-5px",icon:a.jsx(V,{}),onClick:C,children:"新增"})}),x]})})}const E=c.memo(B);export{E as B};
