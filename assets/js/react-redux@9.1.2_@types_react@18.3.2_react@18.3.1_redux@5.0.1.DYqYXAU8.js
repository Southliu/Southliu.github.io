import{R as t,e}from"./react@18.3.1.BYZOCa2p.js";import{w as n}from"./use-sync-external-store@1.2.2_react@18.3.1.z4IGFkzU.js";var r="default"in t?e:t,o=Symbol.for("react-redux-context"),i="undefined"!=typeof globalThis?globalThis:{};function c(){if(!r.createContext)return{};const t=i[o]??(i[o]=new Map);let e=t.get(r.createContext);return e||(e=r.createContext(null),t.set(r.createContext,e)),e}var u=c();function s(t=u){return function(){return r.useContext(t)}}var a=s(),l=()=>{throw new Error("uSES not initialized!")},f=(t,e)=>t===e;function d(t=u){const e=t===u?a:s(t),n=(t,n={})=>{const{equalityFn:o=f,devModeChecks:i={}}="function"==typeof n?{equalityFn:n}:n,{store:c,subscription:u,getServerState:s,stabilityCheck:a,identityFunctionCheck:d}=e();r.useRef(!0);const b=r.useCallback({[t.name]:e=>t(e)}[t.name],[t,a,i.stabilityCheck]),v=l(u.addNestedSub,c.getState,s||c.getState,b,o);return r.useDebugValue(v),v};return Object.assign(n,{withTypes:()=>n}),n}var b=d();var v={notify(){},get:()=>[]};var y=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),p="undefined"!=typeof navigator&&"ReactNative"===navigator.product,S=y||p?r.useLayoutEffect:r.useEffect;var h=function({store:t,context:e,children:n,serverState:o,stabilityCheck:i="once",identityFunctionCheck:c="once"}){const s=r.useMemo((()=>{const e=function(t,e){let n,r=v,o=0,i=!1;function c(){a.onStateChange&&a.onStateChange()}function u(){o++,n||(n=t.subscribe(c),r=function(){let t=null,e=null;return{clear(){t=null,e=null},notify(){(()=>{let e=t;for(;e;)e.callback(),e=e.next})()},get(){const e=[];let n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(n){let r=!0;const o=e={callback:n,next:null,prev:e};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}())}function s(){o--,n&&0===o&&(n(),n=void 0,r.clear(),r=v)}const a={addNestedSub:function(t){u();const e=r.subscribe(t);let n=!1;return()=>{n||(n=!0,e(),s())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:c,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,u())},tryUnsubscribe:function(){i&&(i=!1,s())},getListeners:()=>r};return a}(t);return{store:t,subscription:e,getServerState:o?()=>o:void 0,stabilityCheck:i,identityFunctionCheck:c}}),[t,o,i,c]),a=r.useMemo((()=>t.getState()),[t]);S((()=>{const{subscription:e}=s;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[s,a]);const l=e||u;return r.createElement(l.Provider,{value:s},n)};function g(t=u){const e=t===u?a:s(t),n=()=>{const{store:t}=e();return t};return Object.assign(n,{withTypes:()=>n}),n}var x=g();function C(t=u){const e=t===u?x:g(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var m,w=C();m=n.useSyncExternalStoreWithSelector,l=m;export{h as P,w as a,b as u};
