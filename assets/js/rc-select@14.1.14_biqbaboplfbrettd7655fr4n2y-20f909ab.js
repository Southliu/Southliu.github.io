import{r as o}from"./react@18.2.0-52f219d3.js";import"./react-is@16.13.1-140c6955.js";import{c as ze}from"./classnames@2.3.2-d75d9a59.js";import{w as it,j as ut,x as cn,K as x,a as lt,B as ct,d as st,h as gn,b as dt,c as ft,t as vt,e as pt,o as mt}from"./rc-util@5.24.6_biqbaboplfbrettd7655fr4n2y-e98ccc02.js";import{c as te,e as Q,d as Sn,f as ne,g as Qe,l as gt,b as Re}from"./@babel_runtime@7.20.1-5f192e20.js";import{F as ht}from"./rc-overflow@1.2.8_biqbaboplfbrettd7655fr4n2y-4406ad70.js";import{j as M,b as Le,F as wn}from"./@ant-design_cssinjs@1.0.2_biqbaboplfbrettd7655fr4n2y-bf6e9dad.js";import{T as bt}from"./rc-trigger@5.3.4_biqbaboplfbrettd7655fr4n2y-a29aed73.js";import{L as St}from"./rc-virtual-list@3.4.11_biqbaboplfbrettd7655fr4n2y-a1f30739.js";var Ln=o.exports.createContext(null);function wt(){return o.exports.useContext(Ln)}function Ct(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=o.exports.useState(!1),a=te(e,2),t=a[0],i=a[1],r=o.exports.useRef(null),l=function(){window.clearTimeout(r.current)};o.exports.useEffect(function(){return l},[]);var p=function(g,h){l(),r.current=window.setTimeout(function(){i(g),h&&h()},n)};return[t,p,l]}function kn(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=o.exports.useRef(null),a=o.exports.useRef(null);o.exports.useEffect(function(){return function(){window.clearTimeout(a.current)}},[]);function t(i){(i||e.current===null)&&(e.current=i),window.clearTimeout(a.current),a.current=window.setTimeout(function(){e.current=null},n)}return[function(){return e.current},t]}function xt(n,e,a,t){var i=o.exports.useRef(null);i.current={open:e,triggerOpen:a,customizedTrigger:t},o.exports.useEffect(function(){function r(l){var p;if(!((p=i.current)!==null&&p!==void 0&&p.customizedTrigger)){var c=l.target;c.shadowRoot&&l.composed&&(c=l.composedPath()[0]||c),i.current.open&&n().filter(function(g){return g}).every(function(g){return!g.contains(c)&&g!==c})&&i.current.triggerOpen(!1)}}return window.addEventListener("mousedown",r),function(){return window.removeEventListener("mousedown",r)}},[])}var sn=function(e){var a=e.className,t=e.customizeIcon,i=e.customizeIconProps,r=e.onMouseDown,l=e.onClick,p=e.children,c;return typeof t=="function"?c=t(i):c=t,M("span",{className:a,onMouseDown:function(h){h.preventDefault(),r&&r(h)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:l,"aria-hidden":!0,children:c!==void 0?c:M("span",{className:ze(a.split(/\s+/).map(function(g){return"".concat(g,"-icon")})),children:p})})},yt=function(e,a){var t,i,r=e.prefixCls,l=e.id,p=e.inputElement,c=e.disabled,g=e.tabIndex,h=e.autoFocus,u=e.autoComplete,m=e.editable,d=e.activeDescendantId,y=e.value,E=e.maxLength,G=e.onKeyDown,O=e.onMouseDown,T=e.onChange,_=e.onPaste,q=e.onCompositionStart,$=e.onCompositionEnd,ue=e.open,ve=e.attrs,P=p||M("input",{}),W=P,Y=W.ref,X=W.props,J=X.onKeyDown,L=X.onChange,oe=X.onMouseDown,A=X.onCompositionStart,S=X.onCompositionEnd,N=X.style;return it(!("maxLength"in P.props)),P=o.exports.cloneElement(P,Q(Q(Q({type:"search"},X),{},{id:l,ref:ut(a,Y),disabled:c,tabIndex:g,autoComplete:u||"off",autoFocus:h,className:ze("".concat(r,"-selection-search-input"),(t=P)===null||t===void 0||(i=t.props)===null||i===void 0?void 0:i.className),role:"combobox","aria-expanded":ue,"aria-haspopup":"listbox","aria-owns":"".concat(l,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(l,"_list"),"aria-activedescendant":d},ve),{},{value:m?y:"",maxLength:E,readOnly:!m,unselectable:m?null:"on",style:Q(Q({},N),{},{opacity:m?null:0}),onKeyDown:function(B){G(B),J&&J(B)},onMouseDown:function(B){O(B),oe&&oe(B)},onChange:function(B){T(B),L&&L(B)},onCompositionStart:function(B){q(B),A&&A(B)},onCompositionEnd:function(B){$(B),S&&S(B)},onPaste:_})),P},Cn=o.exports.forwardRef(yt);Cn.displayName="Input";function Kn(n){return Array.isArray(n)?n:n!==void 0?[n]:[]}var It=typeof window<"u"&&window.document&&window.document.documentElement,Dt=It;function Rt(n){return n!=null}function Nn(n){return["string","number"].includes(Sn(n))}function $n(n){var e=void 0;return n&&(Nn(n.title)?e=n.title.toString():Nn(n.label)&&(e=n.label.toString())),e}function Ot(n,e){Dt?o.exports.useLayoutEffect(n,e):o.exports.useEffect(n,e)}function Mt(n){var e;return(e=n.key)!==null&&e!==void 0?e:n.value}var Vn=function(e){e.preventDefault(),e.stopPropagation()},Et=function(e){var a=e.id,t=e.prefixCls,i=e.values,r=e.open,l=e.searchValue,p=e.autoClearSearchValue,c=e.inputRef,g=e.placeholder,h=e.disabled,u=e.mode,m=e.showSearch,d=e.autoFocus,y=e.autoComplete,E=e.activeDescendantId,G=e.tabIndex,O=e.removeIcon,T=e.maxTagCount,_=e.maxTagTextLength,q=e.maxTagPlaceholder,$=q===void 0?function(j){return"+ ".concat(j.length," ...")}:q,ue=e.tagRender,ve=e.onToggleOpen,P=e.onRemove,W=e.onInputChange,Y=e.onInputPaste,X=e.onInputKeyDown,J=e.onInputMouseDown,L=e.onInputCompositionStart,oe=e.onInputCompositionEnd,A=o.exports.useRef(null),S=o.exports.useState(0),N=te(S,2),U=N[0],B=N[1],me=o.exports.useState(!1),ce=te(me,2),ke=ce[0],Z=ce[1],D="".concat(t,"-selection"),f=r||u==="multiple"&&p===!1||u==="tags"?l:"",R=u==="tags"||u==="multiple"&&p===!1||m&&(r||ke);Ot(function(){B(A.current.scrollWidth)},[f]);function k(j,le,re,ge,he){return Le("span",{className:ze("".concat(D,"-item"),ne({},"".concat(D,"-item-disabled"),re)),title:$n(j),children:[M("span",{className:"".concat(D,"-item-content"),children:le}),ge&&M(sn,{className:"".concat(D,"-item-remove"),onMouseDown:Vn,onClick:he,customizeIcon:O,children:"\xD7"})]})}function V(j,le,re,ge,he){var xe=function(K){Vn(K),ve(!r)};return M("span",{onMouseDown:xe,children:ue({label:le,value:j,disabled:re,closable:ge,onClose:he})})}function F(j){var le=j.disabled,re=j.label,ge=j.value,he=!h&&!le,xe=re;if(typeof _=="number"&&(typeof re=="string"||typeof re=="number")){var de=String(xe);de.length>_&&(xe="".concat(de.slice(0,_),"..."))}var K=function(we){we&&we.stopPropagation(),P(j)};return typeof ue=="function"?V(ge,xe,le,he,K):k(j,xe,le,he,K)}function ae(j){var le=typeof $=="function"?$(j):$;return k({title:le},le,!1)}var se=Le("div",{className:"".concat(D,"-search"),style:{width:U},onFocus:function(){Z(!0)},onBlur:function(){Z(!1)},children:[M(Cn,{ref:c,open:r,prefixCls:t,id:a,inputElement:null,disabled:h,autoFocus:d,autoComplete:y,editable:R,activeDescendantId:E,value:f,onKeyDown:X,onMouseDown:J,onChange:W,onPaste:Y,onCompositionStart:L,onCompositionEnd:oe,tabIndex:G,attrs:cn(e,!0)}),Le("span",{ref:A,className:"".concat(D,"-search-mirror"),"aria-hidden":!0,children:[f,"\xA0"]})]}),Oe=M(ht,{prefixCls:"".concat(D,"-overflow"),data:i,renderItem:F,renderRest:ae,suffix:se,itemKey:Mt,maxCount:T});return Le(wn,{children:[Oe,!i.length&&!f&&M("span",{className:"".concat(D,"-placeholder"),children:g})]})},Pt=function(e){var a=e.inputElement,t=e.prefixCls,i=e.id,r=e.inputRef,l=e.disabled,p=e.autoFocus,c=e.autoComplete,g=e.activeDescendantId,h=e.mode,u=e.open,m=e.values,d=e.placeholder,y=e.tabIndex,E=e.showSearch,G=e.searchValue,O=e.activeValue,T=e.maxLength,_=e.onInputKeyDown,q=e.onInputMouseDown,$=e.onInputChange,ue=e.onInputPaste,ve=e.onInputCompositionStart,P=e.onInputCompositionEnd,W=o.exports.useState(!1),Y=te(W,2),X=Y[0],J=Y[1],L=h==="combobox",oe=L||E,A=m[0],S=G||"";L&&O&&!X&&(S=O),o.exports.useEffect(function(){L&&J(!1)},[L,O]);var N=h!=="combobox"&&!u&&!E?!1:!!S,U=$n(A),B=function(){if(A)return null;var ce=N?{visibility:"hidden"}:void 0;return M("span",{className:"".concat(t,"-selection-placeholder"),style:ce,children:d})};return Le(wn,{children:[M("span",{className:"".concat(t,"-selection-search"),children:M(Cn,{ref:r,prefixCls:t,id:i,open:u,inputElement:a,disabled:l,autoFocus:p,autoComplete:c,editable:oe,activeDescendantId:g,value:S,onKeyDown:_,onMouseDown:q,onChange:function(ce){J(!0),$(ce)},onPaste:ue,onCompositionStart:ve,onCompositionEnd:P,tabIndex:y,attrs:cn(e,!0),maxLength:L?T:void 0})}),!L&&A&&!N&&M("span",{className:"".concat(t,"-selection-item"),title:U,children:A.label}),B()]})};function Nt(n){return![x.ESC,x.SHIFT,x.BACKSPACE,x.TAB,x.WIN_KEY,x.ALT,x.META,x.WIN_KEY_RIGHT,x.CTRL,x.SEMICOLON,x.EQUALS,x.CAPS_LOCK,x.CONTEXT_MENU,x.F1,x.F2,x.F3,x.F4,x.F5,x.F6,x.F7,x.F8,x.F9,x.F10,x.F11,x.F12].includes(n)}var Vt=function(e,a){var t=o.exports.useRef(null),i=o.exports.useRef(!1),r=e.prefixCls,l=e.open,p=e.mode,c=e.showSearch,g=e.tokenWithEnter,h=e.onSearch,u=e.onSearchSubmit,m=e.onToggleOpen,d=e.onInputKeyDown,y=e.domRef;o.exports.useImperativeHandle(a,function(){return{focus:function(){t.current.focus()},blur:function(){t.current.blur()}}});var E=kn(0),G=te(E,2),O=G[0],T=G[1],_=function(S){var N=S.which;(N===x.UP||N===x.DOWN)&&S.preventDefault(),d&&d(S),N===x.ENTER&&p==="tags"&&!i.current&&!l&&(u==null||u(S.target.value)),Nt(N)&&m(!0)},q=function(){T(!0)},$=o.exports.useRef(null),ue=function(S){h(S,!0,i.current)!==!1&&m(!0)},ve=function(){i.current=!0},P=function(S){i.current=!1,p!=="combobox"&&ue(S.target.value)},W=function(S){var N=S.target.value;if(g&&$.current&&/[\r\n]/.test($.current)){var U=$.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");N=N.replace(U,$.current)}$.current=null,ue(N)},Y=function(S){var N=S.clipboardData,U=N.getData("text");$.current=U},X=function(S){var N=S.target;if(N!==t.current){var U=document.body.style.msTouchAction!==void 0;U?setTimeout(function(){t.current.focus()}):t.current.focus()}},J=function(S){var N=O();S.target!==t.current&&!N&&p!=="combobox"&&S.preventDefault(),(p!=="combobox"&&(!c||!N)||!l)&&(l&&h("",!0,!1),m())},L={inputRef:t,onInputKeyDown:_,onInputMouseDown:q,onInputChange:W,onInputPaste:Y,onInputCompositionStart:ve,onInputCompositionEnd:P},oe=p==="multiple"||p==="tags"?M(Et,{...e,...L}):M(Pt,{...e,...L});return M("div",{ref:y,className:"".concat(r,"-selector"),onClick:X,onMouseDown:J,children:oe})},Wn=o.exports.forwardRef(Vt);Wn.displayName="Selector";var Tt=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],At=function(e){var a=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:a,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:a,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:a,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:a,adjustY:1}}}},Ft=function(e,a){var t=e.prefixCls;e.disabled;var i=e.visible,r=e.children,l=e.popupElement,p=e.containerWidth,c=e.animation,g=e.transitionName,h=e.dropdownStyle,u=e.dropdownClassName,m=e.direction,d=m===void 0?"ltr":m,y=e.placement,E=e.dropdownMatchSelectWidth,G=e.dropdownRender,O=e.dropdownAlign,T=e.getPopupContainer,_=e.empty,q=e.getTriggerDOMNode,$=e.onPopupVisibleChange,ue=e.onPopupMouseEnter,ve=Qe(e,Tt),P="".concat(t,"-dropdown"),W=l;G&&(W=G(l));var Y=o.exports.useMemo(function(){return At(E)},[E]),X=c?"".concat(P,"-").concat(c):g,J=o.exports.useRef(null);o.exports.useImperativeHandle(a,function(){return{getPopupElement:function(){return J.current}}});var L=Q({minWidth:p},h);return typeof E=="number"?L.width=E:E&&(L.width=p),M(bt,{...ve,showAction:$?["click"]:[],hideAction:$?["click"]:[],popupPlacement:y||(d==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:Y,prefixCls:P,popupTransitionName:X,popup:M("div",{ref:J,onMouseEnter:ue,children:W}),popupAlign:O,popupVisible:i,getPopupContainer:T,popupClassName:ze(u,ne({},"".concat(P,"-empty"),_)),popupStyle:L,getTriggerDOMNode:q,onPopupVisibleChange:$,children:r})},Bn=o.exports.forwardRef(Ft);Bn.displayName="SelectTrigger";function Tn(n,e){var a=n.key,t;return"value"in n&&(t=n.value),a!=null?a:t!==void 0?t:"rc-index-key-".concat(e)}function Hn(n,e){var a=n||{},t=a.label,i=a.value,r=a.options;return{label:t||(e?"children":"label"),value:i||"value",options:r||"options"}}function _t(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e.fieldNames,t=e.childrenAsData,i=[],r=Hn(a,!1),l=r.label,p=r.value,c=r.options;function g(h,u){h.forEach(function(m){var d=m[l];if(u||!(c in m)){var y=m[p];i.push({key:Tn(m,i.length),groupOption:u,data:m,label:d,value:y})}else{var E=d;E===void 0&&t&&(E=m.label),i.push({key:Tn(m,i.length),group:!0,data:m,label:E}),g(m[c],!0)}})}return g(n,!1),i}function hn(n){var e=Q({},n);return"props"in e||Object.defineProperty(e,"props",{get:function(){return lt(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}function Lt(n,e){if(!e||!e.length)return null;var a=!1;function t(r,l){var p=gt(l),c=p[0],g=p.slice(1);if(!c)return[r];var h=r.split(c);return a=a||h.length>1,h.reduce(function(u,m){return[].concat(Re(u),Re(t(m,g)))},[]).filter(function(u){return u})}var i=t(n,e);return a?i:null}var kt=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","showArrow","inputIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],Kt=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function bn(n){return n==="tags"||n==="multiple"}var $t=o.exports.forwardRef(function(n,e){var a,t,i=n.id,r=n.prefixCls,l=n.className,p=n.showSearch,c=n.tagRender,g=n.direction,h=n.omitDomProps,u=n.displayValues,m=n.onDisplayValuesChange,d=n.emptyOptions,y=n.notFoundContent,E=y===void 0?"Not Found":y,G=n.onClear,O=n.mode,T=n.disabled,_=n.loading,q=n.getInputElement,$=n.getRawInputElement,ue=n.open,ve=n.defaultOpen,P=n.onDropdownVisibleChange,W=n.activeValue,Y=n.onActiveValueChange,X=n.activeDescendantId,J=n.searchValue,L=n.autoClearSearchValue,oe=n.onSearch,A=n.onSearchSplit,S=n.tokenSeparators,N=n.allowClear,U=n.showArrow,B=n.inputIcon,me=n.clearIcon,ce=n.OptionList,ke=n.animation,Z=n.transitionName,D=n.dropdownStyle,f=n.dropdownClassName,R=n.dropdownMatchSelectWidth,k=n.dropdownRender,V=n.dropdownAlign,F=n.placement,ae=n.getPopupContainer,se=n.showAction,Oe=se===void 0?[]:se,j=n.onFocus,le=n.onBlur,re=n.onKeyUp,ge=n.onKeyDown,he=n.onMouseDown,xe=Qe(n,kt),de=bn(O),K=(p!==void 0?p:de)||O==="combobox",be=Q({},xe);Kt.forEach(function(C){delete be[C]}),h==null||h.forEach(function(C){delete be[C]});var we=o.exports.useState(!1),Ae=te(we,2),Ee=Ae[0],qe=Ae[1];o.exports.useEffect(function(){qe(ct())},[]);var ye=o.exports.useRef(null),Pe=o.exports.useRef(null),Ke=o.exports.useRef(null),$e=o.exports.useRef(null),Ie=o.exports.useRef(null),dn=Ct(),Ye=te(dn,3),Ze=Ye[0],We=Ye[1],fn=Ye[2];o.exports.useImperativeHandle(e,function(){var C,w;return{focus:(C=$e.current)===null||C===void 0?void 0:C.focus,blur:(w=$e.current)===null||w===void 0?void 0:w.blur,scrollTo:function(Se){var ee;return(ee=Ie.current)===null||ee===void 0?void 0:ee.scrollTo(Se)}}});var De=o.exports.useMemo(function(){var C;if(O!=="combobox")return J;var w=(C=u[0])===null||C===void 0?void 0:C.value;return typeof w=="string"||typeof w=="number"?String(w):""},[J,O,u]),an=O==="combobox"&&typeof q=="function"&&q()||null,Ne=typeof $=="function"&&$(),rn=st(Pe,Ne==null||(a=Ne.props)===null||a===void 0?void 0:a.ref),un=gn(void 0,{defaultValue:ve,value:ue}),Ge=te(un,2),en=Ge[0],nn=Ge[1],ie=en,ln=!E&&d;(T||ln&&ie&&O==="combobox")&&(ie=!1);var Be=ln?!1:ie,s=o.exports.useCallback(function(C){var w=C!==void 0?C:!ie;T||(nn(w),ie!==w&&(P==null||P(w)))},[T,ie,nn,P]),b=o.exports.useMemo(function(){return(S||[]).some(function(C){return[`
`,`\r
`].includes(C)})},[S]),v=function(w,pe,Se){var ee=!0,Ce=w;Y==null||Y(null);var Me=Se?null:Lt(w,S);return O!=="combobox"&&Me&&(Ce="",A==null||A(Me),s(!1),ee=!1),oe&&De!==Ce&&oe(Ce,{source:pe?"typing":"effect"}),ee},I=function(w){!w||!w.trim()||oe(w,{source:"submit"})};o.exports.useEffect(function(){!ie&&!de&&O!=="combobox"&&v("",!1,!1)},[ie]),o.exports.useEffect(function(){en&&T&&nn(!1),T&&We(!1)},[T]);var H=kn(),z=te(H,2),Fe=z[0],Ve=z[1],Xe=function(w){var pe=Fe(),Se=w.which;if(Se===x.ENTER&&(O!=="combobox"&&w.preventDefault(),ie||s(!0)),Ve(!!De),Se===x.BACKSPACE&&!pe&&de&&!De&&u.length){for(var ee=Re(u),Ce=null,Me=ee.length-1;Me>=0;Me-=1){var on=ee[Me];if(!on.disabled){ee.splice(Me,1),Ce=on;break}}Ce&&m(ee,{type:"remove",values:[Ce]})}for(var Ue=arguments.length,Je=new Array(Ue>1?Ue-1:0),je=1;je<Ue;je++)Je[je-1]=arguments[je];if(ie&&Ie.current){var Pn;(Pn=Ie.current).onKeyDown.apply(Pn,[w].concat(Je))}ge==null||ge.apply(void 0,[w].concat(Je))},fe=function(w){for(var pe=arguments.length,Se=new Array(pe>1?pe-1:0),ee=1;ee<pe;ee++)Se[ee-1]=arguments[ee];if(ie&&Ie.current){var Ce;(Ce=Ie.current).onKeyUp.apply(Ce,[w].concat(Se))}re==null||re.apply(void 0,[w].concat(Se))},He=function(w){var pe=u.filter(function(Se){return Se!==w});m(pe,{type:"remove",values:[w]})},tn=o.exports.useRef(!1),vn=function(){We(!0),T||(j&&!tn.current&&j.apply(void 0,arguments),Oe.includes("focus")&&s(!0)),tn.current=!0},xn=function(){We(!1,function(){tn.current=!1,s(!1)}),!T&&(De&&(O==="tags"?oe(De,{source:"submit"}):O==="multiple"&&oe("",{source:"blur"})),le&&le.apply(void 0,arguments))},Te=[];o.exports.useEffect(function(){return function(){Te.forEach(function(C){return clearTimeout(C)}),Te.splice(0,Te.length)}},[]);var _e=function(w){var pe,Se=w.target,ee=(pe=Ke.current)===null||pe===void 0?void 0:pe.getPopupElement();if(ee&&ee.contains(Se)){var Ce=setTimeout(function(){var Je=Te.indexOf(Ce);if(Je!==-1&&Te.splice(Je,1),fn(),!Ee&&!ee.contains(document.activeElement)){var je;(je=$e.current)===null||je===void 0||je.focus()}});Te.push(Ce)}for(var Me=arguments.length,on=new Array(Me>1?Me-1:0),Ue=1;Ue<Me;Ue++)on[Ue-1]=arguments[Ue];he==null||he.apply(void 0,[w].concat(on))},Jn=o.exports.useState(null),yn=te(Jn,2),In=yn[0],Qn=yn[1],qn=o.exports.useState({}),Zn=te(qn,2),et=Zn[1];function nt(){et({})}dt(function(){if(Be){var C,w=Math.ceil((C=ye.current)===null||C===void 0?void 0:C.offsetWidth);In!==w&&!Number.isNaN(w)&&Qn(w)}},[Be]);var Dn;Ne&&(Dn=function(w){s(w)}),xt(function(){var C;return[ye.current,(C=Ke.current)===null||C===void 0?void 0:C.getPopupElement()]},Be,s,!!Ne);var tt=o.exports.useMemo(function(){return Q(Q({},n),{},{notFoundContent:E,open:ie,triggerOpen:Be,id:i,showSearch:K,multiple:de,toggleOpen:s})},[n,E,Be,ie,i,K,de,s]),Rn=U!==void 0?U:_||!de&&O!=="combobox",On;Rn&&(On=M(sn,{className:ze("".concat(r,"-arrow"),ne({},"".concat(r,"-arrow-loading"),_)),customizeIcon:B,customizeIconProps:{loading:_,searchValue:De,open:ie,focused:Ze,showSearch:K}}));var Mn,ot=function(){G==null||G(),m([],{type:"clear",values:u}),v("",!1,!1)};!T&&N&&(u.length||De)&&!(O==="combobox"&&De==="")&&(Mn=M(sn,{className:"".concat(r,"-clear"),onMouseDown:ot,customizeIcon:me,children:"\xD7"}));var at=M(ce,{ref:Ie}),rt=ze(r,l,(t={},ne(t,"".concat(r,"-focused"),Ze),ne(t,"".concat(r,"-multiple"),de),ne(t,"".concat(r,"-single"),!de),ne(t,"".concat(r,"-allow-clear"),N),ne(t,"".concat(r,"-show-arrow"),Rn),ne(t,"".concat(r,"-disabled"),T),ne(t,"".concat(r,"-loading"),_),ne(t,"".concat(r,"-open"),ie),ne(t,"".concat(r,"-customize-input"),an),ne(t,"".concat(r,"-show-search"),K),t)),En=M(Bn,{ref:Ke,disabled:T,prefixCls:r,visible:Be,popupElement:at,containerWidth:In,animation:ke,transitionName:Z,dropdownStyle:D,dropdownClassName:f,direction:g,dropdownMatchSelectWidth:R,dropdownRender:k,dropdownAlign:V,placement:F,getPopupContainer:ae,empty:d,getTriggerDOMNode:function(){return Pe.current},onPopupVisibleChange:Dn,onPopupMouseEnter:nt,children:Ne?o.exports.cloneElement(Ne,{ref:rn}):M(Wn,{...n,domRef:Pe,prefixCls:r,inputElement:an,ref:$e,id:i,showSearch:K,autoClearSearchValue:L,mode:O,activeDescendantId:X,tagRender:c,values:u,open:ie,onToggleOpen:s,activeValue:W,searchValue:De,onSearch:v,onSearchSubmit:I,onRemove:He,tokenWithEnter:b})}),pn;return Ne?pn=En:pn=Le("div",{className:rt,...be,ref:ye,onMouseDown:_e,onKeyDown:Xe,onKeyUp:fe,onFocus:vn,onBlur:xn,children:[Ze&&!ie&&M("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite",children:"".concat(u.map(function(C){var w=C.label,pe=C.value;return["number","string"].includes(Sn(w))?w:pe}).join(", "))}),En,On,Mn]}),M(Ln.Provider,{value:tt,children:pn})});const Wt=function(n,e){var a=o.exports.useRef({values:new Map,options:new Map}),t=o.exports.useMemo(function(){var r=a.current,l=r.values,p=r.options,c=n.map(function(u){if(u.label===void 0){var m;return Q(Q({},u),{},{label:(m=l.get(u.value))===null||m===void 0?void 0:m.label})}return u}),g=new Map,h=new Map;return c.forEach(function(u){g.set(u.value,u),h.set(u.value,e.get(u.value)||p.get(u.value))}),a.current.values=g,a.current.options=h,c},[n,e]),i=o.exports.useCallback(function(r){return e.get(r)||a.current.options.get(r)},[e]);return[t,i]};function mn(n,e){return Kn(n).join("").toUpperCase().includes(e)}const Bt=function(n,e,a,t,i){return o.exports.useMemo(function(){if(!a||t===!1)return n;var r=e.options,l=e.label,p=e.value,c=[],g=typeof t=="function",h=a.toUpperCase(),u=g?t:function(d,y){return i?mn(y[i],h):y[r]?mn(y[l!=="children"?l:"label"],h):mn(y[p],h)},m=g?function(d){return hn(d)}:function(d){return d};return n.forEach(function(d){if(d[r]){var y=u(a,m(d));if(y)c.push(d);else{var E=d[r].filter(function(G){return u(a,m(G))});E.length&&c.push(Q(Q({},d),{},ne({},r,E)))}return}u(a,m(d))&&c.push(d)}),c},[n,t,i,a,e])};var An=0,Ht=ft();function Ut(){var n;return Ht?(n=An,An+=1):n="TEST_OR_SSR",n}function jt(n){var e=o.exports.useState(),a=te(e,2),t=a[0],i=a[1];return o.exports.useEffect(function(){i("rc_select_".concat(Ut()))},[]),n||t}var zt=["children","value"],Gt=["children"];function Xt(n){var e=n,a=e.key,t=e.props,i=t.children,r=t.value,l=Qe(t,zt);return Q({key:a,value:r!==void 0?r:a,children:i},l)}function Un(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return vt(n).map(function(a,t){if(!o.exports.isValidElement(a)||!a.type)return null;var i=a,r=i.type.isSelectOptGroup,l=i.key,p=i.props,c=p.children,g=Qe(p,Gt);return e||!r?Xt(a):Q(Q({key:"__RC_SELECT_GRP__".concat(l===null?t:l,"__"),label:l},g),{},{options:Un(c)})}).filter(function(a){return a})}function Yt(n,e,a,t,i){return o.exports.useMemo(function(){var r=n,l=!n;l&&(r=Un(e));var p=new Map,c=new Map,g=function(m,d,y){y&&typeof y=="string"&&m.set(d[y],d)};function h(u){for(var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,d=0;d<u.length;d+=1){var y=u[d];!y[a.options]||m?(p.set(y[a.value],y),g(c,y,a.label),g(c,y,t),g(c,y,i)):h(y[a.options],!0)}}return h(r),{options:r,valueOptions:p,labelOptions:c}},[n,e,a,t,i])}function Fn(n){var e=o.exports.useRef();e.current=n;var a=o.exports.useCallback(function(){return e.current.apply(e,arguments)},[]);return a}var jn=function(){return null};jn.isSelectOptGroup=!0;var zn=function(){return null};zn.isSelectOption=!0;function Jt(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var Gn=o.exports.createContext(null),Qt=["disabled","title","children","style","className"];function _n(n){return typeof n=="string"||typeof n=="number"}var qt=function(e,a){var t=wt(),i=t.prefixCls,r=t.id,l=t.open,p=t.multiple,c=t.mode,g=t.searchValue,h=t.toggleOpen,u=t.notFoundContent,m=t.onPopupScroll,d=o.exports.useContext(Gn),y=d.flattenOptions,E=d.onActiveValue,G=d.defaultActiveFirstOption,O=d.onSelect,T=d.menuItemSelectedIcon,_=d.rawValues,q=d.fieldNames,$=d.virtual,ue=d.listHeight,ve=d.listItemHeight,P="".concat(i,"-item"),W=pt(function(){return y},[l,y],function(D,f){return f[0]&&D[1]!==f[1]}),Y=o.exports.useRef(null),X=function(f){f.preventDefault()},J=function(f){Y.current&&Y.current.scrollTo(typeof f=="number"?{index:f}:f)},L=function(f){for(var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,k=W.length,V=0;V<k;V+=1){var F=(f+V*R+k)%k,ae=W[F],se=ae.group,Oe=ae.data;if(!se&&!Oe.disabled)return F}return-1},oe=o.exports.useState(function(){return L(0)}),A=te(oe,2),S=A[0],N=A[1],U=function(f){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;N(f);var k={source:R?"keyboard":"mouse"},V=W[f];if(!V){E(null,-1,k);return}E(V.value,f,k)};o.exports.useEffect(function(){U(G!==!1?L(0):-1)},[W.length,g]);var B=o.exports.useCallback(function(D){return _.has(D)&&c!=="combobox"},[c,Re(_).toString(),_.size]);o.exports.useEffect(function(){var D=setTimeout(function(){if(!p&&l&&_.size===1){var R=Array.from(_)[0],k=W.findIndex(function(V){var F=V.data;return F.value===R});k!==-1&&(U(k),J(k))}});if(l){var f;(f=Y.current)===null||f===void 0||f.scrollTo(void 0)}return function(){return clearTimeout(D)}},[l,g]);var me=function(f){f!==void 0&&O(f,{selected:!_.has(f)}),p||h(!1)};if(o.exports.useImperativeHandle(a,function(){return{onKeyDown:function(f){var R=f.which,k=f.ctrlKey;switch(R){case x.N:case x.P:case x.UP:case x.DOWN:{var V=0;if(R===x.UP?V=-1:R===x.DOWN?V=1:Jt()&&k&&(R===x.N?V=1:R===x.P&&(V=-1)),V!==0){var F=L(S+V,V);J(F),U(F,!0)}break}case x.ENTER:{var ae=W[S];ae&&!ae.data.disabled?me(ae.value):me(void 0),l&&f.preventDefault();break}case x.ESC:h(!1),l&&f.stopPropagation()}},onKeyUp:function(){},scrollTo:function(f){J(f)}}}),W.length===0)return M("div",{role:"listbox",id:"".concat(r,"_list"),className:"".concat(P,"-empty"),onMouseDown:X,children:u});var ce=Object.keys(q).map(function(D){return q[D]}),ke=function(f){return f.label},Z=function(f){var R=W[f];if(!R)return null;var k=R.data||{},V=k.value,F=R.group,ae=cn(k,!0),se=ke(R);return R?o.exports.createElement("div",{"aria-label":typeof se=="string"&&!F?se:null,...ae,key:f,role:F?"presentation":"option",id:"".concat(r,"_list_").concat(f),"aria-selected":B(V)},V):null};return Le(wn,{children:[Le("div",{role:"listbox",id:"".concat(r,"_list"),style:{height:0,width:0,overflow:"hidden"},children:[Z(S-1),Z(S),Z(S+1)]}),M(St,{itemKey:"key",ref:Y,data:W,height:ue,itemHeight:ve,fullHeight:!1,onMouseDown:X,onScroll:m,virtual:$,children:function(D,f){var R,k=D.group,V=D.groupOption,F=D.data,ae=D.label,se=D.value,Oe=F.key;if(k){var j,le=(j=F.title)!==null&&j!==void 0?j:_n(ae)?ae.toString():void 0;return M("div",{className:ze(P,"".concat(P,"-group")),title:le,children:ae!==void 0?ae:Oe})}var re=F.disabled,ge=F.title;F.children;var he=F.style,xe=F.className,de=Qe(F,Qt),K=mt(de,ce),be=B(se),we="".concat(P,"-option"),Ae=ze(P,we,xe,(R={},ne(R,"".concat(we,"-grouped"),V),ne(R,"".concat(we,"-active"),S===f&&!re),ne(R,"".concat(we,"-disabled"),re),ne(R,"".concat(we,"-selected"),be),R)),Ee=ke(D),qe=!T||typeof T=="function"||be,ye=typeof Ee=="number"?Ee:Ee||se,Pe=_n(ye)?ye.toString():void 0;return ge!==void 0&&(Pe=ge),Le("div",{...cn(K),"aria-selected":be,className:Ae,title:Pe,onMouseMove:function(){S===f||re||U(f)},onClick:function(){re||me(se)},style:he,children:[M("div",{className:"".concat(we,"-content"),children:ye}),o.exports.isValidElement(T)||be,qe&&M(sn,{className:"".concat(P,"-option-state"),customizeIcon:T,customizeIconProps:{isSelected:be},children:be?"\u2713":null})]})}})]})},Xn=o.exports.forwardRef(qt);Xn.displayName="OptionList";var Zt=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],eo=["inputValue"];function no(n){return!n||Sn(n)!=="object"}var to=o.exports.forwardRef(function(n,e){var a=n.id,t=n.mode,i=n.prefixCls,r=i===void 0?"rc-select":i,l=n.backfill,p=n.fieldNames,c=n.inputValue,g=n.searchValue,h=n.onSearch,u=n.autoClearSearchValue,m=u===void 0?!0:u,d=n.onSelect,y=n.onDeselect,E=n.dropdownMatchSelectWidth,G=E===void 0?!0:E,O=n.filterOption,T=n.filterSort,_=n.optionFilterProp,q=n.optionLabelProp,$=n.options,ue=n.children,ve=n.defaultActiveFirstOption,P=n.menuItemSelectedIcon,W=n.virtual,Y=n.listHeight,X=Y===void 0?200:Y,J=n.listItemHeight,L=J===void 0?20:J,oe=n.value,A=n.defaultValue,S=n.labelInValue,N=n.onChange,U=Qe(n,Zt),B=jt(a),me=bn(t),ce=!!(!$&&ue),ke=o.exports.useMemo(function(){return O===void 0&&t==="combobox"?!1:O},[O,t]),Z=o.exports.useMemo(function(){return Hn(p,ce)},[JSON.stringify(p),ce]),D=gn("",{value:g!==void 0?g:c,postState:function(b){return b||""}}),f=te(D,2),R=f[0],k=f[1],V=Yt($,ue,Z,_,q),F=V.valueOptions,ae=V.labelOptions,se=V.options,Oe=o.exports.useCallback(function(s){var b=Kn(s);return b.map(function(v){var I,H,z,Fe,Ve;if(no(v))I=v;else{var Xe;z=v.key,H=v.label,I=(Xe=v.value)!==null&&Xe!==void 0?Xe:z}var fe=F.get(I);if(fe){var He;H===void 0&&(H=fe==null?void 0:fe[q||Z.label]),z===void 0&&(z=(He=fe==null?void 0:fe.key)!==null&&He!==void 0?He:I),Fe=fe==null?void 0:fe.disabled,Ve=fe==null?void 0:fe.title}return{label:H,value:I,key:z,disabled:Fe,title:Ve}})},[Z,q,F]),j=gn(A,{value:oe}),le=te(j,2),re=le[0],ge=le[1],he=o.exports.useMemo(function(){var s,b=Oe(re);return t==="combobox"&&!((s=b[0])!==null&&s!==void 0&&s.value)?[]:b},[re,Oe,t]),xe=Wt(he,F),de=te(xe,2),K=de[0],be=de[1],we=o.exports.useMemo(function(){if(!t&&K.length===1){var s=K[0];if(s.value===null&&(s.label===null||s.label===void 0))return[]}return K.map(function(b){var v;return Q(Q({},b),{},{label:(v=b.label)!==null&&v!==void 0?v:b.value})})},[t,K]),Ae=o.exports.useMemo(function(){return new Set(K.map(function(s){return s.value}))},[K]);o.exports.useEffect(function(){if(t==="combobox"){var s,b=(s=K[0])===null||s===void 0?void 0:s.value;k(Rt(b)?String(b):"")}},[K]);var Ee=Fn(function(s,b){var v,I=b!=null?b:s;return v={},ne(v,Z.value,s),ne(v,Z.label,I),v}),qe=o.exports.useMemo(function(){if(t!=="tags")return se;var s=Re(se),b=function(I){return F.has(I)};return Re(K).sort(function(v,I){return v.value<I.value?-1:1}).forEach(function(v){var I=v.value;b(I)||s.push(Ee(I,v.label))}),s},[Ee,se,F,K,t]),ye=Bt(qe,Z,R,ke,_),Pe=o.exports.useMemo(function(){return t!=="tags"||!R||ye.some(function(s){return s[_||"value"]===R})?ye:[Ee(R)].concat(Re(ye))},[Ee,_,t,ye,R]),Ke=o.exports.useMemo(function(){return T?Re(Pe).sort(function(s,b){return T(s,b)}):Pe},[Pe,T]),$e=o.exports.useMemo(function(){return _t(Ke,{fieldNames:Z,childrenAsData:ce})},[Ke,Z,ce]),Ie=function(b){var v=Oe(b);if(ge(v),N&&(v.length!==K.length||v.some(function(z,Fe){var Ve;return((Ve=K[Fe])===null||Ve===void 0?void 0:Ve.value)!==(z==null?void 0:z.value)}))){var I=S?v:v.map(function(z){return z.value}),H=v.map(function(z){return hn(be(z.value))});N(me?I:I[0],me?H:H[0])}},dn=o.exports.useState(null),Ye=te(dn,2),Ze=Ye[0],We=Ye[1],fn=o.exports.useState(0),De=te(fn,2),an=De[0],Ne=De[1],rn=ve!==void 0?ve:t!=="combobox",un=o.exports.useCallback(function(s,b){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},I=v.source,H=I===void 0?"keyboard":I;Ne(b),l&&t==="combobox"&&s!==null&&H==="keyboard"&&We(String(s))},[l,t]),Ge=function(b,v,I){var H=function(){var Te,_e=be(b);return[S?{label:_e==null?void 0:_e[Z.label],value:b,key:(Te=_e==null?void 0:_e.key)!==null&&Te!==void 0?Te:b}:b,hn(_e)]};if(v&&d){var z=H(),Fe=te(z,2),Ve=Fe[0],Xe=Fe[1];d(Ve,Xe)}else if(!v&&y&&I!=="clear"){var fe=H(),He=te(fe,2),tn=He[0],vn=He[1];y(tn,vn)}},en=Fn(function(s,b){var v,I=me?b.selected:!0;I?v=me?[].concat(Re(K),[s]):[s]:v=K.filter(function(H){return H.value!==s}),Ie(v),Ge(s,I),t==="combobox"?We(""):(!bn||m)&&(k(""),We(""))}),nn=function(b,v){Ie(b);var I=v.type,H=v.values;(I==="remove"||I==="clear")&&H.forEach(function(z){Ge(z.value,!1,I)})},ie=function(b,v){if(k(b),We(null),v.source==="submit"){var I=(b||"").trim();if(I){var H=Array.from(new Set([].concat(Re(Ae),[I])));Ie(H),Ge(I,!0),k("")}return}v.source!=="blur"&&(t==="combobox"&&Ie(b),h==null||h(b))},ln=function(b){var v=b;t!=="tags"&&(v=b.map(function(H){var z=ae.get(H);return z==null?void 0:z.value}).filter(function(H){return H!==void 0}));var I=Array.from(new Set([].concat(Re(Ae),Re(v))));Ie(I),I.forEach(function(H){Ge(H,!0)})},Be=o.exports.useMemo(function(){var s=W!==!1&&G!==!1;return Q(Q({},V),{},{flattenOptions:$e,onActiveValue:un,defaultActiveFirstOption:rn,onSelect:en,menuItemSelectedIcon:P,rawValues:Ae,fieldNames:Z,virtual:s,listHeight:X,listItemHeight:L,childrenAsData:ce})},[V,$e,un,rn,en,P,Ae,Z,W,G,X,L,ce]);return M(Gn.Provider,{value:Be,children:M($t,{...U,id:B,prefixCls:r,ref:e,omitDomProps:eo,mode:t,displayValues:we,onDisplayValuesChange:nn,searchValue:R,onSearch:ie,autoClearSearchValue:m,onSearchSplit:ln,dropdownMatchSelectWidth:G,OptionList:Xn,emptyOptions:!$e.length,activeValue:Ze,activeDescendantId:"".concat(B,"_list_").concat(an)})})}),Yn=to;Yn.Option=zn;Yn.OptGroup=jn;export{$t as B,zn as O,Yn as T,jn as a,jt as b,wt as u};
