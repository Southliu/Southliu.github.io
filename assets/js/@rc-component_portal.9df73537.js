import{e as d,d as z}from"./@babel_runtime.e68bd868.js";import{r}from"./react.ab566f72.js";import{r as A}from"./react-dom.16493159.js";import{k as p,h as g,l as B,d as M,m as b,s as O,n as W}from"./rc-util.3445d029.js";var q=r.createContext(null),k=[];function N(e,t){var u=r.useState(function(){if(!p())return null;var a=document.createElement("div");return a}),s=d(u,1),n=s[0],o=r.useRef(!1),c=r.useContext(q),i=r.useState(k),m=d(i,2),f=m[0],S=m[1],_=c||(o.current?void 0:function(a){S(function(l){var y=[a].concat(z(l));return y})});function v(){n.parentElement||document.body.appendChild(n),o.current=!0}function R(){var a;(a=n.parentElement)===null||a===void 0||a.removeChild(n),o.current=!1}return g(function(){return e?c?c(v):v():R(),R},[e]),g(function(){f.length&&(f.forEach(function(a){return a()}),S(k))},[f]),[n,_]}function Y(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var j="rc-util-locker-".concat(Date.now()),P=0;function F(e){var t=!!e,u=r.useState(function(){return P+=1,"".concat(j,"_").concat(P)}),s=d(u,1),n=s[0];g(function(){if(t){var o=B(),c=Y();M(`
html body {
  overflow-y: hidden;
  `.concat(c?"width: calc(100% - ".concat(o,"px);"):"",`
}`),n)}else b(n);return function(){b(n)}},[t,n])}var x=!1;function G(e){return typeof e=="boolean"&&(x=e),x}var L=function(t){return t===!1?!1:!p()||!t?null:typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t},Z=r.forwardRef(function(e,t){var u=e.open,s=e.autoLock,n=e.getContainer;e.debug;var o=e.autoDestroy,c=o===void 0?!0:o,i=e.children,m=r.useState(u),f=d(m,2),S=f[0],_=f[1],v=S||u;r.useEffect(function(){(c||u)&&_(u)},[u,c]);var R=r.useState(function(){return L(n)}),a=d(R,2),l=a[0],y=a[1];r.useEffect(function(){var E=L(n);y(E??null)});var I=N(v&&!l),$=d(I,2),w=$[0],Q=$[1],h=l??w;F(s&&u&&p()&&(h===w||h===document.body));var D=null;if(i&&O(i)&&t){var H=i;D=H.ref}var T=W(D,t);if(!v||!p()||l===void 0)return null;var U=h===!1||G(),C=i;return t&&(C=r.cloneElement(i,{ref:T})),r.createElement(q.Provider,{value:Q},U?C:A.createPortal(C,h))});export{Z as P};
