import{j as c,r as n}from"./react.981c89a4.js";import{M as g,b as m}from"./components_Business.0c4299c0.js";import{g as C,c as S,S as r}from"./antd.c52db168.js";function x(){return c.jsx("div",{className:"absolute left-50% top-50% -translate-x-1/2 -translate-y-1/2 text-center",children:c.jsx(C,{spinning:!0})})}function w(e){const[s,u]=n.useState(!1),[l,d]=n.useState([]),i={...e};delete i.api,delete i.params;const o=n.useCallback(async()=>{var a;try{u(!0);const t=await((a=e.api)==null?void 0:a.call(e,e==null?void 0:e.params));d(t||[])}finally{u(!1)}},[e]);n.useEffect(()=>{e.value&&(l==null?void 0:l.length)===0&&o()},[e.value]);const f=a=>{var t;a&&o(),(t=e.onDropdownVisibleChange)==null||t.call(e,a)};return c.jsx(S,{allowClear:!0,maxTagCount:g,placeholder:m,...i,loading:s,treeData:l,notFoundContent:s&&c.jsx(x,{}),onDropdownVisibleChange:f})}function A(e){const[s,u]=n.useState(!1),[l,d]=n.useState([]),i={...e};delete i.api,delete i.params;const o=n.useCallback(async()=>{var a;try{u(!0);const t=await((a=e.api)==null?void 0:a.call(e,e==null?void 0:e.params));d(t||[])}finally{u(!1)}},[e]);n.useEffect(()=>{e.value&&l.length===0&&o()},[e.value]);const f=a=>{var t;a&&o(),(t=e.onDropdownVisibleChange)==null||t.call(e,a)};return c.jsx(r,{allowClear:!0,maxTagCount:g,placeholder:m,optionFilterProp:"label",...i,loading:s,options:l,notFoundContent:s&&c.jsx(x,{}),onDropdownVisibleChange:f})}export{w as A,A as a};
